{"version":3,"sources":["skylark-vr360viewer-all.js"],"names":["define","obj1","path","obj2","split","length","ns","i","name","_attach","skylark","attach","obj","main","POXP","$","e","document","getElementById","RAD","Math","PI","msg","dt","Date","p","location","protocol","host","replace","RegExp","value","toTimeString","substr","getMilliseconds","scrollTop","scrollHeight","console","log","createElement","innerHTML","appendChild","offsetHeight","pox","CanvasMatrix4","m","undefined","this","buf","Float32Array","matrix","load","makeIdentity","prototype","arguments","getAsArray","getAsWebGLFloatArray","initmatrix","transpose","tmp","invert","det","_determinant4x4","abs","_makeAdjoint","translate","x","y","z","Array","isArray","scale","rotate","angle","sinA","sin","cosA","cos","sinA2","hypot","x2","y2","z2","multRight","m11","m12","m13","m14","m21","m22","m23","m24","m31","m32","m33","m34","m41","m42","m43","m44","multLeft","ortho","left","right","bottom","top","near","far","tx","ty","tz","frustum","A","B","C","D","perspective","fovy","aspect","zNear","zFar","tan","pallarel","width","lookat","eyex","eyey","eyez","centerx","centery","centerz","upx","upy","upz","zx","zy","zz","mag","xx","xy","xz","yx","yy","yz","_determinant2x2","a","b","c","d","_determinant3x3","a1","a2","a3","b1","b2","b3","c1","c2","c3","d1","d2","d3","a4","b4","c4","d4","V3add","V3sub","V3inv","v","V3len","V3norm","s","l","V3mult","V3dot","v1","v2","V3cross","multVec4","w","ww","rotAndTrans","rx","ry","rz","q2m","v2q","rot","sqrt","sr","e2q","s1","s2","s3","qx","qy","qz","qw","qMult","q1","q2","Vector","[object Object]","args","super","_setxyz","_x","_y","_z","_w","r","g","xyz","xzy","yxz","yzx","zxy","zyx","rgb","vec","ratio","map","tgt","fill","floor","ceil","min","max","th","reduce","sub","Device","VRReady","isPresenting","WebXR","checkVR","poxp","Promise","resolve","reject","navigator","xr","isSessionSupported","then","supported","catch","err","getVRDisplays","window","VRFrameData","vrFrame","displays","vrDisplay","addEventListener","callEvent","resize","presentVR","requestSession","xrSession","session","updateRenderState","baseLayer","XRWebGLLayer","wwg","gl","framebufferScaleFactor","pixRatio","requestReferenceSpace","xrReferenceSpace","referenceSpace","requestAnimationFrame","loopf","ev","source","can","attributes","setting","highRefreshRate","foveationLevel","requestPresent","leftEye","getEyeParameters","rightEye","renderWidth","height","renderHeight","displayName","closeVR","end","exitPresent","animationFrame","vrframe","isVR","loop","submitFrame","getFrameData","pose","getViewerPose","orientation","transform","position","frame","webGLLayer","renderState","views","viewport","getViewport","rightViewMatrix","inverse","rightProjectionMatrix","projectionMatrix","rightViewport","leftViewMatrix","leftProjectionMatrix","leftViewport","setDepth","camDepth","depthNear","camNear","depthFar","camFar","POXPDevice","GPad","idx","conn","gpadcount","getGamepads","gamepads","init","cb","ret","axes","egp","gamepad","index","get","lastGp","buttons","pressed","touched","pad","gp","emu","inputSources","is","mapping","hand","handedness","getPose","gripSpace","lgp","bf","pf","tf","dbtn","dpad","dtouch","stick","eaxes","set","clear","cf","Pointer","t","touch","gesture","EV_S","EV_E","EV_M","self","pos","touches","pageX","target","offsetLeft","pageY","offsetTop","offsetX","offsetY","startev","type","EV_O","lastd","mf","up","ex","ey","dx","dy","preventDefault","out","move","ox","oy","setevent","first","down","sx","sy","contextmenu","px","py","wheel","deltaY","rotation","gyro","or","gamma","alpha","beta","Mat4","Camera","cam","camCX","camCY","camCZ","camVX","camVY","camVZ","camUPX","camUPY","camUPZ","camRX","camRY","camRZ","camd","camAngle","camWidth","camGyro","gPad","sbase","moveSpeed","rotAngle","moveY","padMoveUD","padRot","headVec","cama","rotX","rotY","gev","gx","gy","gz","vcx","vcy","vcz","vrx","vry","vrz","keydown","vr","camVP","camP","camV","vrv","vrp","tempM","pvy","pvx","basePos","baseRot","from","campos","headOri","headPos","f","keymag","md","altKey","key","cthis","am","dir","time","ft","ctime","ltime","camMode","acx","acy","acz","ad","av","al","aex","aey","aez","gpad","gpad2","mv","opt","cx","cy","cz","velocity","vx","vy","vz","sf","render","ez","cmat","leftCorrMtx","rightCorrMtx","slice","ivr","ivl","camX","camY","camZ","WBind","create","prop","_elem","_check","_func","_tobjs","_getobj","elem","root","querySelectorAll","_getval","checked","o","selected","push","parseFloat","bindHtml","func","Object","defineProperty","configurable","NodeList","val","bindStyle","css","style","bindAttr","attr","getAttribute","setAttribute","bindInput","exist","_getprop","chk","vi","_setval","change","input","getCheck","setFunc","bindAllInput","base","na","n","bindAll","selector","tagName","setTimer","to","ttime","setTimerM","cd","isNaN","match","$1","sfx","$2","delay","now","getTime","st","et","tl","tc","clearTimer","updateTimer","efunc","tfunc","addev","id","event","fn","data","sel","ee","html","WWG","version","vsize","float","vec2","vec3","vec4","mat2","mat3","mat4","canvas","getContext","ext_vao","getExtension","vao_create","createVertexArrayOES","vao_bind","bindVertexArrayOES","ext_inst","inst_divisor","vertexAttribDivisorANGLE","inst_draw","drawElementsInstancedANGLE","inst_drawa","drawArrayInstancedANGLE","ext_anis","ext_ftex","ext_mrt","mrt_att","COLOR_ATTACHMENT0_WEBGL","mrt_draw","drawBuffersWEBGL","ext_i32","ext_mv","dmodes","tri_strip","TRIANGLE_STRIP","tri","TRIANGLES","points","POINTS","lines","LINES","line_strip","LINE_STRIP","init2","createVertexArray","bindVertexArray","vertexAttribDivisor","drawElementsInstanced","drawArraysInstanced","ext_anis_max","getParameter","MAX_TEXTURE_MAX_ANISOTROPY_EXT","MAX_DRAW_BUFFERS","COLOR_ATTACHMENT0","drawBuffers","loadAjax","src","req","XMLHttpRequest","open","responseType","onload","status","response","statusText","onerror","send","loadImageAjax","timg","Image","url","URL","createObjectURL","revokeObjectURL","createRender","Render","env","modelCount","setUnivec","uni","ar","dim","concat","cache","uniformMatrix2fv","f32Array","uniformMatrix3fv","uniformMatrix4fv","uniform2fv","uniform3fv","uniform4fv","uniform1i","uniform2iv","i16Array","uniform3iv","uniform4iv","uniform1iv","uniform1f","uniform1fv","getTexIndex","activeTexture","TEXTURE0","texunit","bindTexture","TEXTURE_2D","texobj","texture","video","texImage2D","RGBA","UNSIGNED_BYTE","setShader","tu","parse_shader","att","def","ln","trim","u","$3","k","parseInt","vshader","fshader","vss","fss","pr","text","result","all","res","createShader","VERTEX_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","FRAGMENT_SHADER","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","useProgram","vs_att","getAttribLocation","vs_uni","getUniformLocation","fr","fs_uni","setUniValues","genTex","img","option","flevel","formatstr","RGB","gray","LUMINANCE","grayalpha","LUMINANCE_ALPHA","format","tex","createTexture","isarray","RGBA32F","FLOAT","nomipmap","generateMipmap","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","LINEAR","LINEAR_MIPMAP_LINEAR","repeat","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","MIRRORED_REPEAT","REPEAT","anisotropy","TEXTURE_MAX_ANISOTROPY_EXT","loadTex","cors","buffer","mrt","fb","array","addTex","texdata","removeTex","frameBuffer","os","ttype","tfilter","fblist","createFramebuffer","bindFramebuffer","FRAMEBUFFER","renderBuffer","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","renderbufferStorage","DEPTH_COMPONENT16","framebufferRenderbuffer","DEPTH_ATTACHMENT","fTexture","framebufferTexture2D","setRender","cull","enable","CULL_FACE","disable","face_cw","frontFace","CW","CCW","nodepth","DEPTH_TEST","model","obuf","setObj","offscreen","cc","clear_color","clearColor","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","Int16Array","i32Array","Uint32Array","flag","vao","geo","inst","vbo","createBuffer","bindBuffer","ARRAY_BUFFER","ats","vtx_at","ibo","ibuf","ofs","disableVertexAttribArray","enableVertexAttribArray","vertexAttribPointer","ELEMENT_ARRAY_BUFFER","iats","itl","divisor","bufferData","vtx","DYNAMIC_DRAW","STATIC_DRAW","i32","getModels","filter","getModelIdx","addModel","removeModel","mi","updateModel","mode","subflag","bufferSubData","updateModelInstance","count","getModelData","updateTex","tdat","texSubImage2D","RGBA16F","wx","wy","pushUniValues","update_uni","updateUniValues","draw","update","cls","models","cmodel","hide","aofs","preFunction","blend","BLEND","blendFuncSeparate","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ONE","gmode","UNSIGNED_INT","UNSIGNED_SHORT","drawElements","drawArrays","postFunction","WWModel","param","wz","div","divx","divy","divz","ninv","PHI","r05","r04","r03","r02","r01","s11","s06","j","pdiv","PH","yi","xdiv","xi","li","xofs","xd","pc","sc","j2","cap","cubemap","parametricModel","pz","nx","ny","nz","mu","start","du","dv","mx","mz","my","shape","vt","si","vs","h","vl","vv","_uv","tridiv","atan2","acos","i1","i2","i3","v3","v12","v23","v31","obj_v","obj_n","obj_t","obj_i","pu","pv","norm","uv","indices","iu","iv","dud","dvd","du0","du1","nux","nuy","nuz","dv0","dv1","nvx","nvy","nvz","nl","addvec","obj_c","vbuf","sn","ii","pa","vn","lj","vm","nv","ss","m4","inv","pp","Number","MAX_VALUE","sz","MIN_VALUE","lbufsize","decoder","TextDecoder","fetch","method","async","resp","ok","reader","body","getReader","Uint8Array","bi","done","read","decode","char","xic","len","ll","ix","ind","zup","nogroup","nomtl","xl","rxi","usemtl","group","pmtls","mtlspath","loadLines","cmd","loadMtl","join","groups","objs","mtlname","mtls","allmtls","assign","H","S","V","ih","fl","rr","gg","bb","PoxCamera","Player","HTMLElement","querySelector","initopt","preserveDrawingBuffer","capture","antialias","xrCompatible","useWebGL2","noWebGL2","needWebGL2","Param","ui","isStereo","autorot","pause","fps","camselect","synth","eventListener","gPad2","zIndex","padding","border","opacity","parentNode","keyElelment","focus","setEvent","vrReady","cam0","createCamera","setCam","cam1","ccam","el","active","vrchange","webkitRequestFullscreen","ssize","offsetWidth","webkitFullscreenElement","innerWidth","innerHeight","dragging","forEach","devicePixelRatio","uidom","fs","POX","loadImage","addEvent","exitVR","Vdistance","setScene","scene","stack","errCb","parseJS","eval","Function","emsg","constructor","needWGL2","setParam","inc","cancelAnimationFrame","unload","kind","rtime","vrmode","leftPad","rightPad","primaryPad","secondaryPad","dom","uparam","step","tag","_tohex","toString","_setdisp","sset","bm","mMtx","mvMtx","vpMtx","iMtx","miMtx","renderStart","clearEvent","tt","rt","fc","timestamp","ct","rp","lp","sp","p1","p2","setPad","camm","getMtx","upd","sort","layer","bl","vp","framebuffer","mtx2","modelMtx2","stereo","getParentMtx","parent","mm","mod","gi","ggi","uni0","modelMatrix","vpMatrix","mvpMatrix","invMatrix","minvMatrix","uni1","vpMatrix_l","vpMatrix_r","resolution","camMatirx","eyevec","PoxPlayer","player","copyright","display","alert","setError","closest","enterVR","href","v360"],"mappings":"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AAA,UAAA,aAAA,WAAA,UAAA,aAAA,WAAA,KAAA,aAAA,UAAA,SAAA,aAAA,UAAA,UAAA,YAAA,UAAA,UAAA,YAAA,UAAA,SAAA,YAAA,WAAA,KAAA,YAAA,WAAA,UAAA,YAAA,WAAA,UAAA,aAAA,WAAA,UAAA,aAAA,WAAA,UAAA,YAAA,WAAA,UAAA,YAAA,WAAA,UAAA,aAAA,WAAA,UAAA,YAAA,WAAA,UAAA,YAAA,WAAA,UAAA,YAAA,WAAA,UAAA,WAAA,WAAA,UAAA,WAAA,WAAA,UAAA,aAAA,WAAA,SAAA,YAAA,WAAA,QAAA,aAAA,WAAA,UAAA,aAAA,UAAA,UAAA,YAAA,UAAA,UAAA,YAAA,UAAA,UAAA,YAAA,WAAA,UAAA,aAAA,WAAA,UAAA,aAAA,WAAA,UAAA,aAAA,WAAA,UAAA,YAAA,UAAA,UAAA,aAAA,UAAA,UAAA,YAAA,SAAA,UAAA,YAAA,UAAA,UAAA,aAAA,UAAA,UAAA,aAAA,UAAA,UAAA,YAAA,UAAA,UAAA,YAAA,UAAA,UAAA,aAAA,UAAA,UAAA,aAAA,SAAA,UAAA,YAAA,UAAA,UAAA,YAAA,UAAA,UAAA,WAAA,UAAA,UAAA,WAAA,UAAA,UAAA,WAAA,UAAA,UAAA,YAAA,UAAA,UAAA,YAAA,UAAA,UAAA,WAAA,UAAA,SAAA,YAAA,UAAA,UAAA,YAAA,UAAA,UAAA,YAAA,WAAA,UAAA,WAAA,UAAA,UAAA,YAAA,WAAA,UAAA,YAAA,WAAA,UAAA,YAAA,UAAA,UAAA,YAAA,SAAA,UAAA,YAAA,SAAA,UAAA,WAAA,WAAA,UAAA,YAAA,WAAA,QAAA,YAAA,WAAA,SAAA,YAAA,WAAA,WAAA,aAAA,UAAA,WAAA,aAAA,WAAA,UAAA,aAAA,WAAA,WAAA,aAAA,UAAA,WAAA,aAAA,WAAA,WAAA,aAAA,WAAA,WAAA,aAAA,WAAA,WAAA,aAAA,WAAA,WAAA,aAAA,WAAA,WAAA,aAAA,WAAA,WAAA,aAAA,WAAA,WAAA,aAAA,UAAA,WAAA,aAAA,UAAA,WAAA,aAAA,UAAA,WAAA,aAAA,UAAA,WAAA,aAAA,UAAA,WAAA,aAAA,UAAA,WAAA,aAAA,UAAA,WAAA,aAAA,WAAA,WAAA,aAAA,UAAA,WAAA,aAAA,UAAA,UAAA,aAAA,UAAA,WAAA,aAAA,UAAA,WAAA,aAAA,UAAA,WAAA,YAAA,UAAA,WAAA,YAAA,UAAA,WAAA,YAAA,UAAA,WAAA,YAAA,UAAA,WAAA,YAAA,UAAA,WAAA,YAAA,WAAA,WAAA,YAAA,UAAA,WAAA,YAAA,UAAA,WAAA,YAAA,UAAA,WAAA,YAAA,UAAA,UAAA,YAAA,UAAA,WAAA,YAAA,SAAA,WAAA,YAAA,UAAA,WAAA,YAAA,UAAA,WAAA,YAAA,WAAA,WAAA,WAAA,WAAA,WAAA,YAAA,WAAA,WAAA,YAAA,WAAA,WAAA,YAAA,WAAA,WAAA,YAAA,WAAA,WAAA,YAAA,WAAA,WAAA,WAAA,WAAA,WAAA,YAAA,WAAA,UAAA,YAAA,WAAA,WAAA,YAAA,WAAA,WAAA,aAAA,WAAA,WAAA,aAAA,WAAA,WAAA,aAAA,WAAA,GAAA,aAAA,UAAA,UAAA,aAAA,UAAA,WAAA,YAAA,UAAA,WAAA,YAAA,SAAA,WAAA,YAAA,WAAA,MAAA,YAAA,UAAA,WAAA,YAAA,WAAA,WAAA,YAAAG,IAAA,EAAA,EAAA,GAAA,GAAA,GAAA,KAAA,EAAA,GAAA,GAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,EAAA,EAAA,GAAA,KAAA,EAAA,EAAA,GAAA,GAAA,GAAA,KAAA,EAAA,EAAA,GAAA,KAAA,EAAA,EAAA,GAAA,GAAA,GAAA,KAAA,EAAA,EAAA,GAAA,KAAA,EAAA,EAAA,GAAA,GAAA,GAAA,KAAA,EAAA,EAAA,GAAA,KAAA,EAAA,EAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,IAAA,IAAA,KAAA,GAAA,IAAA,IAAA,KAAA,GAAA,IAAA,IAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,IAAA,IAAA,KAAA,GAAA,IAAA,IAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,IAAA,IAAA,KAAA,GAAA,IAAA,IAAA,KAAA,GAAA,IAAA,IAAA,IAAA,IAAA,KAAA,GAAA,IAAA,IAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,IAAA,IAAA,KAAA,GAAA,IAAA,IAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,GAAA,IAAA,IAAA,KAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,GAAA,KAAA,GAAA,GAAA,IAAA,MAAA,GAAA,IAAA,IAAA,IAAA,IAAA,KAAA,GAAA,IAAA,IAAA,KAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,MAAA,IAAA,IAAA,IAAA,MAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,IAAA,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","file":"../skylark-vr360viewer-all.js","sourcesContent":["define('skylark-langx-ns/_attach',[],function(){\r\n    return  function attach(obj1,path,obj2) {\r\n        if (typeof path == \"string\") {\r\n            path = path.split(\".\");//[path]\r\n        };\r\n        var length = path.length,\r\n            ns=obj1,\r\n            i=0,\r\n            name = path[i++];\r\n\r\n        while (i < length) {\r\n            ns = ns[name] = ns[name] || {};\r\n            name = path[i++];\r\n        }\r\n\r\n        return ns[name] = obj2;\r\n    }\r\n});\ndefine('skylark-langx-ns/ns',[\r\n    \"./_attach\"\r\n], function(_attach) {\r\n    var skylark = {\r\n    \tattach : function(path,obj) {\r\n    \t\treturn _attach(skylark,path,obj);\r\n    \t}\r\n    };\r\n    return skylark;\r\n});\r\n\ndefine('skylark-langx-ns/main',[\r\n\t\"./ns\"\r\n],function(skylark){\r\n\treturn skylark;\r\n});\ndefine('skylark-langx-ns', ['skylark-langx-ns/main'], function (main) { return main; });\n\ndefine('skylark-langx/skylark',[\n    \"skylark-langx-ns\"\n], function(ns) {\n\treturn ns;\n});\n\ndefine('skylark-pox/pox',[\n\t\"skylark-langx/skylark\"\n],function(skylark){\n\tconst  POXP = {} ;\n\tfunction $(e){return document.getElementById(e)}\n\n\tPOXP.$ = $;\n\t\n\tPOXP.RAD = Math.PI/180\n\n\tPOXP.msg = (msg)=> {\n\t\tlet dt = new Date \n\t\t\n\t\tif( typeof msg == \"string\") {\n\t\t\tlet p = location.protocol + \"//\" + location.host\n\t\t\tmsg = msg.replace(new RegExp(p,\"g\"),\"\").replace(/data:[^:]+/,\"module\")\n\t\t}\n\t\tif($(\"msglog\")) {\n\t\t\t$(\"msglog\").value += dt.toTimeString().substr(0,8)+\n\t\t\t\t\".\"+(\"000\"+dt.getMilliseconds()).substr(-3)+\" \"+msg +\"\\n\"\n\t  \t$(\"msglog\").scrollTop = $(\"msglog\").scrollHeight ;\n\t\t}\n\t\tif(!$(\"msgc\")) {\n\t\t\tconsole.log(msg)\n\t\t\treturn\n\t\t}\n\n\t\tconst e = document.createElement(\"div\")\n\n\t\te.innerHTML =  msg\n\n\t\t$(\"msgc\").appendChild(e) ;\n\t\t$(\"msg\").scrollTop = $(\"msgc\").offsetHeight ;\n\t}\n\n\treturn skylark.attach(\"intg.pox\",POXP);\n});\ndefine('skylark-pox/CanvasMatrix4',[\n    \"./pox\"\n],function(pox){\n    /*\n     * Copyright (C) 2009 Apple Inc. All Rights Reserved.\n     *\n     * Redistribution and use in source and binary forms, with or without\n     * modification, are permitted provided that the following conditions\n     * are met:\n     * 1. Redistributions of source code must retain the above copyright\n     *    notice, this list of conditions and the following disclaimer.\n     * 2. Redistributions in binary form must reproduce the above copyright\n     *    notice, this list of conditions and the following disclaimer in the\n     *    documentation and/or other materials provided with the distribution.\n     *\n     * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS'' AND ANY\n     * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n     * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\n     * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR\n     * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\n     * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\n     * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\n     * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\n     * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n     * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n     * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. \n     */\n    /* modified by wakufactory */\n    /*\n        CanvasMatrix4 class\n        \n        This class implements a 4x4 matrix. It has functions which\n        duplicate the functionality of the OpenGL matrix stack and\n        glut functions.\n        \n        IDL:\n        \n        [\n            Constructor(in CanvasMatrix4 matrix),           // copy passed matrix into new CanvasMatrix4\n            Constructor(in sequence<float> array)           // create new CanvasMatrix4 with 16 floats (row major)\n            Constructor()                                   // create new CanvasMatrix4 with identity matrix\n        ]\n        interface CanvasMatrix4 {\n            attribute float buf[16]\n\n            void load(in CanvasMatrix4 matrix);                 // copy the values from the passed matrix\n            void load(in sequence<float> array);                // copy 16 floats into the matrix\n            sequence<float> getAsArray();                       // return the matrix as an array of 16 floats\n            WebGLFloatArray getAsWebGLFloatArray();           // return the matrix as a WebGLFloatArray with 16 values\n            void makeIdentity();                                // replace the matrix with identity\n            void transpose();                                   // replace the matrix with its transpose\n            void invert();                                      // replace the matrix with its inverse\n            \n            void translate(in float x, in float y, in float z); // multiply the matrix by passed translation values on the right\n            void scale(in float x, in float y, in float z);     // multiply the matrix by passed scale values on the right\n            void rotate(in float angle,                         // multiply the matrix by passed rotation values on the right\n                        in float x, in float y, in float z);    // (angle is in degrees)\n            void multRight(in CanvasMatrix matrix);             // multiply the matrix by the passed matrix on the right\n            void multLeft(in CanvasMatrix matrix);              // multiply the matrix by the passed matrix on the left\n            void ortho(in float left, in float right,           // multiply the matrix by the passed ortho values on the right\n                       in float bottom, in float top, \n                       in float near, in float far);\n            void frustum(in float left, in float right,         // multiply the matrix by the passed frustum values on the right\n                         in float bottom, in float top, \n                         in float near, in float far);\n            void perspective(in float fovy, in float aspect,    // multiply the matrix by the passed perspective values on the right\n                             in float zNear, in float zFar);\n            void lookat(in float eyex, in float eyey, in float eyez,    // multiply the matrix by the passed lookat \n                        in float ctrx, in float ctry, in float ctrz,    // values on the right\n                        in float upx, in float upy, in float upz);\n        }\n    */\n\n    var CanvasMatrix4 = function(m) {\n        if(m!=undefined && m.name == \"Float32Array\") {\n            this.buf = m ;\n            return this ;\n        }\n        this.buf = new Float32Array(16)\n        this.matrix = null\n        if (typeof m == 'object') {\n            if (\"length\" in m && m.length >= 16) {\n                this.load(m);\n                return this;\n            }\n            else if (m instanceof CanvasMatrix4) {\n                this.load(m);\n                return this;\n            }\n        }\n        this.makeIdentity();\n        return this ;\n    }\n    CanvasMatrix4.RAD = pox.RAD;\n\n    CanvasMatrix4.prototype.load = function()\n    {\n        if (arguments.length == 1 && typeof arguments[0] == 'object') {\n            var matrix = arguments[0];\n            \n            if (\"length\" in matrix && matrix.length == 16) {\n                this.buf[0] = matrix[0];\n                this.buf[1] = matrix[1];\n                this.buf[2] = matrix[2];\n                this.buf[3] = matrix[3];\n\n                this.buf[4] = matrix[4];\n                this.buf[5] = matrix[5];\n                this.buf[6] = matrix[6];\n                this.buf[7] = matrix[7];\n\n                this.buf[8] = matrix[8];\n                this.buf[9] = matrix[9];\n                this.buf[10] = matrix[10];\n                this.buf[11] = matrix[11];\n\n                this.buf[12] = matrix[12];\n                this.buf[13] = matrix[13];\n                this.buf[14] = matrix[14];\n                this.buf[15] = matrix[15];\n                return this ;\n            }\n                \n            if (arguments[0] instanceof CanvasMatrix4) {\n            \n                this.buf[0] = matrix.buf[0];\n                this.buf[1] = matrix.buf[1];\n                this.buf[2] = matrix.buf[2];\n                this.buf[3] = matrix.buf[3];\n\n                this.buf[4] = matrix.buf[4];\n                this.buf[5] = matrix.buf[5];\n                this.buf[6] = matrix.buf[6];\n                this.buf[7] = matrix.buf[7];\n\n                this.buf[8] = matrix.buf[8];\n                this.buf[9] = matrix.buf[9];\n                this.buf[10] = matrix.buf[10];\n                this.buf[11] = matrix.buf[11];\n\n                this.buf[12] = matrix.buf[12];\n                this.buf[13] = matrix.buf[13];\n                this.buf[14] = matrix.buf[14];\n                this.buf[15] = matrix.buf[15];\n                return this ;\n            }\n        }\n        \n        this.makeIdentity();\n        return this ;\n    }\n\n    CanvasMatrix4.prototype.getAsArray = function()\n    {\n        return [\n            this.buf[0], this.buf[1], this.buf[2], this.buf[3], \n            this.buf[4], this.buf[5], this.buf[6], this.buf[7], \n            this.buf[8], this.buf[9], this.buf[10], this.buf[11], \n            this.buf[12], this.buf[13], this.buf[14], this.buf[15]\n        ];\n    }\n\n    CanvasMatrix4.prototype.getAsWebGLFloatArray = function()\n    {\n        return this.buf\n    }\n    CanvasMatrix4.prototype.initmatrix = function() {\n        if(!this.matrix) this.matrix = new CanvasMatrix4 \n        this.matrix.makeIdentity() \n        return this ;\n    }\n    CanvasMatrix4.prototype.makeIdentity = function()\n    {\n        this.buf[0] = 1;\n        this.buf[1] = 0;\n        this.buf[2] = 0;\n        this.buf[3] = 0;\n        \n        this.buf[4] = 0;\n        this.buf[5] = 1;\n        this.buf[6] = 0;\n        this.buf[7] = 0;\n        \n        this.buf[8] = 0;\n        this.buf[9] = 0;\n        this.buf[10] = 1;\n        this.buf[11] = 0;\n        \n        this.buf[12] = 0;\n        this.buf[13] = 0;\n        this.buf[14] = 0;\n        this.buf[15] = 1;\n        return this ;\n    }\n\n    CanvasMatrix4.prototype.transpose = function()\n    {\n        var tmp = this.buf[1];\n        this.buf[1] = this.buf[4];\n        this.buf[4] = tmp;\n        \n        tmp = this.buf[2];\n        this.buf[2] = this.buf[8];\n        this.buf[8] = tmp;\n        \n        tmp = this.buf[3];\n        this.buf[3] = this.buf[12];\n        this.buf[12] = tmp;\n        \n        tmp = this.buf[6];\n        this.buf[6] = this.buf[9];\n        this.buf[9] = tmp;\n        \n        tmp = this.buf[7];\n        this.buf[7] = this.buf[13];\n        this.buf[13] = tmp;\n        \n        tmp = this.buf[11];\n        this.buf[11] = this.buf[14];\n        this.buf[14] = tmp;\n        return this ;\n    }\n\n    CanvasMatrix4.prototype.invert = function()\n    {\n        // Calculate the 4x4 determinant\n        // If the determinant is zero, \n        // then the inverse matrix is not unique.\n        var det = this._determinant4x4();\n\n        if (Math.abs(det) < 1e-8)\n            return null;\n\n        this._makeAdjoint();\n\n        // Scale the adjoint matrix to get the inverse\n        this.buf[0] /= det;\n        this.buf[1] /= det;\n        this.buf[2] /= det;\n        this.buf[3] /= det;\n        \n        this.buf[4] /= det;\n        this.buf[5] /= det;\n        this.buf[6] /= det;\n        this.buf[7] /= det;\n        \n        this.buf[8] /= det;\n        this.buf[9] /= det;\n        this.buf[10] /= det;\n        this.buf[11] /= det;\n        \n        this.buf[12] /= det;\n        this.buf[13] /= det;\n        this.buf[14] /= det;\n        this.buf[15] /= det;\n        return this ;\n    }\n\n    CanvasMatrix4.prototype.translate = function(x,y,z)\n    {\n        if(Array.isArray(x)|| x instanceof Float32Array) {\n            y = x[1]; z = x[2]; x = x[0];\n        }\n        if (x == undefined)\n            x = 0;\n            if (y == undefined)\n                y = 0;\n        if (z == undefined)\n            z = 0;\n        \n    //    this.initmatrix()\n    //    this.matrix.buf[12] = x;\n    //    this.matrix.buf[13] = y;\n    //    this.matrix.buf[14] = z;\n    //    this.multRight(this.matrix);\n        this.buf[12] += x;\n        this.buf[13] += y;\n        this.buf[14] += z;\n        return this ;\n    }\n\n    CanvasMatrix4.prototype.scale = function(x,y,z)\n    {\n        if(Array.isArray(x)|| x instanceof Float32Array) {\n            y = x[1]; z = x[2]; x = x[0];\n        }\n        if (x == undefined)\n            x = 1;\n        if (z == undefined) {\n            if (y == undefined) {\n                y = x;\n                z = x;\n            }\n            else\n                z = 1;\n        }\n        else if (y == undefined)\n            y = x;\n        \n    //    this.initmatrix()\n    //    this.matrix.buf[0] = x;\n    //    this.matrix.buf[5] = y;\n    //    this.matrix.buf[10] = z;\n    //    this.multRight(this.matrix);\n        \n        this.buf[0] *= x ; this.buf[1] *= x ; this.buf[2] *= x ;\n        this.buf[4] *= y ; this.buf[5] *= y ; this.buf[6] *= y ;\n        this.buf[8] *= z ; this.buf[9] *= z ; this.buf[10] *= z ;\n        return this ;\n    }\n\n    CanvasMatrix4.prototype.rotate = function(angle,x,y,z)\n    {\n        if(angle==0) return this \n        if(Array.isArray(x)|| x instanceof Float32Array) {\n            y = x[1]; z = x[2]; x = x[0];\n        }\n        // angles are in degrees. Switch to radians\n        angle = angle * CanvasMatrix4.RAD ;\n        \n        angle /= 2;\n        var sinA = Math.sin(angle);\n        var cosA = Math.cos(angle);\n        var sinA2 = sinA * sinA;\n     \n        this.initmatrix()\n\n        // optimize case where axis is along major axis\n        if (x == 1 && y == 0 && z == 0) {\n            this.matrix.buf[5] = 1 - 2 * sinA2;\n            this.matrix.buf[6] = 2 * sinA * cosA;\n            this.matrix.buf[9] = -2 * sinA * cosA;\n            this.matrix.buf[10] = 1 - 2 * sinA2;\n        } else if (x == 0 && y == 1 && z == 0) {\n            this.matrix.buf[0] = 1 - 2 * sinA2;\n            this.matrix.buf[2] = -2 * sinA * cosA;\n            this.matrix.buf[8] = 2 * sinA * cosA;\n            this.matrix.buf[10] = 1 - 2 * sinA2;\n        } else if (x == 0 && y == 0 && z == 1) {\n            this.matrix.buf[0] = 1 - 2 * sinA2;\n            this.matrix.buf[1] = 2 * sinA * cosA;\n            this.matrix.buf[4] = -2 * sinA * cosA;\n            this.matrix.buf[5] = 1 - 2 * sinA2;\n        } else {\n            // normalize\n            var length = Math.hypot(x,y,z);\n            if (length == 0) {\n                // bad vector, just use something reasonable\n                x = 0;\n                y = 0;\n                z = 1;\n            } else if (length != 1) {\n                x /= length;\n                y /= length;\n                z /= length;\n            }\n            var x2 = x*x;\n            var y2 = y*y;\n            var z2 = z*z;\n        \n            this.matrix.buf[0] = 1 - 2 * (y2 + z2) * sinA2;\n            this.matrix.buf[1] = 2 * (x * y * sinA2 + z * sinA * cosA);\n            this.matrix.buf[2] = 2 * (x * z * sinA2 - y * sinA * cosA);\n            this.matrix.buf[4] = 2 * (y * x * sinA2 - z * sinA * cosA);\n            this.matrix.buf[5] = 1 - 2 * (z2 + x2) * sinA2;\n            this.matrix.buf[6] = 2 * (y * z * sinA2 + x * sinA * cosA);\n            this.matrix.buf[8] = 2 * (z * x * sinA2 + y * sinA * cosA);\n            this.matrix.buf[9] = 2 * (z * y * sinA2 - x * sinA * cosA);\n            this.matrix.buf[10] = 1 - 2 * (x2 + y2) * sinA2;\n        }\n        this.multRight(this.matrix);\n        return this ;\n    }\n\n    CanvasMatrix4.prototype.multRight = function(matrix)\n    {\n        var m11 = (this.buf[0] * matrix.buf[0] + this.buf[1] * matrix.buf[4]\n                   + this.buf[2] * matrix.buf[8] + this.buf[3] * matrix.buf[12]);\n        var m12 = (this.buf[0] * matrix.buf[1] + this.buf[1] * matrix.buf[5]\n                   + this.buf[2] * matrix.buf[9] + this.buf[3] * matrix.buf[13]);\n        var m13 = (this.buf[0] * matrix.buf[2] + this.buf[1] * matrix.buf[6]\n                   + this.buf[2] * matrix.buf[10] + this.buf[3] * matrix.buf[14]);\n        var m14 = (this.buf[0] * matrix.buf[3] + this.buf[1] * matrix.buf[7]\n                   + this.buf[2] * matrix.buf[11] + this.buf[3] * matrix.buf[15]);\n\n        var m21 = (this.buf[4] * matrix.buf[0] + this.buf[5] * matrix.buf[4]\n                   + this.buf[6] * matrix.buf[8] + this.buf[7] * matrix.buf[12]);\n        var m22 = (this.buf[4] * matrix.buf[1] + this.buf[5] * matrix.buf[5]\n                   + this.buf[6] * matrix.buf[9] + this.buf[7] * matrix.buf[13]);\n        var m23 = (this.buf[4] * matrix.buf[2] + this.buf[5] * matrix.buf[6]\n                   + this.buf[6] * matrix.buf[10] + this.buf[7] * matrix.buf[14]);\n        var m24 = (this.buf[4] * matrix.buf[3] + this.buf[5] * matrix.buf[7]\n                   + this.buf[6] * matrix.buf[11] + this.buf[7] * matrix.buf[15]);\n\n        var m31 = (this.buf[8] * matrix.buf[0] + this.buf[9] * matrix.buf[4]\n                   + this.buf[10] * matrix.buf[8] + this.buf[11] * matrix.buf[12]);\n        var m32 = (this.buf[8] * matrix.buf[1] + this.buf[9] * matrix.buf[5]\n                   + this.buf[10] * matrix.buf[9] + this.buf[11] * matrix.buf[13]);\n        var m33 = (this.buf[8] * matrix.buf[2] + this.buf[9] * matrix.buf[6]\n                   + this.buf[10] * matrix.buf[10] + this.buf[11] * matrix.buf[14]);\n        var m34 = (this.buf[8] * matrix.buf[3] + this.buf[9] * matrix.buf[7]\n                   + this.buf[10] * matrix.buf[11] + this.buf[11] * matrix.buf[15]);\n\n        var m41 = (this.buf[12] * matrix.buf[0] + this.buf[13] * matrix.buf[4]\n                   + this.buf[14] * matrix.buf[8] + this.buf[15] * matrix.buf[12]);\n        var m42 = (this.buf[12] * matrix.buf[1] + this.buf[13] * matrix.buf[5]\n                   + this.buf[14] * matrix.buf[9] + this.buf[15] * matrix.buf[13]);\n        var m43 = (this.buf[12] * matrix.buf[2] + this.buf[13] * matrix.buf[6]\n                   + this.buf[14] * matrix.buf[10] + this.buf[15] * matrix.buf[14]);\n        var m44 = (this.buf[12] * matrix.buf[3] + this.buf[13] * matrix.buf[7]\n                   + this.buf[14] * matrix.buf[11] + this.buf[15] * matrix.buf[15]);\n        \n        this.buf[0] = m11;\n        this.buf[1] = m12;\n        this.buf[2] = m13;\n        this.buf[3] = m14;\n        \n        this.buf[4] = m21;\n        this.buf[5] = m22;\n        this.buf[6] = m23;\n        this.buf[7] = m24;\n        \n        this.buf[8] = m31;\n        this.buf[9] = m32;\n        this.buf[10] = m33;\n        this.buf[11] = m34;\n        \n        this.buf[12] = m41;\n        this.buf[13] = m42;\n        this.buf[14] = m43;\n        this.buf[15] = m44;\n        return this ;\n    }\n\n    CanvasMatrix4.prototype.multLeft = function(matrix)\n    {\n        var m11 = (matrix.buf[0] * this.buf[0] + matrix.buf[1] * this.buf[4]\n                   + matrix.buf[2] * this.buf[8] + matrix.buf[3] * this.buf[12]);\n        var m12 = (matrix.buf[0] * this.buf[1] + matrix.buf[1] * this.buf[5]\n                   + matrix.buf[2] * this.buf[9] + matrix.buf[3] * this.buf[13]);\n        var m13 = (matrix.buf[0] * this.buf[2] + matrix.buf[1] * this.buf[6]\n                   + matrix.buf[2] * this.buf[10] + matrix.buf[3] * this.buf[14]);\n        var m14 = (matrix.buf[0] * this.buf[3] + matrix.buf[1] * this.buf[7]\n                   + matrix.buf[2] * this.buf[11] + matrix.buf[3] * this.buf[15]);\n\n        var m21 = (matrix.buf[4] * this.buf[0] + matrix.buf[5] * this.buf[4]\n                   + matrix.buf[6] * this.buf[8] + matrix.buf[7] * this.buf[12]);\n        var m22 = (matrix.buf[4] * this.buf[1] + matrix.buf[5] * this.buf[5]\n                   + matrix.buf[6] * this.buf[9] + matrix.buf[7] * this.buf[13]);\n        var m23 = (matrix.buf[4] * this.buf[2] + matrix.buf[5] * this.buf[6]\n                   + matrix.buf[6] * this.buf[10] + matrix.buf[7] * this.buf[14]);\n        var m24 = (matrix.buf[4] * this.buf[3] + matrix.buf[5] * this.buf[7]\n                   + matrix.buf[6] * this.buf[11] + matrix.buf[7] * this.buf[15]);\n\n        var m31 = (matrix.buf[8] * this.buf[0] + matrix.buf[9] * this.buf[4]\n                   + matrix.buf[10] * this.buf[8] + matrix.buf[11] * this.buf[12]);\n        var m32 = (matrix.buf[8] * this.buf[1] + matrix.buf[9] * this.buf[5]\n                   + matrix.buf[10] * this.buf[9] + matrix.buf[11] * this.buf[13]);\n        var m33 = (matrix.buf[8] * this.buf[2] + matrix.buf[9] * this.buf[6]\n                   + matrix.buf[10] * this.buf[10] + matrix.buf[11] * this.buf[14]);\n        var m34 = (matrix.buf[8] * this.buf[3] + matrix.buf[9] * this.buf[7]\n                   + matrix.buf[10] * this.buf[11] + matrix.buf[11] * this.buf[15]);\n\n        var m41 = (matrix.buf[12] * this.buf[0] + matrix.buf[13] * this.buf[4]\n                   + matrix.buf[14] * this.buf[8] + matrix.buf[15] * this.buf[12]);\n        var m42 = (matrix.buf[12] * this.buf[1] + matrix.buf[13] * this.buf[5]\n                   + matrix.buf[14] * this.buf[9] + matrix.buf[15] * this.buf[13]);\n        var m43 = (matrix.buf[12] * this.buf[2] + matrix.buf[13] * this.buf[6]\n                   + matrix.buf[14] * this.buf[10] + matrix.buf[15] * this.buf[14]);\n        var m44 = (matrix.buf[12] * this.buf[3] + matrix.buf[13] * this.buf[7]\n                   + matrix.buf[14] * this.buf[11] + matrix.buf[15] * this.buf[15]);\n        \n        this.buf[0] = m11;\n        this.buf[1] = m12;\n        this.buf[2] = m13;\n        this.buf[3] = m14;\n\n        this.buf[4] = m21;\n        this.buf[5] = m22;\n        this.buf[6] = m23;\n        this.buf[7] = m24;\n\n        this.buf[8] = m31;\n        this.buf[9] = m32;\n        this.buf[10] = m33;\n        this.buf[11] = m34;\n\n        this.buf[12] = m41;\n        this.buf[13] = m42;\n        this.buf[14] = m43;\n        this.buf[15] = m44;\n        return this ;\n    }\n\n    CanvasMatrix4.prototype.ortho = function(left, right, bottom, top, near, far)\n    {\n        var tx = (left + right) / (right - left);\n        var ty = (top + bottom) / (top - bottom);\n        var tz = (far + near) / (far - near);\n        \n        this.initmatrix()\n        this.matrix.buf[0] = 2 / (right - left);\n        this.matrix.buf[5] = 2 / (top - bottom);\n        this.matrix.buf[10] = -2 / (far - near);\n        this.matrix.buf[12] = tx;\n        this.matrix.buf[13] = ty;\n        this.matrix.buf[14] = -tz;\n        \n        this.multRight(this.matrix);\n        return this ;\n    }\n\n    CanvasMatrix4.prototype.frustum = function(left, right, bottom, top, near, far)\n    {\n        this.initmatrix()\n        var A = (right + left) / (right - left);\n        var B = (top + bottom) / (top - bottom);\n        var C = -(far + near) / (far - near);\n        var D = -(2 * far * near) / (far - near);\n        \n        this.matrix.buf[0] = (2 * near) / (right - left);\n        \n        this.matrix.buf[5] = 2 * near / (top - bottom);\n        \n        this.matrix.buf[8] = A;\n        this.matrix.buf[9] = B;\n        this.matrix.buf[10] = C;\n        this.matrix.buf[11] = -1;\n        \n        this.matrix.buf[14] = D;\n        this.matrix.buf[15] = 0;\n        \n        this.multRight(this.matrix);\n        return this ;\n    }\n\n    CanvasMatrix4.prototype.perspective = function(fovy, aspect, zNear, zFar)\n    {\n        var top = Math.tan(fovy * Math.PI / 360) * zNear;\n        var bottom = -top;\n        var left = aspect * bottom;\n        var right = aspect * top;\n        this.frustum(left, right, bottom, top, zNear, zFar);\n        return this ;\n    }\n    CanvasMatrix4.prototype.pallarel = function(width, aspect, zNear, zFar)\n    {\n        var right = width/2;\n        var left = -right;\n        var top = right / aspect ;\n        var bottom = -top ;\n        this.ortho(left, right, bottom, top, zNear, zFar);\n        return this ;\n    }\n    CanvasMatrix4.prototype.lookat = function(eyex, eyey, eyez, centerx, centery, centerz, upx, upy, upz)\n    {\n        this.initmatrix()\n        \n        // Make rotation matrix\n\n        // Z vector\n        var zx = eyex - centerx;\n        var zy = eyey - centery;\n        var zz = eyez - centerz;\n        var mag = Math.hypot(zx,zy,zz);\n        if (mag) {\n            zx /= mag;\n            zy /= mag;\n            zz /= mag;\n        }\n\n        // X vector = Y cross Z\n        xx =  upy * zz - upz * zy;\n        xy = -upx * zz + upz * zx;\n        xz =  upx * zy - upy * zx;\n\n        // Recompute Y = Z cross X\n        yx = zy * xz - zz * xy;\n        yy = -zx * xz + zz * xx;\n        yz = zx * xy - zy * xx;\n\n        // cross product gives area of parallelogram, which is < 1.0 for\n        // non-perpendicular unit-length vectors; so normalize x, y here\n\n        mag = Math.hypot(xx,xy,xz);\n        if (mag) {\n            xx /= mag;\n            xy /= mag;\n            xz /= mag;\n        }\n\n        mag = Math.hypot(yx,yy,yz);\n        if (mag) {\n            yx /= mag;\n            yy /= mag;\n            yz /= mag;\n        }\n\n        this.matrix.buf[0] = xx;\n        this.matrix.buf[1] = yx;\n        this.matrix.buf[2] = zx;\n        \n        this.matrix.buf[4] = xy;\n        this.matrix.buf[5] = yy;\n        this.matrix.buf[6] = zy;\n        \n        this.matrix.buf[8] = xz;\n        this.matrix.buf[9] = yz;\n        this.matrix.buf[10] = zz;\n        \n        this.matrix.buf[12] = -(xx * eyex + xy * eyey + xz * eyez);\n        this.matrix.buf[13] = -(yx * eyex + yy * eyey + yz * eyez);\n        this.matrix.buf[14] = -(zx * eyex + zy * eyey + zz * eyez);\n     //   matrix.translate(-eyex, -eyey, -eyez);\n        \n        this.multRight(this.matrix);\n        return this ;\n    }\n\n    // Support functions\n    CanvasMatrix4.prototype._determinant2x2 = function(a, b, c, d)\n    {\n        return a * d - b * c;\n    }\n\n    CanvasMatrix4.prototype._determinant3x3 = function(a1, a2, a3, b1, b2, b3, c1, c2, c3)\n    {\n        return a1 * this._determinant2x2(b2, b3, c2, c3)\n             - b1 * this._determinant2x2(a2, a3, c2, c3)\n             + c1 * this._determinant2x2(a2, a3, b2, b3);\n    }\n\n    CanvasMatrix4.prototype._determinant4x4 = function()\n    {\n        var a1 = this.buf[0];\n        var b1 = this.buf[1]; \n        var c1 = this.buf[2];\n        var d1 = this.buf[3];\n\n        var a2 = this.buf[4];\n        var b2 = this.buf[5]; \n        var c2 = this.buf[6];\n        var d2 = this.buf[7];\n\n        var a3 = this.buf[8];\n        var b3 = this.buf[9]; \n        var c3 = this.buf[10];\n        var d3 = this.buf[11];\n\n        var a4 = this.buf[12];\n        var b4 = this.buf[13]; \n        var c4 = this.buf[14];\n        var d4 = this.buf[15];\n\n        return a1 * this._determinant3x3(b2, b3, b4, c2, c3, c4, d2, d3, d4)\n             - b1 * this._determinant3x3(a2, a3, a4, c2, c3, c4, d2, d3, d4)\n             + c1 * this._determinant3x3(a2, a3, a4, b2, b3, b4, d2, d3, d4)\n             - d1 * this._determinant3x3(a2, a3, a4, b2, b3, b4, c2, c3, c4);\n    }\n\n    CanvasMatrix4.prototype._makeAdjoint = function()\n    {\n        var a1 = this.buf[0];\n        var b1 = this.buf[1]; \n        var c1 = this.buf[2];\n        var d1 = this.buf[3];\n\n        var a2 = this.buf[4];\n        var b2 = this.buf[5]; \n        var c2 = this.buf[6];\n        var d2 = this.buf[7];\n\n        var a3 = this.buf[8];\n        var b3 = this.buf[9]; \n        var c3 = this.buf[10];\n        var d3 = this.buf[11];\n\n        var a4 = this.buf[12];\n        var b4 = this.buf[13]; \n        var c4 = this.buf[14];\n        var d4 = this.buf[15];\n\n        // Row column labeling reversed since we transpose rows & columns\n        this.buf[0]  =   this._determinant3x3(b2, b3, b4, c2, c3, c4, d2, d3, d4);\n        this.buf[4]  = - this._determinant3x3(a2, a3, a4, c2, c3, c4, d2, d3, d4);\n        this.buf[8]  =   this._determinant3x3(a2, a3, a4, b2, b3, b4, d2, d3, d4);\n        this.buf[12]  = - this._determinant3x3(a2, a3, a4, b2, b3, b4, c2, c3, c4);\n            \n        this.buf[1]  = - this._determinant3x3(b1, b3, b4, c1, c3, c4, d1, d3, d4);\n        this.buf[5]  =   this._determinant3x3(a1, a3, a4, c1, c3, c4, d1, d3, d4);\n        this.buf[9]  = - this._determinant3x3(a1, a3, a4, b1, b3, b4, d1, d3, d4);\n        this.buf[13]  =   this._determinant3x3(a1, a3, a4, b1, b3, b4, c1, c3, c4);\n            \n        this.buf[2]  =   this._determinant3x3(b1, b2, b4, c1, c2, c4, d1, d2, d4);\n        this.buf[6]  = - this._determinant3x3(a1, a2, a4, c1, c2, c4, d1, d2, d4);\n        this.buf[10]  =   this._determinant3x3(a1, a2, a4, b1, b2, b4, d1, d2, d4);\n        this.buf[14]  = - this._determinant3x3(a1, a2, a4, b1, b2, b4, c1, c2, c4);\n            \n        this.buf[3]  = - this._determinant3x3(b1, b2, b3, c1, c2, c3, d1, d2, d3);\n        this.buf[7]  =   this._determinant3x3(a1, a2, a3, c1, c2, c3, d1, d2, d3);\n        this.buf[11]  = - this._determinant3x3(a1, a2, a3, b1, b2, b3, d1, d2, d3);\n        this.buf[15]  =   this._determinant3x3(a1, a2, a3, b1, b2, b3, c1, c2, c3);\n    }\n\n    ////utils \n    //vec3 operations\n        CanvasMatrix4.V3add = function() {\n            let x=0,y=0,z=0 ;\n            for(let i=0;i<arguments.length;i++) {\n                x += arguments[i][0] ;y += arguments[i][1] ;z += arguments[i][2] ;\n            }\n            return [x,y,z] ;\n        }\n        CanvasMatrix4.V3sub = function() {\n            let x=arguments[0][0],y=arguments[0][1],z=arguments[0][2] ;\n            for(let i=1;i<arguments.length;i++) {\n                x -= arguments[i][0] ;y -= arguments[i][1] ;z -= arguments[i][2] ;\n            }\n            return [x,y,z] ;\n        }\n        CanvasMatrix4.V3inv = function(v) {\n            return [-v[0],-v[1],-v[2]] ;\n        }\n        CanvasMatrix4.V3len = function(v) {\n            return Math.hypot(v[0],v[1],v[2]) ;\n        }\n        CanvasMatrix4.V3norm = function(v,s) {\n            const l = CanvasMatrix4.V3len(v) ;\n            if(s===undefined) s = 1 ;\n            return (l==0)?[0,0,0]:[v[0]*s/l,v[1]*s/l,v[2]*s/l] ;\n        }\n        CanvasMatrix4.V3mult = function(v,s) {\n            return [v[0]*s,v[1]*s,v[2]*s] ;\n        }\n        CanvasMatrix4.V3dot = function(v1,v2) {\n            return v1[0]*v2[0]+v1[1]*v2[1]+v1[2]*v2[2] ;\n        }\n        CanvasMatrix4.V3cross = function(v1,v2) {\n            return [    \n                v1[1]*v2[2] - v1[2] * v2[1],\n                v1[2]*v2[0] - v1[0] * v2[2],\n                v1[0]*v2[1] - v1[1] * v2[0] \n            ]\n        }\n\n    //multiple vector\n    CanvasMatrix4.prototype.multVec4 = function(x,y,z,w) {\n        if(Array.isArray(x)|| x instanceof Float32Array) {\n            y = x[1]; z = x[2];w=x[3]; x = x[0];\n        }\n        var xx = this.buf[0]*x + this.buf[4]*y + this.buf[8]*z + this.buf[12]*w ;\n        var yy = this.buf[1]*x + this.buf[5]*y + this.buf[9]*z + this.buf[13]*w ;\n        var zz = this.buf[2]*x + this.buf[6]*y + this.buf[10]*z + this.buf[14]*w ;\n        var ww = this.buf[3]*x + this.buf[7]*y + this.buf[11]*z + this.buf[15]*w ;\n        return [xx,yy,zz,ww] ;\n    }\n\n    //shorthand class method \n    CanvasMatrix4.rotAndTrans = function(rx,ry,rz,tx,ty,tz) {\n        var m = new CanvasMatrix4()\n        if(rx!=0) m.rotate(rx,1,0,0) \n        if(ry!=0) m.rotate(ry,0,1,0)\n        if(rz!=0) m.rotate(rz,0,0,1)\n        m.translate(tx,ty,tz)\n        return m \n    }\n\n    //quaternion to matrix\n    CanvasMatrix4.prototype.q2m = function(x,y,z,w) {\n        if(Array.isArray(x) || x instanceof Float32Array) {\n            y = x[1]; z = x[2];w=x[3]; x = x[0];\n        }\n        var x2 = x*x; var y2=y*y; var z2=z*z ;\n        this.buf[0] = 1- 2*(y2 + z2) ;\n        this.buf[1] = 2*(x*y + w*z) ;\n        this.buf[2] = 2*(x*z - w*y) ;\n        this.buf[3] = 0 ;\n        this.buf[4] = 2*(x*y - w*z) ;\n        this.buf[5] = 1-2*(x2 + z2) ;\n        this.buf[6] = 2*(y*z + w*x) ;\n        this.buf[7] = 0 ;\n        this.buf[8] = 2*(x*z + w*y) ;\n        this.buf[9] = 2*(y*z - w*x) ;\n        this.buf[10] = 1-2*(x2 + y2) ;\n        this.buf[11] = 0 ; this.buf[12]=0; this.buf[13]=0; this.buf[14]=0;this.buf[15]=1;\n        return this \n    }\n    CanvasMatrix4.v2q = function(rot,x,y,z) {\n        if(Array.isArray(x) || x instanceof Float32Array) {\n            y = x[1]; z = x[2]; x = x[0];\n        }\n        let l = x*x + y*y + z*z \n        if(l==0) return [0,0,0,1]\n        if(l!=1) {\n            l = Math.sqrt(l) \n            x /= l ; y /=l ; z /= l\n        }\n        rot = rot *CanvasMatrix4.RAD /2 \n        let sr = Math.sin(rot) \n        return [x*sr,y*sr,z*sr,Math.cos(rot)]\n    }\n    CanvasMatrix4.e2q = function(x,y,z) {\n        if(Array.isArray(x) || x instanceof Float32Array) {\n            y = x[1]; z = x[2]; x = x[0];\n        }\n        x *= CanvasMatrix4.RAD*0.5\n        y *= CanvasMatrix4.RAD*0.5\n        z *= CanvasMatrix4.RAD*0.5\n        let c1 = Math.cos(x),c2=Math.cos(y),c3=Math.cos(z)\n        let s1 = Math.sin(x),s2=Math.sin(y),s3=Math.sin(z)\n        // order YXZ\n        let qx = s1 * c2 * c3 + c1 * s2 * s3;\n        let qy = c1 * s2 * c3 - s1 * c2 * s3;\n        let qz = c1 * c2 * s3 - s1 * s2 * c3;\n        let qw = c1 * c2 * c3 + s1 * s2 * s3;\n        return [qx,qy,qz,qw]\n    }\n    CanvasMatrix4.qMult = function(q1,q2) {\n        let w = q1[3] * q2[3] -(q1[0]*q2[0]+q1[1]*q2[1]+q1[2]*q2[2])\n        let x = q1[1]*q2[2] - q1[2] * q2[1] + q1[3]*q2[0] + q2[3]*q1[0]\n        let y = q1[2]*q2[0] - q1[0] * q2[2] + q1[3]*q2[1] + q2[3]*q1[1]\n        let z = q1[0]*q2[1] - q1[1] * q2[0] + q1[3]*q2[2] + q2[3]*q1[2]\n        return [x,y,z,w]    \n    }\n\n    return pox.CanvasMatrix4 = CanvasMatrix4;\n});\n    \t\n\n\ndefine('skylark-pox/Vector',[\n    \"./pox\"\n],function(pox){\n\tclass Vector extends Array {\n\t\tconstructor(...args) {\n\t\t\tlet v = args \n\t\t\tif(Array.isArray(args[0])) v = args[0]\n\t\t\tsuper(...v)\n\t\t\tthis._setxyz()\n\t\t}\n\t\t_setxyz() {\n\t\t\tthis.x = this[0]\n\t\t\tif(this[1]!==undefined) this.y = this[1]\n\t\t\tif(this[2]!==undefined) this.z = this[2] \n\t\t\tif(this[3]!==undefined) this.w = this[3]\t\n\t\t}\n\t\tset x(v) {this._x = v,this[0] = v}\n\t\tset y(v) {this._y = v,this[1] = v}\n\t\tset z(v) {this._z = v,this[2] = v}\n\t\tset w(v) {this._w = v,this[3] = v}\n\t\tset r(v) {this._x = v,this[0] = v}\n\t\tset g(v) {this._y = v,this[1] = v}\n\t\tset b(v) {this._z = v,this[2] = v}\n\t\tset a(v) {this._w = v,this[3] = v}\n\t\tget x() { return this._x}\n\t\tget y() { return this._y}\n\t\tget z() { return this._z}\n\t\tget w() { return this._w}\n\t\tget r() { return this._x}\n\t\tget g() { return this._y}\n\t\tget b() { return this._z}\n\t\tget a() { return this._w}\n\t//retrun new vector\n\t\tget xy() { return new Vector(this[0],this[1])}\n\t\tget yx() { return new Vector(this[1],this[0])}\n\t\tget xz() { return new Vector(this[0],this[2])}\n\t\tget zx() { return new Vector(this[2],this[0])}\n\t\tget yz() { return new Vector(this[1],this[2])}\n\t\tget zy() { return new Vector(this[2],this[1])}\n\t\tget xyz() { return new Vector(this[0],this[1],this[2])}\n\t\tget xzy() { return new Vector(this[0],this[2],this[1])}\n\t\tget yxz() { return new Vector(this[1],this[0],this[2])}\n\t\tget yzx() { return new Vector(this[1],this[2],this[0])}\n\t\tget zxy() { return new Vector(this[2],this[0],this[1])}\n\t\tget zyx() { return new Vector(this[2],this[1],this[0])}\n\t\tget rgb() { return new Vector(this[0],this[1],this[2])}\n\n\t\tcross(vec) {\n\t\t\tif(this.length!=3 || vec.length!=3 ) throw -1 \n\t\t\tlet r = [\n\t\t\t\tthis[1]*vec[2] - this[2] * vec[1],\n\t\t\t\tthis[2]*vec[0] - this[0] * vec[2],\n\t\t\t\tthis[0]*vec[1] - this[1] * vec[0] \n\t\t\t\t]\n\t\t\treturn new Vector(r) \n\t\t}\n\t\tmix(vec ,ratio ) {\n\t\t\treturn new Vector(this.map((v,i)=>v*(1-ratio)+vec[i]*ratio)) \n\t\t}\n\n\t\tinvert() {\n\t\t\treturn new Vector(this.map(v=>-v)) \n\t\t}\n\t\tadd(tgt) {\n\t\t\tif(!Array.isArray(tgt)) tgt = new Array(this.length).fill(tgt)\n\t\t\tif(this.length!=tgt.length) throw -1\n\t\t\treturn new Vector(this.map((v,i)=>v+tgt[i])) \n\t\t}\n\t\tsub(tgt) {\n\t\t\tif(!Array.isArray(tgt)) tgt = new Array(this.length).fill(tgt)\n\t\t\tif(this.length!=tgt.length) throw -1\n\t\t\treturn new Vector(this.map((v,i)=>v-tgt[i])) \n\t\t}\n\t\tmult(tgt ) {\n\t\t\tif(!Array.isArray(tgt)) tgt = new Array(this.length).fill(tgt)\n\t\t\treturn new Vector(this.map((v,i)=>v*tgt[i])) \t\n\t\t}\n\t\tnormalize() {\n\t\t\tlet l = this.hypot() \n\t\t\treturn new Vector(this.map((v,i)=>(l!=0)?v/l:0)) \n\t\t}\n\t\tfloor() {\n\t\t\treturn new Vector(this.map((v,i)=>Math.floor(v))) \t\n\t\t}\n\t\tceil() {\n\t\t\treturn new Vector(this.map((v,i)=>Math.ceil(v))) \t\t\n\t\t}\n\t\tfract() {\n\t\t\treturn new Vector(this.map((v,i)=>v-Math.floor(v))) \t\t\n\t\t}\n\t\tmin(tgt ) {\n\t\t\tif(!Array.isArray(tgt)) tgt = new Array(this.length).fill(tgt)\n\t\t\treturn new Vector(this.map((v,i)=>(v<tgt[i])?v:tgt[i])) \t\t\t\n\t\t}\n\t\tmax(tgt ) {\n\t\t\tif(!Array.isArray(tgt)) tgt = new Array(this.length).fill(tgt)\n\t\t\treturn new Vector(this.map((v,i)=>(v>tgt[i])?v:tgt[i])) \t\t\t\n\t\t}\n\t\tclamp(min,max) {\n\t\t\treturn new Vector(this.map((v,i)=>(v<min)?min:(v>max)?max:v)) \t\t\t\n\t\t}\n\t\tstep(th) {\n\t\t\treturn new Vector(this.map((v,i)=>(v<th)?0:1)) \t\t\t\n\t\t}\n\t\tmod(a) {\n\t\t\treturn new Vector(this.map((v,i)=>v % a)) \t\t\n\t\t}\n\t//return float\n\t\tdot(vec) {\n\t\t\treturn this.reduce((a,v,i)=>a+=v*vec[i],0)\n\t\t}\n\t\tdistance(vec) {\n\t\t\tlet v = new Vector(...this)\n\t\t\treturn v.sub(vec).hypot()\n\t\t}\n\t\thypot() {\n\t\t\treturn Math.hypot(...this)\n\t\t}\n\t// return bool\n\t\tequal(vec) {\n\t\t\treturn this.reduce((a,v,i)=>a && v===vec[i],true)\n\t\t}\n\t}\n\n\treturn pox.Vector = Vector; \n});\ndefine('skylark-pox/Device',[\n    \"./pox\",\n    \"./Vector\"\n],function(pox,Vector){\n\tconst Device = {\n\t\tVRReady:false,\n\t\tisPresenting:false,\n\t\tWebXR:false ,\n\t\tcheckVR:function(poxp) {\n\t\t\treturn new Promise( (resolve,reject)=>{\n\t\t\t\t// for WebXR\n\t\t\t\tif(navigator.xr) {\n\t\t\t\t\tnavigator.xr.isSessionSupported('immersive-vr').then((supported) => {\n\t\t\t\t\t\tDevice.VRReady = supported \n\t\t\t\t\t\tDevice.WebXR = supported \n\t\t\t\t\t\tresolve(supported)       \t\n\t\t\t\t\t}).catch((err)=>{\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t\tresolve(false)\n\t\t\t\t\t});\n\t\t\t\t} else\n\t\t\t\t// for WebVR\n\t\t\t\tif(navigator.getVRDisplays) {\n\t\t\t\t\tif(window.VRFrameData!=undefined) Device.vrFrame = new VRFrameData()\n\t\t\t\t\tnavigator.getVRDisplays().then((displays)=> {\n\t\t\t\t\t\tconsole.log(\"VR init with WebVR\")\n\t\t\t\t\t\tDevice.vrDisplay = displays[displays.length - 1]\n\t\t\t\t\t\tconsole.log(Device.vrDisplay)\n\t\t\t\t\t\tDevice.VRReady = true \n\t//\t\t\t\t\tpoxp.vrDisplay = Device.vrDisplay\n\t\t\t\t\t\twindow.addEventListener('vrdisplaypresentchange', ()=>{\n\t\t\t\t\t\t\tconsole.log(\"vr presenting= \"+Device.vrDisplay.isPresenting)\n\t\t\t\t\t\t\tif(Device.vrDisplay.isPresenting) {\n\t\t\t\t\t\t\t\tpoxp.callEvent(\"vrchange\",1)\n\t\t\t\t\t\t\t\tDevice.isPresenting = true \n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tpoxp.resize() ;\n\t\t\t\t\t\t\t\tpoxp.callEvent(\"vrchange\",0)\n\t\t\t\t\t\t\t\tDevice.isPresenting = false \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, false);\n\t\t\t\t\t\twindow.addEventListener('vrdisplayactivate', ()=>{\n\t\t\t\t\t\t\tconsole.log(\"vr active\")\n\t\t\t\t\t\t}, false);\n\t\t\t\t\t\twindow.addEventListener('vrdisplaydeactivate', ()=>{\n\t\t\t\t\t\t\tconsole.log(\"vr deactive\")\n\t\t\t\t\t\t}, false);\n\t\t\t\t\t\tresolve(true)\n\t\t\t\t\t}).catch((err)=> {\n\t\t\t\t\t\treject(err)\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tresolve(false)\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tpresentVR:function(poxp) {\n\t\t\treturn new Promise( (resolve,reject)=>{\n\t\t\t\t// for WebXR\n\t\t\t\tif(Device.WebXR) {\n\t\t\t\t\tnavigator.xr.requestSession(\"immersive-vr\").then(function(xrSession) {\n\t\t\t\t\t\tDevice.session=xrSession\n\t\t\t\t\t\tDevice.isPresenting = true\n\t\t\t\t\t\tconsole.log(\"vr start\")\n\t\t\t\t\t\txrSession.updateRenderState({baseLayer: new XRWebGLLayer(xrSession,poxp.wwg.gl,{framebufferScaleFactor:poxp.pixRatio})});\n\t\t\t\t\t\txrSession.requestReferenceSpace(\"local\").then((xrReferenceSpace) => {\n\t\t\t\t\t\t\tDevice.referenceSpace=xrReferenceSpace;\n\t\t\t\t\t\t\tDevice.session.requestAnimationFrame(Device.loopf);\n\t\t\t\t\t\t\tpoxp.callEvent(\"vrchange\",1)\n\t\t\t\t\t\t});\n\t\t\t\t\t\txrSession.addEventListener(\"end\", (ev)=>{\n\t\t\t\t\t\t\t\tDevice.session=null\n\t\t\t\t\t\t\t\tDevice.isPresenting = false\n\t\t\t\t\t\t\t\tconsole.log(\"VR end\")\n\t//\t\t\t\t\t\t\tpoxp.loop = window.requestAnimationFrame(Device.loopf) ;\n\t\t\t\t\t\t\t\tpoxp.callEvent(\"vrchange\",0)\n\t\t\t\t\t\t})\n\t\t\t\t\t});\n\t\t\t\t} else \n\t\t\t\t// for WebVR\n\t\t\t\tif(Device.vrDisplay) {\n\t\t\t\t\tconst p = { source: poxp.can,attributes:{} }\n\t\t\t\t\tif(poxp.pox.setting.highRefreshRate!==undefined) p.attributes.highRefreshRate = poxp.pox.setting.highRefreshRate\n\t\t\t\t\tif(poxp.pox.setting.foveationLevel!==undefined) p.attributes.foveationLevel = poxp.pox.setting.foveationLevel\n\t\t\t\t\tDevice.vrDisplay.requestPresent([p]).then( () =>{\n\t\t\t\t\t\tconsole.log(\"present ok\")\n\t\t\t\t\t\tconst leftEye = Device.vrDisplay.getEyeParameters(\"left\");\n\t\t\t\t\t\tconst rightEye = Device.vrDisplay.getEyeParameters(\"right\");\n\t\t\t\t\t\tpoxp.can.width = Math.max(leftEye.renderWidth, rightEye.renderWidth) * 2;\n\t\t\t\t\t\tpoxp.can.height = Math.max(leftEye.renderHeight, rightEye.renderHeight);\n\t\t\t\t\t\tif(Device.vrDisplay.displayName==\"Oculus Go\") {\n\t\t\t\t\t\t\tpoxp.can.width = 2560\n\t\t\t\t\t\t\tpoxp.can.height = 1280\n\t\t\t\t\t\t}\n\t\t\t\t\t\tpoxp.can.width= poxp.can.width * poxp.pixRatio \n\t\t\t\t\t\tpoxp.can.height= poxp.can.height * poxp.pixRatio \n\t\t\t\t\t\tpoxp.pox.log(Device.vrDisplay.displayName)\n\t\t\t\t\t\tpoxp.pox.log(\"vr canvas:\"+poxp.can.width+\" x \"+poxp.can.height);\n\t\t\t\t\t}).catch((err)=> {\n\t\t\t\t\t\tconsole.log(err)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tcloseVR:function(poxp) {\n\t\t\t// for WebXR\n\t\t\tif(Device.WebXR) {\n\t\t\t\tconsole.log(\"vr closing\")\n\t\t\t\tDevice.isPresenting = false\n\t\t\t\tDevice.session.end()\n\t\t\t}\n\t\t\t// for WebVR\n\t\t\tif(Device.vrDisplay) {\n\t\t\t\tDevice.vrDisplay.exitPresent().then( () =>{\n\t\t\t\t\tconsole.log(\"VR end\")\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tanimationFrame:function(poxp,loopf,vrframe) {\n\t\t\tDevice.loopf = loopf \n\t\t\tif(Device.isPresenting ) {\n\t\t\t\tif(!vrframe) return \n\t\t\t\t// for WebXR\n\t\t\t\tif(Device.WebXR) {\n\t\t\t\t\tDevice.session.requestAnimationFrame(loopf);\n\t\t\t\t\tDevice.vrFrame = vrframe \n\t\t\t\t\tpoxp.isVR = true \n\t//\t\t\t\tconsole.log(\"vrframe\")\n\t\t\t\t// for WebVR\n\t\t\t\t} else if(Device.vrDisplay && Device.vrDisplay.isPresenting) {\n\t\t\t\t\tpoxp.loop = Device.vrDisplay.requestAnimationFrame(loopf)\n\t\t\t\t\tpoxp.isVR = true \n\t\t\t\t}\n\t\t\t} else {\n\t//\t\t\tconsole.log(\"no vrframe\")\n\t\t\t\tpoxp.loop = window.requestAnimationFrame(loopf) ;\n\t\t\t\tpoxp.isVR = false ;\n\t\t\t}\n\t\t},\n\t\tsubmitFrame:function(poxp) {\n\t\t\t// for WebXR\n\t\t\tif(Device.WebXR) {\n\t\t\t}\n\t\t\t// for WebVR\n\t\t\tif(Device.vrDisplay) {\n\t\t\t\tif(Device.vrDisplay.isPresenting) Device.vrDisplay.submitFrame()\n\t\t\t}\n\t\t},\n\t\tgetFrameData:function(poxp) {\n\t\t\t// for WebXR\n\t\t\tif(Device.WebXR && Device.vrFrame) {\n\t//\t\t\tconsole.log(\"getframe\")\n\t\t\t\tlet pose=Device.vrFrame.getViewerPose(Device.referenceSpace);\n\t//\t\t\tconsole.log(pose)\n\t\t\t\tpose.orientation = [pose.transform.orientation.x,pose.transform.orientation.y,pose.transform.orientation.z,pose.transform.orientation.w]\n\t\t\t\tpose.position = [pose.transform.position.x,pose.transform.position.y,pose.transform.position.z]\n\t\t\t\tlet frame = {pose:pose}\n\t\t\t\tlet webGLLayer=Device.session.renderState.baseLayer;\n\t//\t\t\tconsole.log(webGLLayer)\n\t\t\t\tDevice.webGLLayer = webGLLayer\n\t\t\t\tfor (let i=0;i<=pose.views.length-1;i++)\n\t\t\t\t{\n\t\t\t\t\tvar viewport=webGLLayer.getViewport(pose.views[i]);\n\t\t\t\t\tif(i==1) {\n\t\t\t\t\t\tframe.rightViewMatrix = pose.views[i].transform.inverse.matrix\n\t\t\t\t\t\tframe.rightProjectionMatrix = pose.views[i].projectionMatrix\n\t\t\t\t\t\tframe.rightViewport = viewport \n\t\t\t\t\t} else {\n\t\t\t\t\t\tframe.leftViewMatrix = pose.views[i].transform.inverse.matrix\n\t\t\t\t\t\tframe.leftProjectionMatrix = pose.views[i].projectionMatrix\t\n\t\t\t\t\t\tframe.leftViewport = viewport \t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tDevice.viewport = {leftViewport:frame.leftViewport,rightViewport:frame.rightViewport}\n\t//\t\t\tconsole.log(frame)\n\t\t\t\treturn frame \n\t\t\t}\n\t\t\t// for WebVR\n\t\t\tif(Device.vrDisplay) {\n\t\t\t\tDevice.vrDisplay.getFrameData(Device.vrFrame)\n\t\t\t\treturn Device.vrFrame\n\t\t\t}\n\t\t},\n\t\tgetViewport:function(can) {\n\t\t\tif(Device.WebXR && Device.isPresenting)\n\t\t\t\treturn Device.viewport\n\t\t\telse \n\t\t\t\treturn {leftViewport:{x:0,y:0,width:can.width/2,height:can.height},\n\t\t\t\t\t\t\t\trightViewport:{x:can.width/2,y:0,width:can.width/2,height:can.height}}\n\t\t},\n\t\tsetDepth:function(camDepth) {\n\t\t\t// for WebXR\n\t\t\tif(!Device.isPresenting) return\n\t\t\tif(Device.WebXR) {\n\t\t\t\tDevice.session.updateRenderState({depthNear:camDepth.camNear, depthFar:camDepth.camFar})\n\t\t\t}\n\t\t\t// for WebVR\n\t\t\tif(Device.vrDisplay) {\n\t\t\t\tDevice.vrDisplay.depthNear = camDepth.camNear \n\t\t\t\tDevice.vrDisplay.depthFar = camDepth.camFar \n\t\t\t}\n\t\t}\n\t}\n\n\treturn pox.Device = Device;\n});\ndefine('skylark-pox/GPad',[\n    \"./pox\",\n    \"./Device\"\n],function(pox,POXPDevice){\n\t/**\n\t *\tgamepad object \n\t *\t@constructor \n\t */\n\tvar GPad = function() {\n\t\tthis.idx = 0 \n\t\tthis.conn = false \n\t\tthis.gpadcount = 0 \n\t\tif(!navigator.getGamepads) return false ;\n\t\tgamepads = navigator.getGamepads();\n\t\tthis.gpadcount = gamepads.length\n\t\treturn this.gpadcount > 0  \n\t}\n\n\tGPad.prototype.init = function(idx,cb) {\n\t\tif(idx==undefined) idx = 0 \n\t\tthis.idx = idx \n\t\tif(!navigator.getGamepads) return false ;\n\t\tlet ret = true \n\t\tgamepads = navigator.getGamepads();\n\t//\tconsole.log(gamepads)\n\t\tif(gamepads[this.idx]) {\n\t\t\tconsole.log(\"gpad init \"+this.idx) ;\n\t\t\tthis.axes =gamepads[this.idx].axes \n\t\t\tthis.conn = false ;\n\t\t\tthis.egp = null ;\n\t\t} else {\n\t\t\tthis.conn = false \n\t\t\tret = false \n\t\t}\n\t\taddEventListener(\"gamepadconnected\", (e)=> {\n\t\t\tif(e.gamepad.index != this.idx ) return \n\t\t\tconsole.log(\"gpad reconnected \"+e.gamepad.index) ;\n\t//\t\tconsole.log(e.gamepad) ;\n\t\t\tthis.axes = e.gamepad.axes \n\t\t\tthis.conn = true; \n\t\t\tthis.get()\n\t\t\tif(cb) cb(this,true) \n\t\t})\t\n\t\taddEventListener(\"gamepaddisconnected\", (e)=> {\n\t\t\tif(e.gamepad.index != this.idx ) return \n\t\t\tconsole.log(\"gpad disconnected \"+e.gamepad.index) ;\n\t\t\tthis.conn = false ;\n\t\t\tif(cb) cb(this,false) \n\t\t})\n\t\tthis.lastGp = {\n\t\t\tbuttons:[\n\t\t\t\t{pressed:false,touched:false},\n\t\t\t\t{pressed:false,touched:false},\n\t\t\t\t{pressed:false,touched:false},\n\t\t\t\t{pressed:false,touched:false},\n\t\t\t\t{pressed:false,touched:false},\n\t\t\t\t{pressed:false,touched:false}\n\t\t\t],\n\t\t\taxes:[0,0]\n\t\t}\n\t\tthis.egp = {\n\t\t\tbuttons:[\n\t\t\t\t{pressed:false,touched:false},\n\t\t\t\t{pressed:false,touched:false}\n\t\t\t],\n\t\t\taxes:[0,0]\n\t\t}\n\t\treturn ret ;\n\t}\n\tGPad.prototype.get = function(pad) {\n\t\tvar gp \n\t\tif(POXPDevice && POXPDevice.WebXR) {\n\t\t\tthis.emu = false \n\t\t\tif(POXPDevice.isPresenting && POXPDevice.session.inputSources) {\n\t\t\tconst is = POXPDevice.session.inputSources\n\t\t\tfor (let i=0;i<=is.length-1;i++) {\n\t\t\t\tif (is[i].gamepad && is[i].gamepad.mapping==\"xr-standard\") {\n\t\t\t\t\tis[i].gamepad.hand = is[i].handedness\n\t\t\t\t\tif (is[i].handedness==\"left\" && this.idx==1) {gp=is[i].gamepad }\n\t\t\t\t\tif (is[i].handedness==\"right\" && this.idx==0) {gp=is[i].gamepad }\n\n\t\t\t\t\tif(gp) {\n\t\t\t\t\t\tlet pose = POXPDevice.vrFrame.getPose(is[i].gripSpace,POXPDevice.referenceSpace)\n\t\t\t\t\t\tif(pose) {\n\t\t\t\t\t\t\tgp.pose = {}\n\t\t\t\t\t\t\tif(pose.transform.orientation) gp.pose.orientation = [pose.transform.orientation.x,pose.transform.orientation.y,pose.transform.orientation.z,pose.transform.orientation.w]\n\t\t\t\t\t\t\tif(pose.transform.position) gp.pose.position =  [pose.transform.position.x,pose.transform.position.y,pose.transform.position.z]\n\t//\t\t\t\t\tconsole.log(pose)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.conn = true \n\t\t\t\t\t\tbreak \n\t\t\t\t\t} else this.conn = false \t\t\t\t\t\n\t\t\t\t}\t\n\t\t\t}\n\t\t\t} else this.conn = false \n\t\t} \n\t\tif(!gp) {\n\t\t\tif(this.egp==null) return null ;\t\n\t\t\tthis.conn = true \n\t\t\tgp = this.egp\n\t\t\tthis.emu = true \n\t\t} \n\t\tvar lgp = this.lastGp \n\t\tgp.conn = this.conn \n\t\tgp.emu = this.emu \n\t\tgp.bf = false \n\t\tgp.pf = false \n\t\tgp.tf = false \n\t\tgp.dbtn = [] \n\t\tgp.dpad = []\n\t\tgp.dtouch = [] \n\n\t//\tif(lgp) console.log(lgp.buttons[1].pressed +\" \"+ gp.buttons[1].pressed)\n\t\tfor(var i=0;i<gp.buttons.length;i++) {\n\t\t\tgp.dbtn[i] = 0 \n\t\t\tgp.dtouch[i] = 0 \n\t\t\tif(lgp && lgp.buttons[i]) {\n\t\t\t\tif(!lgp.buttons[i].pressed && gp.buttons[i].pressed) {gp.dbtn[i] = 1; gp.bf=true} \n\t\t\t\tif(lgp.buttons[i].pressed && !gp.buttons[i].pressed) {gp.dbtn[i] = -1;gp.bf=true}\n\t\t\t\tif(!lgp.buttons[i].touched && gp.buttons[i].touched) {gp.dtouch[i] = 1; gp.tf=true} \n\t\t\t\tif(lgp.buttons[i].touched && !gp.buttons[i].touched) {gp.dtouch[i] = -1;gp.tf=true}\n\t\t\t}\n\t\t\tlgp.buttons[i] = {pressed:gp.buttons[i].pressed,\n\t\t\t\t\t\t\t\t\t\t\t\ttouched:gp.buttons[i].touched}\n\t\t}\n\t\tconst th = 0.5 \n\t\tconst eps = 0.001 \n\t\tlet axes = [gp.axes[0],gp.axes[1],gp.axes[2],gp.axes[3]]\n\t\tif(gp.axes[2]!==undefined && gp.axes[3]!==undefined) {\n\t\t\t axes[0] = gp.axes[2]\n\t\t\t axes[1] = gp.axes[3]\n\t\t\t gp.stick = true ;\n\t\t} else gp.stick = false ;\n\t\t\n\t\tgp.eaxes = axes \n\t\tfor(var i=0;i<axes.length;i++) {\n\t\t\tif(Math.abs(axes[i]) < eps ) gp.axes[i] = 0 \n\t\t\tgp.dpad[i] = 0 \n\t\t\tif(lgp) {\n\t\t\t\tif(Math.abs(lgp.axes[i])<th && Math.abs(axes[i])>=th) {gp.dpad[i] = 1;gp.pf=true}\n\t\t\t\tif(Math.abs(lgp.axes[i])>=th && Math.abs(axes[i])<th) {gp.dpad[i] = -1;gp.pf=true}\n\t\t\t}\n\t\t\tlgp.axes[i] = axes[i]\n\t\t}\n\t\tthis.gp = gp \n\n\t\tif(this.ev && (gp.bf || gp.pf || gp.tf)){\n\t\t\tthis.ev(gp) \n\t\t}\n\t//\tconsole.log(gp)\n\t\treturn gp ;\t\n\t}\n\tGPad.prototype.set = function(gp) {//for emulation\n\t\tthis.egp = gp ;\t\n\t}\n\tGPad.prototype.clear = function(gp) {//for emulation\n\t\tif(gp==undefined ) gp = {\n\t\t\tbuttons:[\n\t\t\t\t{pressed:false,touched:false},\n\t\t\t\t{pressed:false,touched:false}\n\t\t\t],\n\t\t\taxes:[0,0]\n\t\t}\n\t\tthis.egp = gp\n\t\tthis.cf = true ;\t\n\t}\n\treturn pox.GPad = GPad;\n});\ndefine('skylark-pox/Pointer',[\n    \"./pox\"\n],function(pox){\n\t//mouse and touch event handler\n\tvar Pointer = function(t,cb) {\n\t\tvar self = this ;\n\t\tvar touch,gesture,EV_S,EV_E,EV_M ;\n\t\tfunction pos(ev) {\n\t\t\tvar x,y ;\n\t\t\tif(touch && ev.touches.length>0) {\n\t\t\t\tx = ev.touches[0].pageX - ev.target.offsetLeft ;\n\t\t\t\ty = ev.touches[0].pageY - ev.target.offsetTop ;\n\t\t\t} else {\n\t\t\t\tx = ev.offsetX ;\n\t\t\t\ty = ev.offsetY ;\n\t\t\t}\n\t\t\treturn {x:x,y:y} ;\n\t\t}\n\t\tt.addEventListener(\"mousedown\", startev,false ) ;\n\t\tt.addEventListener(\"touchstart\", startev,false ) ;\n\t\tfunction startev(ev) {\n\t\t\tif(gesture) return ;\n\t\t\tif(!EV_S) {\n\t\t\t\ttouch = (ev.type==\"touchstart\") ;\n\t\t\t\tsetevent() ;\n\t\t\t\tfirst = false ;\n\t\t\t}\n\t\t\tself.mf = true ;\n\t\t\tself.dx = self.dy = 0 ;\n\t\t\tself.s = pos(ev) ;\n\t\t\tself.lastd = self.s ;\n\t\t\tif(cb.down) if(!cb.down({x:self.s.x,y:self.s.y,sx:self.s.x,sy:self.s.y})) ev.preventDefault() ;\t\n\t\t}\n\t\tfunction setevent() {\n\t\t\tif(touch) {\n\t\t\t\tEV_S = \"touchstart\" ;\n\t\t\t\tEV_E = \"touchend\" ;\n\t\t\t\tEV_O = \"touchcancel\" ;\n\t\t\t\tEV_M = \"touchmove\" ;\n\t\t\t} else {\n\t\t\t\tEV_S = \"mousedown\" ;\n\t\t\t\tEV_E = \"mouseup\" ;\n\t\t\t\tEV_O = \"mouseout\" ;\n\t\t\t\tEV_M = \"mousemove\" ;\t\n\t\t\t}\n\t\t\tt.addEventListener(EV_E, function(ev) {\n\t\t\t\tvar c = pos(ev) ;\n\t\t\t\tvar d = (ev.type==\"touchend\")?self.lastd:pos(ev) ;\n\t\t\t\tself.mf = false ;\n\t\t\t\tif(cb.up) if(!cb.up({x:c.x,y:c.y,ex:d.x,ey:d.y,dx:self.dx,dy:self.dy})) ev.preventDefault() ;\n\t\t\t},false);\n\t\t\tt.addEventListener(EV_O, function(ev) {\n\t\t\t\tself.mf = false ;\n\t\t\t\tvar c = pos(ev) ;\n\t\t\t\tif(cb.out) if(!cb.out({x:c.x,y:c.y,dx:self.dx,dy:self.dy})) ev.preventDefault() ;\n\t\t\t},false);\n\t\t\tt.addEventListener(EV_M, function(ev) {\n\t\t\t\tif(gesture) return ;\n\t\t\t\tvar d = pos(ev) ;\n\t\t\t\tself.lastd = d ;\n\t\t\t\tif(self.mf) {\n\t\t\t\t\tself.dx = (d.x-self.s.x) ;\n\t\t\t\t\tself.dy = (d.y-self.s.y) ;\n\t\t\t\t\tif(cb.move) if(!cb.move({x:d.x,y:d.y,ox:d.x,oy:d.y,dx:self.dx,dy:self.dy})) ev.preventDefault() ;\n\t\t\t\t}\n\t\t\t},false)\t\n\t\t}\n\t\tif(cb.contextmenu) {\n\t\t\tt.addEventListener(\"contextmenu\", function(ev){\n\t\t\t\tif(!cb.contextmenu({px:ev.offsetX,py:ev.offsetY})) ev.preventDefault() ;\n\t\t\t},false )\n\t\t}\n\t\tif(cb.wheel) {\n\t\t\tt.addEventListener(\"wheel\", function(ev){\n\t\t\t\tif(!cb.wheel(ev.deltaY)) ev.preventDefault() ;\n\t\t\t},false ) ;\n\t\t}\n\t\tif(cb.gesture) {\n\t\t\tt.addEventListener(\"gesturestart\", function(ev){\n\t\t\t\tgesture = true ;\n\t\t\t\tif(!cb.gesture(0,0)) ev.preventDefault() ;\n\t\t\t})\n\t\t\tt.addEventListener(\"gesturechange\", function(ev){\n\t\t\t\n\t\t\t\tif(!cb.gesture(ev.scale,ev.rotation)) ev.preventDefault() ;\n\t\t\t})\n\t\t\tt.addEventListener(\"gestureend\", function(ev){\n\t\t\t\tgesture = false ;\n\t\t\t})\n\t\t}\n\t\tif(cb.gyro) {\n\t\t\twindow.addEventListener(\"deviceorientation\", function(ev) {\n\t\t\t\tvar or = window.orientation ;\n\t\t\t\tvar rx,ry,rz ;\n\t\t\t\trx = null ;ry = null; rz = null ;\n\t\t\t\tswitch( or ){\n\t\t\t\t\tcase 90:\n\t\t\t\t\t\tif(ev.gamma<0) {\n\t\t\t\t\t\t\trx = ev.gamma+90 ;\n\t\t\t\t\t\t\try = 180-ev.alpha ;\n\t\t\t\t\t\t\trz = ev.beta+180 ;\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trx = ev.gamma-90 ;\n\t\t\t\t\t\t\try = 360-ev.alpha ;\n\t\t\t\t\t\t\trz = ev.beta ;\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak ;\n\t\t\t\t\tcase -90:\n\t\t\t\t\t\tif(ev.gamma<0) {\n\t\t\t\t\t\t\trx = -ev.gamma-90 ;\n\t\t\t\t\t\t\try = 180-ev.alpha ;\n\t\t\t\t\t\t\trz = -ev.beta+180 ;\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\trx = -ev.gamma+90 ;\n\t\t\t\t\t\t\try = 360-ev.alpha ;\n\t\t\t\t\t\t\trz = -ev.beta ;\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak ;\t\n\t\t\t\t\tdefault:\n\t\t\t\n\t\t\t\t}\n\n\t\t\t\tcb.gyro({rx:rx,ry:ry,rz:rz,orientation:or}) ;\n\t\t\t})\n\t\t}\n\t}\n\n\n\treturn pox.Pointer = Pointer;\n});\n\ndefine('skylark-pox/Camera',[\n    \"./pox\",\n    \"./CanvasMatrix4\"\n],function(pox,CanvasMatrix4){\n\t// poxplayercamera object\n\tconst RAD = pox.RAD;\n\tconst Mat4 = CanvasMatrix4; // alias\n\n\tclass Camera {\n\t\tconstructor(poxp,cam) {\n\t\t\tthis.poxp = poxp ;\n\t\t\t//camera initial\n\t\t\tthis.cam = {\n\t\t\t\tcamCX:0,\n\t\t\t\tcamCY:0,\n\t\t\t\tcamCZ:0,\n\t\t\t\tcamVX:0,\n\t\t\t\tcamVY:0,\n\t\t\t\tcamVZ:1,\n\t\t\t\tcamUPX:0,\n\t\t\t\tcamUPY:1,\n\t\t\t\tcamUPZ:0,\n\t\t\t\tcamRX:30,\n\t\t\t\tcamRY:-30,\n\t\t\t\tcamRZ:0,\n\t\t\t\tcamd:20,\n\t\t\t\tcamAngle:90,\t//cam angle(deg) \n\t\t\t\tcamWidth:1.0,\n\t\t\t\tcamNear:0.01, \t//near\n\t\t\t\tcamFar:1000, \t//far\n\t\t\t\tcamGyro:true, // use gyro\n\t\t\t\tgPad:true, //use gpad\n\t\t\t\tsbase:0.06, \t//streobase \n\t\t\t\tmoveSpeed:1.3,\t\t// m/sec\n\t\t\t\trotAngle:30,\n\t\t\t\tmoveY:false,\n\t\t\t\tpadMoveUD:true,\n\t\t\t\tpadRot:true,\n\t\t\t\theadVec:[0,0,0]\t//head direction\n\t\t\t} ;\n\t\t\tfor(let i in cam) {\n\t\t\t\tthis.cam[i] = cam[i] ;\n\t\t\t}\n\n\t\t\tthis.cama = false ; // on animation\n\t\t\tthis.rotX = 0 ;\n\t\t\tthis.rotY = 0 ;\n\t\t\tthis.gev = null ;\n\t\t\tthis.gx = 0 ; this.gy = 0 ; this.gz = 0 ;\n\t\t\tthis.vcx = 0 ;this.vcy = 0 ; this.vcz=0\n\t\t\tthis.vrx = 0 ;this.vry = 0 ; this.vrz=0\n\t\t\tthis.keydown = false ;\n\t\t\tthis.vr = false ;\n\t\t\tthis.camVP = [new CanvasMatrix4(),new CanvasMatrix4()]\n\t\t\tthis.camP =  [new CanvasMatrix4(),new CanvasMatrix4()]\n\t\t\tthis.camV =  [new CanvasMatrix4(),new CanvasMatrix4()]\n\t\t\tthis.vrv =  [new CanvasMatrix4(),new CanvasMatrix4()]\n\t\t\tthis.vrp =  [new CanvasMatrix4(),new CanvasMatrix4()]\n\t\t\tthis.tempM =  new CanvasMatrix4()\n\t\t\tthis.pvy = false \n\t\t\tthis.pvx = false \n\t\t//\tif(window.VRFrameData!=undefined) this.vrFrame = new VRFrameData()\n\t\t}\n\t\tsetCam(cam) {\n\t\t\tfor(let i in cam) {\n\t\t\t\tthis.cam[i] = cam[i] ;\n\t\t\t}\n\t\t\tthis.cama = false \n\t\t}\n\t\tgetCam() {\n\t\t\tconst ret = {\n\t\t\t\tbasePos:[this.cam.camCX,this.cam.camCY,this.cam.camCZ],\n\t\t\t\tbaseRot:[this.cam.camRX,this.cam.camRY,this.cam.camRZ],\n\t\t\t\tposition:Array.from(this.cam.campos),\n\t\t\t\theadVec:Array.from(this.cam.headVec),\n\t\t\t}\n\t\t\tif(this.cam.orientation) ret.headOri = Array.from(this.cam.orientation)\n\t\t\telse ret.headOri = [0,0,0,1]\n\t\t\tif(this.cam.position) ret.headPos = Array.from(this.cam.position)\n\t\t\telse ret.headPos = [0,0,0]\n\t\t\treturn ret \n\t\t}\n\t\tvrchange(f) {\n\t\t\tif(f) {\n\t\t\t\tthis.cam.camRX = 0\n\t\t\t\tthis.cam.camRZ = 0\n\t\t\t}\n\t\t}\n\t\tevent(ev,m) {\n\t\t\tconst mag = 300*this.poxp.pixRatio /this.poxp.can.width;\n\t\t\tconst scale = (this.poxp.pox.setting && this.poxp.pox.setting.scale)? this.poxp.pox.setting.scale :1 ;\n\n\t\t//\tconsole.log(\"cam \"+ev+\" key:\"+m.key)\n\t\t\tswitch(ev) {\n\t\t\t\tcase \"down\":\n\t\t\t\t\tthis.rotX = this.cam.camRX\n\t\t\t\t\tthis.rotY = this.cam.camRY\n\t\t\t\t\tbreak ;\n\t\t\t\tcase \"move\":\n\t\t\t\t\tthis.cam.camRX = this.rotX+m.dy*mag ;\n\t\t\t\t\tthis.cam.camRY = this.rotY+m.dx*mag ;\n\t\t\t\t\tif(this.cam.camRX>89)this.cam.camRX=89;\n\t\t\t\t\tif(this.cam.camRX<-89)this.cam.camRX=-89;\n\t\t\t\t\tbreak ;\n\t\t\t\tcase \"up\":\n\t\t\t\t\tthis.rotX += m.dy*mag ;\n\t\t\t\t\tthis.rotY += m.dx*mag; \n\t\t\t\t\tif(this.gev!==null) {\n\t\t\t\t\t\tthis.gx = this.gev.rx - this.rotX ;\n\t\t\t\t\t\tthis.gy = this.gev.ry - this.rotY ;\n\t\t//\t\t\t\tconsole.log(this.gx+\"/\"+this.gy) ;\n\t\t\t\t\t}\n\t\t\t\t\tbreak ;\n\t\t\t\tcase \"out\":\n\t\t\t\t\tthis.rotX += m.dy*mag ;\n\t\t\t\t\tthis.rotY += m.dx*mag; \n\t\t\t\t\tbreak ;\t\n\t\t\t\tcase \"wheel\":\n\t\t\t\t\tthis.cam.camd += m/100 * scale ;\n\t\t\t\t\tbreak ;\t\n\t\t\t\tcase \"gesture\":\n\t\t\t\t\tif(m.z==0) {\n\t\t\t\t\t\tthis.gz = this.cam.camd ; \n\t\t\t\t\t\treturn false ;\n\t\t\t\t\t}\n\t\t\t\t\tthis.cam.camd = this.gz / m.z ;\n\t\t\t\t\tbreak ;\t\n\t\t\t\tcase \"gyro\":\n\t\t//\t\tconsole.log(m)\n\t\t\t\t\tif(this.keydown || !this.cam.camGyro) return true ;\n\t\t\t\t\tif(m.rx===null) return true ;\n\t\t\t\t\tthis.gev = m ;\n\t\t\t\t\tthis.cam.camRX = m.rx - this.gx;\n\t\t\t\t\tthis.cam.camRY = m.ry - this.gy ;\n\t\t//\t\tconsole.log(gx+\"/\"+gy) ;\n\t\t\t\t\tif(this.cam.camRX>89)this.cam.camRX=89 ;\n\t\t\t\t\tif(this.cam.camRX<-89)this.cam.camRX=-89 ;\n\t\t\t\t\tbreak ;\n\t\t\t\tcase \"keydown\":\n\t\t\t\t\tconst z = this.cam.camd ;\n\t\t\t\t\tconst keymag= this.cam.moveSpeed ;\n\t\t\t\t\tlet md = \"\" ;\n\t\t\t\t\tthis.keydown = true ;\n\t\t\t\t\tif(m.altKey) {\n\t\t\t\t\t\tswitch(m.key) {\n\t\t\t\t\t\t\tcase \"ArrowUp\":this.cam.camd = this.cam.camd - keymag; if(this.cam.camd<0) cthis.am.camd = 0 ; break ;\n\t\t\t\t\t\t\tcase \"ArrowDown\":this.cam.camd = this.cam.camd + keymag ; break ;\n\t\t\t\t\t\t}\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tswitch(m.key) {\n\t\t\t\t\t\t\tcase \"ArrowLeft\":\n\t\t\t\t\t\t\tcase \"Left\":\n\t\t\t\t\t\t\tcase \"h\":\n\t\t\t\t\t\t\t\tthis.vry = -keymag ;\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\tcase \"ArrowUp\":\n\t\t\t\t\t\t\tcase \"Up\":\n\t\t\t\t\t\t\tcase \"k\":\n\t\t\t\t\t\t\t\tthis.vrx = -keymag ;\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\tcase \"ArrowRight\":\n\t\t\t\t\t\t\tcase \"Right\":\n\t\t\t\t\t\t\tcase \"l\":\n\t\t\t\t\t\t\t\tthis.vry = keymag ;\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\tcase \"ArrowDown\":\n\t\t\t\t\t\t\tcase \"Down\":\n\t\t\t\t\t\t\tcase \"j\":\n\t\t\t\t\t\t\t\tthis.vrx = keymag ;\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\n\t\t\t\t\t\t\tcase \"w\":\n\t\t\t\t\t\t\t\tmd = \"f\" ; break ;\n\t\t\t\t\t\t\tcase \"s\":\n\t\t\t\t\t\t\t\tmd = \"b\" ;break ;\n\t\t\t\t\t\t\tcase \"a\":\n\t\t\t\t\t\t\t\tmd = \"l\" ;break ;\n\t\t\t\t\t\t\tcase \"d\":\n\t\t\t\t\t\t\t\tmd = \"r\" ;break ;\t\n\t\t\t\t\t\t\tcase \"q\":\n\t\t\t\t\t\t\t\tmd = \"u\" ;break ;\n\t\t\t\t\t\t\tcase \"e\":\n\t\t\t\t\t\t\t\tmd = \"d\" ;break ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(md!=\"\") {\n\t\t\t\t\t\tconst dir = ((md==\"b\"||md==\"d\")?-1:1)*keymag*scale \n\t\t\t\t\t\tconst cam = this.cam ;\n\t\t\t\t\t\tif(md==\"u\"||md==\"d\") {\n\t\t\t\t\t\t\tthis.vcy = dir ;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet ry = cam.camRY ;\n\t\t\t\t\t\t\tif(md==\"l\") ry = ry -90 ;\n\t\t\t\t\t\t\tif(md==\"r\") ry = ry +90 ;\n\t\t\t\t\t\t\tthis.vcx =  Math.sin(ry*RAD) *dir ;\n\t\t\t\t\t\t\tthis.vcz = -Math.cos(ry*RAD)* dir ;\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tbreak ;\n\t\t\t\tcase \"keyup\":\n\t\t\t\t\tthis.keydown = false ;\n\t\t\t\t\tif(this.gev!==null) {\n\t\t\t\t\t\tthis.gx = this.gev.rx - this.cam.camRX ;\n\t\t\t\t\t\tthis.gy = this.gev.ry - this.cam.camRY ;\n\t\t//\t\t\t\tconsole.log(this.gx+\"/\"+this.gy) ;\n\t\t\t\t\t}\n\t\t\t\t\tswitch(m.key) {\n\t\t\t\t\t\tcase \"ArrowLeft\":\n\t\t\t\t\t\tcase \"Left\":\n\t\t\t\t\t\tcase \"h\":\n\t\t\t\t\t\tcase \"ArrowRight\":\n\t\t\t\t\t\tcase \"Right\":\n\t\t\t\t\t\tcase \"l\":\n\t\t\t\t\t\t\tthis.vry = 0 ; break ;\n\t\t\t\t\t\tcase \"ArrowUp\":\n\t\t\t\t\t\tcase \"Up\":\n\t\t\t\t\t\tcase \"k\":\n\t\t\t\t\t\tcase \"ArrowDown\":\n\t\t\t\t\t\tcase \"Down\":\n\t\t\t\t\t\tcase \"j\":\n\t\t\t\t\t\t\tthis.vrx = 0  ; break ;\n\t\t\t\t\t\tcase \"w\":\n\t\t\t\t\t\tcase \"d\":\n\t\t\t\t\t\tcase \"a\":\n\t\t\t\t\t\tcase \"s\":\n\t\t\t\t\t\tcase \" \":\n\t\t\t\t\t\t\tthis.vcx = 0 ; this.vcz = 0 ; break ;\n\t\t\t\t\t\tcase \"q\":\n\t\t\t\t\t\tcase \"e\":\n\t\t\t\t\t\t\tthis.vcy = 0 ;break ;\n\t\t\t\t\t\tcase \"Dead\": //mobile safari no keyup key\n\t\t\t\t\t\t\tthis.vrx = 0 ; this.vry = 0 ; this.vcx = 0 ; this.vcz = 0 ; \n\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t}\t\t\t\n\t\t\t\t\tbreak ;\t\n\t\t\t\t}\n\t\t}\n\t\tupdate(time) {\n\t\t\tconst ft = (this.poxp.ctime - this.poxp.ltime)/1000\n\t\t//console.log(ft)\n\t\t\tif(this.cam.camMode!=\"fix\") {\n\t\t\t\tthis.cam.camRX += this.vrx ;\n\t\t\t\tif(this.cam.camRX<-89) this.cam.camRX = -89 ; \n\t\t\t\tif(this.cam.camRX>89) this.cam.camRX = 89 ; \n\t\t\t\tthis.cam.camRY += this.vry ;\n\t\t\t}\n\t\t\tif(this.cam.camMode==\"walk\") {\n\t\t\t\tif(!this.cama) {\n\t\t\t\t\tthis.cam.camCX += this.vcx *ft ;\n\t\t\t\t\tthis.cam.camCY += this.vcy *ft ;\n\t\t\t\t\tthis.cam.camCZ += this.vcz *ft ;\n\t\t\t\t}\n\t\t\t\tthis.cam.camRY += this.vry *ft ;\n\t\t\t}\n\t\t\tif(this.cama) {\n\t\t\t\tthis.cam.camCX += this.acx *ft ;\n\t\t\t\tthis.cam.camCY += this.acy *ft ;\n\t\t\t\tthis.cam.camCZ += this.acz *ft ;\t\n\t\t\t\tthis.ad += this.av * ft \n\t\t\t\tif( this.ad > this.al ) {\n\t\t\t\t\tthis.cam.camCX = this.aex\n\t\t\t\t\tthis.cam.camCY = this.aey\n\t\t\t\t\tthis.cam.camCZ = this.aez\n\t\t\t\t\tthis.cama = false \n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetPad(gpad,gpad2) {\n\t\t\tlet gp = gpad?gpad:gpad2\n\t\t\tif(!gp) return \n\t\t\tif(this.cam.camMode==\"walk\") {\n\t\t\t\tlet axes = [gp.axes[0],gp.axes[1]]\n\t\t\t\tif(gp.axes[2]!=undefined && gp.axes[2]!=0) axes[0] = gp.axes[2]\n\t\t\t\tif(gp.axes[3]!=undefined && gp.axes[3]!=0) axes[1] = gp.axes[3]\n\t\t\t\tif(this.cam.padMoveUD && gp.buttons[1] && gp.buttons[1].pressed) {\n\t\t\t\t\tthis.vcy = -axes[1]*this.cam.moveSpeed\n\t\t\t\t\tthis.pvy = true ;\n\t\t\t\t\treturn\n\t\t\t\t} else if(this.pvy) {\n\t\t\t\t\tthis.vcy = 0 \n\t\t\t\t\tthis.pvy = false\n\t\t\t\t}\n\t\t\t\tlet m = gp.buttons[2] && gp.buttons[2].pressed\n\t\t\t\tlet mv = (m)?this.cam.moveSpeed*5:this.cam.moveSpeed\n\t\t\t\tif(Math.abs(axes[0])<Math.abs(axes[1]) && Math.abs(axes[1])>0 ) {\n\t\t\t\t\t\tthis.vcx = -this.cam.headVec[0] * axes[1]*mv\n\t\t\t\t\t\tif(this.cam.moveY) this.vcy = -this.cam.headVec[1] * axes[1]*mv\n\t\t\t\t\t\tthis.vcz = -this.cam.headVec[2] * axes[1]*mv\n\t\t\t\t\t\tthis.pvx = true\n\t\t\t\t\t\treturn \n\t\t\t\t} else if(this.pvx) {\t\t\n\t\t\t\t\t\tthis.vcx = 0 \n\t\t\t\t\t\tthis.vcy = 0\n\t\t\t\t\t\tthis.vcz = 0 \n\t\t\t\t\t\tthis.pvx = false \n\t\t\t\t}\n\t\t\t\tif(this.cam.padRot && gp.dpad[0]>0) {\n\t\t\t\t\tlet rot = ((axes[0]>0)?1:-1) * this.cam.rotAngle\n\t\t\t\t\tthis.cam.camRY += rot\n\t\t\t\t\tif(false && this.cam.position) {\n\t\t\t\t\t\tlet th = rot * RAD \n\t\t\t\t\t\tthis.cam.camCX += Math.cos(th)*this.cam.position[0]+ Math.sin(th)*this.cam.position[2]\n\t\t\t\t\t\tthis.cam.camCZ += -Math.sin(th)*this.cam.position[0]+ Math.cos(th)*this.cam.position[2]\n\t\t\t\t\t\tconsole.log(Math.cos(th)*this.cam.position[0]+ Math.sin(th)*this.cam.position[2]\n\t\t\t\t\t\t,-Math.sin(th)*this.cam.position[0]+ Math.cos(th)*this.cam.position[2])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tmoveTo(x,y,z,opt) {\n\t\t\tif(this.cama) return \n\t\t\tlet cx = (x!==null)?x:this.cam.camCX\n\t\t\tlet cy = (y!==null)?y:this.cam.camCY\n\t\t\tlet cz = (z!==null)?z:this.cam.camCZ \n\t\t\tif(opt && opt.velocity) {\n\t\t\t\tlet vx = cx - this.cam.camCX \n\t\t\t\tlet vy = cy - this.cam.camCY \n\t\t\t\tlet vz = cz - this.cam.camCZ\n\t\t\t\tlet l = opt.velocity / Math.hypot(vx,vy,vz)\n\t\t\t\tvx *= l , vy *= l, vz *= l\n\t\t\t\tthis.acx = vx \n\t\t\t\tthis.acy = vy\n\t\t\t\tthis.acz = vz\n\t\t\t\tthis.aex = cx \n\t\t\t\tthis.aey = cy \n\t\t\t\tthis.aez = cz\n\t\t\t\tthis.al = opt.velocity/l\n\t\t\t\tthis.ad = 0 \n\t\t\t\tthis.av = opt.velocity \n\t\t\t\tthis.cama = true \n\t\t\t} else {\n\t\t\t\tthis.cam.camCX = cx \n\t\t\t\tthis.cam.camCY = cy \n\t\t\t\tthis.cam.camCZ = cz \n\t\t\t\tthis.cama = false \n\t\t\t}\n\t\t}\n\t\tmoveCancel() {\n\t\t\tthis.cama = false \n\t\t}\n\t\tgetMtx(scale,sf) {\n\t\t\tconst cam = this.cam ;\n\t\t\tconst can = this.poxp.render.wwg.can ;\n\n\t\t\tconst aspect = can.width/(can.height*((sf)?2:1)) ;\n\t\t\tconst cams = [];\n\t\t//console.log(cam);\n\t\t//console.log(cam.camRX+\"/\"+cam.camRY) ;\n\t\t\tlet cx,cy,cz,ex,ey,ez,upx,upy,upz,camd ;\n\t\t\tlet vrFrame = null\n\t\t\tupx = cam.camUPX ;\n\t\t\tupy = cam.camUPY ;\n\t\t\tupz = cam.camUPZ ;\t\n\t\t\tex =[0,0], ey=[0,0],ez=[0,0] ;\n\t\t\tif(!this.poxp.isVR) {\n\t\t\t\tif(cam.camMode==\"fix\") {\n\t\t\t\t\tcx = cam.camVX ;\n\t\t\t\t\tcy = cam.camVY ;\n\t\t\t\t\tcz = cam.camVZ ;\n\t\t\t\t\tthis.cam.headVec = [cx,cy,cz,0]\n\t\t\t\t}\n\t\t\t\telse if(cam.camMode==\"vr\" || cam.camMode==\"walk\") {\n\t\t\t\t\t// self camera mode \n\t\t\t\t\tcx = cam.camCX + Math.sin(cam.camRY*RAD)*1*Math.cos(cam.camRX*RAD)\n\t\t\t\t\tcy = cam.camCY + -Math.sin(cam.camRX*RAD)*1 ; \n\t\t\t\t\tcz = cam.camCZ + -Math.cos(cam.camRY*RAD)*1*Math.cos(cam.camRX*RAD)\t\n\t\t\t\t\tlet cmat = new Mat4().rotate(-this.cam.camRX,1,0,0).rotate(-this.cam.camRY,0,1,0).rotate(-this.cam.camRZ,0,0,1)\n\t\t\t\t\tupx = -Math.sin(cam.camRZ*RAD)\n\t\t\t\t\tupy = Math.cos(cam.camRZ*RAD)\n\t\t\t\t\tthis.cam.headVec = cmat.multVec4(0,0,-1,0)\n\t\t\t\t} else  {\n\t\t\t\t// bird camera mode \n\t\t\t\t\tcamd=  cam.camd*scale ;\n\t\t\t\t\tcam.camCX  = -Math.sin(cam.camRY*RAD)*camd*Math.cos(cam.camRX*RAD)\n\t\t\t\t\tcam.camCY = Math.sin(cam.camRX*RAD)*camd ; \n\t\t\t\t\tcam.camCZ = Math.cos(cam.camRY*RAD)*camd*Math.cos(cam.camRX*RAD)\n\t\t\t\t\tcx = 0 ,cy = 0, cz = 0 ;\n\t\t\t\t\tif(camd<0) {\n\t\t\t\t\t\tcx = cam.camCX*2 ;cy = cam.camCY*2 ;cz = cam.camCZ*2 ;\n\t\t\t\t\t}\n\t\t\t\t\tlet l = Math.hypot(cam.camCX,cam.camCY,cam.camCZ)\n\t\t\t\t\tthis.cam.headVec = [-cam.camCX/l,-cam.camCY/l,-cam.camCZ/l,0] \n\t\t\t\t}\n\t\t\t\tthis.cam.campos = [cam.camCX,cam.camCY,cam.camCZ]\n\n\t\t\t\tthis.camVP[0].makeIdentity()\n\t\t\t\tthis.camVP[1].makeIdentity()\n\t\t\t\tthis.camP[0].makeIdentity()\n\t\t\t\tthis.camP[1].makeIdentity()\n\t\t\t\tthis.camV[0].makeIdentity()\n\t\t\t\tthis.camV[1].makeIdentity()\n\t\t\t\t\t\n\t\t\t\tif(sf) {\t\t// for stereo\n\t\t\t\t\tconst dx = -cam.sbase * scale ;\t// stereo base\n\t\t\t\t\tex[0] =  upy * (cam.camCZ-cz) - upz * (cam.camCY-cy);\n\t\t\t\t\tey[0] = -upx * (cam.camCZ-cz) + upz * (cam.camCX-cx);\n\t\t\t\t\tez[0] =  upx * (cam.camCY-cy) - upy * (cam.camCX-cx);\n\t\t\t\t\tconst mag = Math.hypot(ex[0],ey[0],ez[0]);\n\t\t\t\t\tex[0] *= dx/mag ; ey[0] *=dx/mag ; ez[0] *= dx/mag ;\n\t\t\t\t\tex[1] = -ex[0] ; ey[1] = -ey[0] ; ez[1] = -ez[0] ;\n\t\t\t//\t\t\tconsole.log(dx+\":\"+xx+\"/\"+xy+\"/\"+xz)\n\t\t\t\t\tthis.camV[0].lookat(ex[0]+cam.camCX, ey[0]+cam.camCY, ez[0]+cam.camCZ, cx+ex[0], cy+ey[0], cz+ez[0], upx,upy,upz) ;\n\t\t\t\t\tthis.camV[1].lookat(ex[1]+cam.camCX, ey[1]+cam.camCY, ez[1]+cam.camCZ, cx+ex[1], cy+ey[1], cz+ez[1], upx,upy,upz) ;\n\n\t\t\t\t\tif(cam.camAngle!=0) this.camP[0].perspective(cam.camAngle,aspect, cam.camNear, cam.camFar)\n\t\t\t\t\telse this.camP[0].pallarel(cam.camd,aspect, cam.camNear, cam.camFar) ;\n\t\t\t\t\tthis.camP[1] = this.camP[0]\n\t\t\t\t\tthis.camVP[0].load(this.camV[0]).multRight(this.camP[0])\n\t\t\t\t\tthis.camVP[1].load(this.camV[1]).multRight(this.camP[1])\n\t\t\t\t} else {\n\t\t\t\t\tthis.camV[0].lookat(cam.camCX, cam.camCY, cam.camCZ, cx, cy, cz, upx,upy,upz) ;\n\t\t\t\t\tif(cam.camAngle!=0) this.camP[0].perspective(cam.camAngle,aspect, cam.camNear, cam.camFar)\n\t\t\t\t\telse this.camP[0].pallarel(cam.camd,aspect, cam.camNear, cam.camFar) ;\n\t\t\t\t\tthis.camVP[0].load(this.camV[0]).multRight(this.camP[0])\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(this.poxp.isVR) {\n\t\t\t\t\n\t\t\t\tPOXPDevice.setDepth({camNear:cam.camNear,camFar:cam.camFar})\n\n\t\t\t\tvrFrame = POXPDevice.getFrameData()\n\t\t//\t\tconsole.log(vrFrame)\n\t\t\t\tif(!vrFrame) return \n\t\t\t\tthis.cam.orientation = vrFrame.pose.orientation\n\t\t\t\tthis.cam.position = vrFrame.pose.position\n\t\t\t\tif(!this.cam.position) this.cam.position = [0,0,0]\n\t\t\t\tthis.vrv[1].load(vrFrame.rightViewMatrix)\n\t\t\t\tthis.vrv[0].load(vrFrame.leftViewMatrix)\n\t\t\t\tthis.vrp[1].load(vrFrame.rightProjectionMatrix)\n\t\t\t\tthis.vrp[0].load(vrFrame.leftProjectionMatrix)\n\t\t \n\t\t\t\tthis.tempM.makeIdentity()\n\t\t\t\t\t.translate(-cam.camCX,-cam.camCY,-cam.camCZ)\n\t\t\t\t\t.rotate(cam.camRX,1,0,0)\n\t\t\t\t\t.rotate(cam.camRY,0,1,0)\n\t\t\t\t\t.rotate(cam.camRZ,0,0,1)\n\n\t\t\t\tthis.camV[0].load(this.vrv[0])\n\t\t\t\tif(this.leftCorrMtx) this.camV[0].multRight(this.leftCorrMtx)\n\t\t\t\tthis.camV[0].multLeft( this.tempM )\n\t\t\t\tthis.camVP[0].load(this.camV[0]).multRight(this.vrp[0]) \n\t\t\t\tthis.camP[0].load(this.vrp[0])\n\t\t\t\t\n\t\t\t\tthis.camV[1].load(this.vrv[1])\n\t\t\t\tif(this.rightCorrMtx) this.camV[1].multRight(this.rightCorrMtx)\n\t\t\t\tthis.camV[1].multLeft( this.tempM )\n\t\t\t\tthis.camVP[1].load(this.camV[1]).multRight(this.vrp[1]) \n\t\t\t\tthis.camP[1].load(this.vrp[1])\n\t\t\t\t\n\t\t\t\tlet cx =0,cy =0,cz=1\n\t\t\t\tif(this.cam.orientation ) {\n\t\t\t\t\tlet x = this.cam.orientation[0] ;\n\t\t\t\t\tlet y = this.cam.orientation[1] ;\n\t\t\t\t\tlet z = this.cam.orientation[2] ;\n\t\t\t\t\tlet w = this.cam.orientation[3] ;\n\t\t\t\t\tcx = 2*(-x*z-y*w) \n\t\t\t\t\tcy = 2*(-y*z+x*w)\n\t\t\t\t\tcz = (x*x+y*y-z*z-w*w)\n\t\t\t\t\tlet l = Math.hypot(cx,cy,cz)\n\t\t\t\t\tcx /= l ,cy /=l, cz /= l \n\t\t\t\t}\n\t\t\t\tthis.tempM.invert() \n\t\t//\t\tlet cmat = new Mat4().rotate(-this.cam.camRX,1,0,0).rotate(-this.cam.camRY,0,1,0)\n\t\t//\t\tcmat.translate(cam.camCX,cam.camCY,cam.camCZ)\n\t\t\t\tlet cmat = this.tempM \n\t\t\t\tthis.cam.headVec = cmat.multVec4(cx,cy,cz,0)\n\t\t\t\tthis.cam.campos = cmat.multVec4(this.cam.position[0],this.cam.position[1],this.cam.position[2],1).slice(0,3)\n\n\t\t\t\tlet ivr = new Mat4().load(this.camV[1]).invert() ;\n\t\t\t\tlet ivl = new Mat4().load(this.camV[0]).invert() ;\n\t\t\t\tex[0] = ivl.buf[12] -cam.camCX\n\t\t\t\tey[0] = ivl.buf[13] -cam.camCY\n\t\t\t\tez[0] = ivl.buf[14] -cam.camCZ \n\t\t\t\tex[1] = ivr.buf[12] -cam.camCX\n\t\t\t\tey[1] = ivr.buf[13] -cam.camCY\n\t\t\t\tez[1] = ivr.buf[14] -cam.camCZ\n\t\t\t}\n\t\t//\tconsole.log(camVP)\n\t\t\treturn [{camX:cam.camCX+ex[0],camY:cam.camCY+ey[0],camZ:cam.camCZ+ez[0], \n\t\t\t\tcamV:this.camV[0],camVP:this.camVP[0],camP:this.camP[0], vrFrame:vrFrame},\n\t\t\t{camX:cam.camCX+ex[1],camY:cam.camCY+ey[1],camZ:cam.camCZ+ez[1],\n\t\t\t\tcamV:this.camV[1],camVP:this.camVP[1],camP:this.camP[1],vrFrame:vrFrame}] ;\n\t\t}\n\t} // class Camera\n\n\n\treturn pox.Camera = Camera;\n});\ndefine('skylark-pox/WBind',[\n    \"./pox\"\n],function(pox){\n\t//WBind \n\t// license MIT\n\t// 2017 wakufactory \n\tWBind = { } \n\n\tWBind.create = function(init) {\n\t\tvar obj = new WBind.obj ;\n\t\tif(init!==undefined) {\n\t\t\tfor(var i in init) {\n\t\t\t\tobj[i] = init[i] ;\n\t\t\t}\n\t\t}\n\t\treturn obj ;\n\t}\n\tWBind.obj = function() {\n\t\tthis.prop = {} ;\n\t\tthis._elem = {} ;\n\t\tthis._check = {} ;\n\t\tthis._func = {} ;\n\t\tthis._tobjs = {} ;\n\t}\n\n\tWBind._getobj = function(elem,root) {\n\t\tif(!root) root = document ;\n\t\tvar e ;\n\t\tif(typeof elem == \"string\") {\n\t\t\te = root.querySelectorAll(elem) ;\n\t\t\tif(e.length==1) e = e[0] ;\n\t\t\tif(e.length==0) e = null ;\n\t\t} else {\n\t\t\te = elem ;\n\t\t}\n\t\treturn e ;\t\t\n\t}\n\tWBind._getval = function(e) {\n\t\tvar v = e.value ;\n\t\tif(e.type==\"checkbox\") {\n\t\t\tv = e.checked ;\n\t\t}\n\t\tif(e.type==\"select-multiple\") {\n\t\t\tvar o = e.querySelectorAll(\"option\") ;\n\t\t\tv = [] ;\n\t\t\tfor(var i=0;i<o.length;i++ ) {\n\t\t\t\tif(o[i].selected) v.push(o[i].value) ;\n\t\t\t}\n\t\t}\n\t\tif(e.type==\"range\") v = parseFloat(v) ;\n\t\treturn v ;\t\t\n\t}\n\n\t// bind innerHTML\n\tWBind.obj.prototype.bindHtml= function(name,elem,func) {\n\t\tvar e = WBind._getobj(elem);\n\t\tif(!e) return this ;\n\t\tthis._elem[name] = e ;\n\t\tif(!func) func={} ;\n\t\tthis._func[name] = func ;\n\n\t\tObject.defineProperty(this,name,{\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t//\t\t\tWBind.log(\"get \"+name)\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].innerHTML ;\n\t\t\t\telse this.prop[name] = e.innerHTML ;\n\t\t\t\treturn this.prop[name]  ;\n\t\t\t},\n\t\t\tset:function(val) {\n\t//\t\t\tWBind.log(\"set \"+name) \n\t\t\t\tif(this._func[name].set) val = this._func[name].set(val) ;\n\t\t\t\tthis.prop[name] = val ;\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) {\n\t\t\t\t\tfor(var i=0;i<e.length;i++) {\n\t//\t\t\t\t\tconsole.log(this._elem[name][i])\n\t\t\t\t\t\tthis._elem[name][i].innerHTML = val \n\t\t\t\t\t}\n\t\t\t\t} else  this._elem[name].innerHTML = val ;\n\t\t\t}\n\t\t})\n\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].innerHTML ;\n\t\telse this.prop[name] = e.innerHTML ;\n\t\treturn this ;\n\t}\n\t//bind css\n\tWBind.obj.prototype.bindStyle= function(name,elem,css,func) {\n\t\tvar e = WBind._getobj(elem);\n\t\tif(!e) return this ;\n\t\tthis._elem[name] = e ;\n\t\tif(!func) func={} ;\n\t\tthis._func[name] = func ;\t\n\n\t\tObject.defineProperty(this,name,{\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t//\t\t\tWBind.log(\"get \"+name)\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].style[css] ;\n\t\t\t\telse this.prop[name] = e.style[css] ;\n\t\t\t\treturn this.prop[name]  ;\n\t\t\t},\n\t\t\tset:function(val) {\n\t//\t\t\tWBind.log(\"set \"+name) \n\t\t\t\tif(this._func[name].set) val = this._func[name].set(val) ;\n\t\t\t\tthis.prop[name] = val ;\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) {\n\t\t\t\t\tfor(var i=0;i<e.length;i++) {\n\t\t\t\t\t\tthis._elem[name][i].style[css] = val \n\t\t\t\t\t}\n\t\t\t\t} else this._elem[name].style[css] = val ;\n\t\t\t}\n\t\t})\n\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].style[css] ;\n\t\telse this.prop[name] = e.style[css] ;\n\t\treturn this ;\t\n\t}\n\t//bind attribute\n\tWBind.obj.prototype.bindAttr= function(name,elem,attr,func) {\n\t\tvar e = WBind._getobj(elem);\n\t\tif(!e) return this ;\n\t\tthis._elem[name] = e ;\n\t\tif(!func) func={} ;\n\t\tthis._func[name] = func ;\t\n\n\t\tObject.defineProperty(this,name,{\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t//\t\t\tWBind.log(\"get \"+name)\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].getAttribute(attr) ;\n\t\t\t\telse this.prop[name] = e.getAttribute(attr) ;\n\t\t\t\treturn this.prop[name]  ;\n\t\t\t},\n\t\t\tset:function(val) {\n\t//\t\t\tWBind.log(\"set \"+name) \n\t\t\t\tif(this._func[name].set) val = this._func[name].set(val) ;\n\t\t\t\tthis.prop[name] = val ;\n\t\t\t\tif((e instanceof NodeList || Array.isArray(e))) {\n\t\t\t\t\tfor(var i=0;i<e.length;i++) {\n\t\t\t\t\t\tthis._elem[name][i].setAttribute(attr,val) \n\t\t\t\t\t}\n\t\t\t\t} else this._elem[name].setAttribute(attr,val) ;\n\t\t\t}\n\t\t})\n\t\tif((e instanceof NodeList || Array.isArray(e))) this.prop[name] = e[0].getAttribute(attr) ;\n\t\telse this.prop[name] = e.getAttribute(attr) ;\n\t\treturn this ;\t\n\t}\n\t// bind input\n\tWBind.obj.prototype.bindInput= function(name,elem,func) {\n\t\tvar e = WBind._getobj(elem);\n\t\tif(!e) return this ;\n\t\tif(!func) func={} ;\n\t\tthis._func[name] = func ;\n\t\tif((e instanceof NodeList || Array.isArray(e))&&\n\t\t\te[0].type!=\"checkbox\"&&e[0].type!=\"radio\") e = e[0] ;\n\t\tvar exist = (this.prop[name]!=undefined) ;\n\t\tthis._elem[name] = e ;\n\t\tObject.defineProperty(this,name,{\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t//\t\t\tthis.prop[name] = e.value ;\n\t\t\t\tvar v = _getprop(name) ;\n\t\t\t\tif(this._func[name].get) v = this._func[name].get(v) ;\n\t\t\t\treturn v  ;\n\t\t\t},\n\t\t\tset:function(val) {\n\t//\t\t\tWBind.log(\"set \"+name) \n\t\t\t\tif(this._func[name].set) val = this._func[name].set(val) ;\n\t\t\t\tthis.prop[name] = val ;\n\t\t\t\t_setval(name,val) ;\n\t\t\t\tif(this._func[name].change) this._func[name].change(_getprop(name)) ;\n\t\t\t\tif(this._func[name].input) this._func[name].input(_getprop(name)) ;\n\t\t\t}\n\t\t})\n\t\tvar self = this ;\n\t\tvar v = null ;\n\t\t\n\t\tif((e instanceof NodeList || Array.isArray(e))) {\n\n\t\t\tif(e[0].type==\"checkbox\") self._check[name] = {} ;\n\t\t\tfor(var i=0;i<e.length;i++) {\n\t\t\t\tif( typeof e[i] != \"object\") continue ;\n\t\t\t\tif(!exist) e[i].addEventListener(\"change\", function(ev) {\n\t\t\t\t\tvar val ;\n\t\t\t\t\tif(this.type==\"checkbox\" ) {\n\t\t\t\t\t\tself._check[name][this.value] = this.checked ;\n\t\t\t\t\t\tval = _getprop(name);\n\t\t\t\t\t}\n\t\t\t\t\telse val = this.value ;\n\t\t\t\t\tself.prop[name] = val ;\n\t\t\t\t\tif(self._func[name].get) val = self._func[name].get(val) ;\n\t\t\t\t\tWBind.log(\"get \"+name+\"=\"+val)\n\t\t\t\t\tif(self._func[name].change) self._func[name].change(val) ;\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tif(e[i].type==\"radio\" && e[i].checked) v = e[i].value ;\n\t\t\t\telse if(e[i].type==\"checkbox\" )  {\n\t\t\t\t\tself._check[name][e[i].value] = e[i].checked;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(e[0].type==\"checkbox\") v = _getprop(name);\n\t\t} else {\n\t\t\tv = WBind._getval(e) ;\n\t\t\tif(!exist) e.addEventListener(\"change\", function(ev) {\n\t\t\t\tvar val = WBind._getval(this) ;\n\t\t\t\tself.prop[name] = val ;\n\t\t\t\tif(self._func[name].get) val = self._func[name].get(val) ;\n\t//\t\t\tWBind.log(\"get \"+name+\"=\"+val)\n\t\t\t\tif(self._func[name].change) self._func[name].change(val) ;\n\t\t\t})\n\t\t\tif(!exist) e.addEventListener(\"input\", function(ev) {\n\t\t\t\tvar val = WBind._getval(this) ;\n\t\t\t\tself.prop[name] = val ;\n\t\t\t\tif(self._func[name].get) val = self._func[name].get(val) ;\n\t\t//\t\tWBind.log(\"get \"+name+\"=\"+this.value)\n\t\t\t\tif(self._func[name].input) self._func[name].input(val) ;\n\t\t\t})\n\t\t}\n\t\tif(this._func[name].get) v = this._func[name].get(v) ;\n\t\tthis.prop[name] = v ;\n\t\tif(self._func[name].input) this._func[name].input(v) ;\n\t\tif(self._func[name].change) this._func[name].change(v) ;\n\n\n\t\tfunction _getprop(name) {\n\t\t\tvar v ;\n\t\t\tif(self._check[name]) {\n\t\t\t\tv = [] ;\n\t\t\t\tfor(var i in self._check[name]) {\n\t\t\t\t\tif(self._check[name][i]) v.push(i);\n\t\t\t\t}\n\t\t\t\tself.prop[name] = v ;\n\t\t\t} else  v = self.prop[name] ;\n\t\t\treturn v ;\n\t\t}\n\n\t\tfunction _setval(name,v) {\n\t\t\tvar e = self._elem[name] ;\n\t\t\tif(e instanceof NodeList || Array.isArray(e)) {\n\t\t\t\tif(e[0].type==\"radio\") {\n\t\t\t\t\tfor(var i=0;i<e.length;i++ ) {\n\t\t\t\t\t\tif(e[i].value == v) e[i].checked = true ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if(e[0].type==\"checkbox\") {\n\t\t\t\t\tvar chk = {} ;\n\t\t\t\t\tfor(var i=0; i<v.length;i++) {\n\t\t\t\t\t\tchk[v[i]] = true ;\n\t\t\t\t\t}\n\t\t\t\t\tfor(var i=0;i<e.length;i++ ) {\n\t\t\t\t\t\te[i].checked = chk[e[i].value] ;\n\t\t\t\t\t}\n\t\t\t\t\tself._check[name] = chk ;\n\t\t\t\t}\n\t\t\t} \n\t\t\telse if(e.type==\"checkbox\") e.checked = v ;\n\t\t\telse if(e.type==\"select-multiple\") {\n\t\t\t\tvar o = e.querySelectorAll(\"option\") ;\n\t\t\t\tfor(var i=0;i<o.length;i++ ) {\n\t\t\t\t\to[i].selected = false ;\n\t\t\t\t\tfor(var vi=0;vi<v.length;vi++) {\n\t\t\t\t\t\tif(o[i].value==v[vi]) o[i].selected = true ;\n\t\t\t\t\t}\n\t\t\t\t}\t\t\t\n\t\t\t}\n\t\t\telse e.value = v ;\t\n\t\t}\n\t\treturn this ;\n\t}\n\n\tWBind.obj.prototype.getCheck = function(name) {\n\t\treturn this._check[name] ;\n\t}\n\t//set callback function\n\tWBind.obj.prototype.setFunc = function(name,func) {\n\t\tfor(var f in func) {\n\t\t\tthis._func[name][f] = func[f] ;\n\t\t}\n\t\tvar val = WBind._getval( this._elem[name]) ;\n\t\tif(this._func[name].get) val = this._func[name].get(val) ;\n\t\tthis.prop[name] = val ;\n\t\treturn this._func[name]  ;\n\t}\n\t//bind all input elements\n\tWBind.obj.prototype.bindAllInput = function(base) {\n\t\tif(!base) base = document ;\n\t\tvar o = base.querySelectorAll(\"input,select,textarea\") ;\n\t\tvar na = {} ;\n\t\tfor(var i=0;i<o.length;i++) {\n\t\t\tvar n = o[i].name ;\n\t\t\tif(na[n]) {\n\t\t\t\tif(Array.isArray(na[n])) na[n].push(o[i]) ;\n\t\t\t\telse na[n] = [na[n],o[i]] ;\n\t\t\t} else na[n] = o[i] ;\n\t\t}\n\t\tfor(var i in na) {\n\t\t\tthis.bindInput(i,na[i])\n\t\t}\n\t\treturn na ;\n\t}\n\tWBind.obj.prototype.bindAll = function(selector,base) {\n\t\tif(base==null) base = document ;\n\t\tvar b = base.querySelectorAll(selector) ;\n\t\tfor(var i=0;i<b.length;i++) {\n\t\t\tvar name = b[i].getAttribute(\"data-bind\") ;\n\t\t\tif(b[i].tagName==\"INPUT\"||b[i].tagName==\"SELECT\") {\n\t\t\t\tthis.bindInput(name,b[i]) ;\n\t\t\t} else {\n\t\t\t\tthis.bindHtml(name,b[i])\n\t\t\t}\n\t\t}\n\t}\n\t//bind timer\n\tWBind.obj.prototype.setTimer = function(name,to,ttime,opt) {\n\t\tif(Array.isArray(to)) {\n\t\t\treturn this.setTimerM(name,to) ;\n\t\t}\n\t\tif(!opt) opt = {} ;\n\t\tvar cd ;\n\t\tvar sfx = null ;\n\t\tif(opt.from) cd = opt.from  ;\n\t\telse cd = this[name] ;\n\t\tif(isNaN(cd)) {\n\t\t\tif(cd.match(/^([0-9\\-\\.]+)(.*)$/)) {\n\t\t\t\tcd = parseFloat(RegExp.$1) ;\n\t\t\t\topt.sfx = RegExp.$2 ;\n\t\t\t}\n\t\t\telse cd = 0 ;\t\n\t\t} ;\n\t\tif(cd == to) return this;\n\t\tvar delay = 0 ;\n\t\tif(opt.delay) delay = opt.delay ;\n\t\tvar now = new Date().getTime() ;\n\t\tvar o =  {from:cd,to:to,st:now+delay,et:now+delay+ttime,opt:opt} ;\n\t\tthis._tobjs[name] = {tl:[o],tc:0} ;\n\t//\tWBind.log(o) ;\n\t\treturn this ;\n\t}\n\tWBind.obj.prototype.setTimerM = function(name,s) {\n\t\tvar o = [] ;\n\t\tvar now = new Date().getTime() ;\n\t\tvar cd = this[name] ;\n\t\tfor(var i=0;i<s.length;i++) {\n\t\t\tvar to = s[i].to ;\n\t\t\tvar ttime = s[i].time ;\n\t\t\tvar opt = s[i].opt ;\n\t\t\tif(!opt) opt = {} ;\n\n\t\t\tvar sfx = null ;\n\t\t\tif(isNaN(cd)) {\n\t\t\t\tif(cd.match(/^([0-9\\-\\.]+)(.*)$/)) {\n\t\t\t\t\tcd = parseFloat(RegExp.$1) ;\n\t\t\t\t\topt.sfx = RegExp.$2 ;\n\t\t\t\t}\n\t\t\t\telse cd = 0 ;\t\n\t\t\t} ;\n\t//\t\tif(cd == to) continue ;\n\t\t\tvar delay = 0 ;\n\t\t\tif(opt.delay) delay = opt.delay ;\n\t\t\to.push({from:cd,to:to,st:now+delay,et:now+delay+ttime,opt:opt}) ;\n\t\t\tcd = to ;\n\t\t}\n\t\tthis._tobjs[name] = {tl:o,tc:0} ;\n\t\tconsole.log(o);\n\t\treturn this ;\n\t}\n\tWBind.obj.prototype.clearTimer = function(name) {\n\t\tdelete(this._tobjs[name])\n\t}\n\tWBind.obj.prototype.updateTimer = function() {\n\t\tvar now = new Date().getTime() ;\n\t\tfor(var name in this._tobjs) {\n\t\t\tvar obj = (this._tobjs[name])\n\t\t\tvar o = obj.tl[obj.tc] ;\n\t//\t\tconsole.log(o);\n\t\t\tif(o===undefined) continue ;\n\t\t\t\n\t\t\tif(o.st>now) continue ;\n\t\t\tif(o.et<=now) {\n\t\t\t\tvar v = o.to ;\n\t\t\t\tif(o.opt.sfx) v = v + o.opt.sfx ;\n\t\t\t\tthis[name] = v ;\n\t//\t\t\tWBind.log(\"timeup \"+o.key) ;\n\t\t\t\tobj.tc++ ;\n\t\t\t\tif(this._tobjs[name].tl.length<obj.tc) delete(this._tobjs[name]) ;\n\t\t\t\tif(o.opt.efunc) o.opt.efunc(o.to) ;\n\n\t\t\t} else {\n\t\t\t\tvar t = (now-o.st)/(o.et-o.st) ;\n\t\t\t\tif(o.opt.tfunc) {\n\t\t\t\t\tif(typeof o.opt.tfunc ==\"string\") {\n\t\t\t\t\t\tswitch(o.opt.tfunc) {\n\t\t\t\t\t\t\tcase \"ease-in\":\n\t\t\t\t\t\t\t\tt = t*t ;\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\tcase \"ease-out\":\n\t\t\t\t\t\t\t\tt = t*(2-t) ;\n\t\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\t\tcase \"ease-inout\":\n\t\t\t\t\t\t\t\tt = t*t*(3-2*t) ;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else t = o.opt.tfunc(t) ;\n\t\t\t\t}\n\t\t\t\tvar v = o.from + (o.to-o.from)* t;\n\t\t\t\tif(o.opt.sfx) v = v + o.opt.sfx ;\n\t//\t\t\tWBind.log(o.key+\"=\"+v) ;\n\t\t\t\tthis[name] = v ;\n\t\t\t}\n\t\t}\n\t}\n\n\n\t//utils\n\tWBind.log = function(msg) {\n\t\tconsole.log(msg) ;\n\t}\n\tWBind.addev = function(id,event,fn,root) {\n\t\tvar e = WBind._getobj(id,root) ;\n\t\tif(e) {\n\t\t\tif(!(e instanceof NodeList) && !Array.isArray(e)) e = [e] \n\t\t\tfor(var i=0;i<e.length;i++) {\n\t\t\t\te[i].addEventListener(event,function(ev) {\n\t\t\t\t\tif(!fn(ev)) ev.preventDefault() ;\n\t\t\t\t}) ;\n\t\t\t}\n\t\t}\n\t}\n\tWBind.set = function(data,root) {\n\t\tif(!root) root = document ;\n\t\tif(!(data instanceof Array)) data = [data] ;\n\n\t\tfor(var i =0;i<data.length;i++) {\n\t\t\tvar d = data[i] ;\n\t\t\tvar e ;\n\t\t\tif(d.obj) e = WBind._getobj(d.obj,root) ;\n\t\t\tif(d.id) e = root.getElementById(d.id) ;\n\t\t\tif(d.sel) e = root.querySelectorAll(d.sel) ;\n\t\t\tif(!e) continue ;\n\t\t\tif(!(e instanceof NodeList || Array.isArray(e))) e = [e] ;\n\t\t\tfor(var ee=0;ee<e.length;ee++ ) {\n\t\t\t\tif(d.html !=undefined) e[ee].innerHTML = d.html ;\n\t\t\t\tif(d.value !=undefined) e[ee].value = d.value ;\n\t\t\t\tif(d.attr !=undefined) e[ee].setAttribute(d.attr,d.value) ;\n\t\t\t\tif(d.style !=undefined) {\n\t\t\t\t\tfor(s in d.style) e[ee].style[s] = d.style[s] ;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn pox.WBind = WBind;\n});\n\ndefine('skylark-pox/WWG',[\n    \"./pox\"\n],function(pox){\n\t//WWG Simple WebGL wrapper library\n\t// Version 0.9 \n\t// 2016-2017 wakufactory.jp \n\t// license: MIT \n\t// WWG\n\t//   init(canvas)\n\t//   init2(canvas)\n\t//   loadAjax(src,opt)\n\t//   loadImageAjax(src)\n\t//   createRender()\n\t// Render\n\t//   setRender(scene)\n\t//   draw(update,cls)\n\t//   addModel(model)\n\t//   updateModel(name,mode,buf)\n\t//   addTex(texobj)\n\t//   loadTex(tex)\n\n\tfunction WWG() {\n\t\tthis.version = \"0.9.11\" ;\n\t\tthis.can = null ;\n\t\tthis.gl = null ;\n\t\tthis.vsize = {\"float\":1,\"vec2\":2,\"vec3\":3,\"vec4\":4,\"mat2\":4,\"mat3\":9,\"mat4\":16} ;\n\t}\n\tWWG.prototype.init = function(canvas,opt) {\n\t\tthis.can = canvas ;\n\t\tlet gl \n\t\tif(!((gl = canvas.getContext(\"experimental-webgl\",opt)) || (gl = canvas.getContext(\"webgl\",opt)))) { return false } ;\n\t\tif(!window.Promise) return false ;\n\t\tthis.gl = gl \n\t\tthis.ext_vao = gl.getExtension('OES_vertex_array_object');\n\t\tif(this.ext_vao) {\n\t\t\tthis.vao_create = function(){return this.ext_vao.createVertexArrayOES()} ;\n\t\t\tthis.vao_bind = function(o){this.ext_vao.bindVertexArrayOES(o)} ;\n\t\t}\n\t\tthis.ext_inst = gl.getExtension('ANGLE_instanced_arrays');\n\t\tif(this.ext_inst) {\n\t\t\tthis.inst_divisor = function(p,d){this.ext_inst.vertexAttribDivisorANGLE(p, d)}\n\t\t\tthis.inst_draw = function(m,l,s,o,c){this.ext_inst.drawElementsInstancedANGLE(m,l, s, o, c);}\n\t\t\tthis.inst_drawa = function(m,s,o,c) {this.ext_inst.drawArrayInstancedANGLE(m, s, o, c);}\n\t\t}\n\t\tthis.ext_anis = gl.getExtension(\"EXT_texture_filter_anisotropic\");\n\t\tthis.ext_ftex = gl.getExtension('OES_texture_float');\n\t\tthis.ext_mrt = gl.getExtension('WEBGL_draw_buffers');\n\t\tif(this.ext_mrt) {\n\t\t\tthis.mrt_att = this.ext_mrt.COLOR_ATTACHMENT0_WEBGL ;\n\t\t\tthis.mrt_draw = function(b,d){return this.ext_mrt.drawBuffersWEBGL(b,d)} ;\n\t\t}\n\t\tthis.ext_i32 = gl.getExtension('OES_element_index_uint')\n\t\tthis.ext_mv = gl.getExtension('WEBGL_multiview');\n\t\tif (this.ext_mv) \n\t        console.log(\"MULTIVIEW extension is supported\");\n\t\telse {\n\t\t\tthis.ext_mv = gl.getExtension('OVR_multiview');\n\t\t\tif (this.ext_mv)\n\t\t\t\tconsole.log(\"OVR MULTIVIEW extension is supported\");\n\t\t} \n\t\tthis.dmodes = {\"tri_strip\":gl.TRIANGLE_STRIP,\"tri\":gl.TRIANGLES,\"points\":gl.POINTS,\"lines\":gl.LINES,\"line_strip\":gl.LINE_STRIP }\n\t\tthis.version = 1 ;\n\t\treturn true ;\n\t}\n\tWWG.prototype.init2 = function(canvas,opt) {\n\t\tthis.can = canvas ;\n\t\tlet gl \n\t\tif(!((gl = canvas.getContext(\"experimental-webgl2\",opt)) || (gl = canvas.getContext(\"webgl2\",opt)))) { return false } ;\n\t\tif(!window.Promise) return false ;\n\t\tconsole.log(\"init for webGL2\") ;\n\t\tthis.gl = gl ;\n\t\t\n\t\tthis.ext_vao = true ;\n\t\tthis.vao_create = function(){ return this.gl.createVertexArray()} ;\n\t\tthis.vao_bind = function(o){this.gl.bindVertexArray(o)} ;\n\t\tthis.ext_inst = true ;\n\t\tthis.inst_divisor = function(p,d){this.gl.vertexAttribDivisor(p, d)}\n\t\tthis.inst_draw = function(m,l,s,o,c){this.gl.drawElementsInstanced(m,l, s, o, c);}\n\t\tthis.inst_drawa = function(m,s,o,c) {this.gl.drawArraysInstanced(m, s, o, c);}\n\t\tthis.ext_anis = gl.getExtension(\"EXT_texture_filter_anisotropic\");\n\t\tif(this.ext_anis) this.ext_anis_max = gl.getParameter(this.ext_anis.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n\t\tthis.ext_ftex = true ;\n\t\tthis.ext_mrt = (gl.getParameter(gl.MAX_DRAW_BUFFERS)>1) ;\n\t\tif(this.ext_mrt) {\n\t\t\tthis.mrt_att = gl.COLOR_ATTACHMENT0 ;\n\t\t\tthis.mrt_draw =  function(b,d){return gl.drawBuffers(b,d)} ;\n\t\t}\n\t\tthis.ext_i32 = true ;\n\t\tthis.ext_mv = gl.getExtension('WEBGL_multiview');\n\t\tif (this.ext_mv) \n\t        console.log(\"MULTIVIEW extension is supported\");\n\t\telse {\n\t\t\tthis.ext_mv = gl.getExtension('OVR_multiview');\n\t\t\tif (this.ext_mv)\n\t\t\t\tconsole.log(\"OVR MULTIVIEW extension is supported\");\n\t\t} \n\t\tthis.dmodes = {\"tri_strip\":gl.TRIANGLE_STRIP,\"tri\":gl.TRIANGLES,\"points\":gl.POINTS,\"lines\":gl.LINES,\"line_strip\":gl.LINE_STRIP }\n\t\tthis.version = 2 ;\n\t\treturn true ;\n\t}\n\tWWG.prototype.loadAjax = function(src,opt) {\n\t\treturn new Promise((resolve,reject)=> {\n\t\t\tconst req = new XMLHttpRequest();\n\t\t\treq.open(\"get\",src,true) ;\n\t\t\treq.responseType = (opt && opt.type)?opt.type:\"text\" ;\n\t\t\treq.onload = ()=> {\n\t\t\t\tif(req.status==200) {\n\t\t\t\t\tresolve(req.response) ;\n\t\t\t\t} else {\n\t\t\t\t\treject(\"Ajax error:\"+req.statusText) ;\t\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\t\t\treq.onerror = ()=> {\n\t\t\t\treject(\"Ajax error:\"+req.statusText)\n\t\t\t}\n\t\t\treq.send() ;\n\t\t})\n\t}\n\tWWG.prototype.loadImageAjax = function(src) {\n\t\treturn new Promise((resolve,reject)=>{\n\t\t\tthis.loadAjax(src,{type:\"blob\"}).then((b)=>{\n\t\t\t\tconst timg = new Image ;\n\t\t\t\tconst url = URL.createObjectURL(b);\n\t\t\t\ttimg.onload = ()=> {\n\t\t\t\t\tURL.revokeObjectURL(url)\n\t\t\t\t\tresolve(timg) ;\n\t\t\t\t}\n\t\t\t\ttimg.src = url\n\t\t\t}).catch((err)=>{\n\t\t\t\tconsole.log(err)\n\t\t\t\tresolve(null) ;\n\t\t\t})\n\t\t})\n\t}\n\n\t// Render unit\n\tWWG.prototype.createRender = function() {\n\t\treturn new this.Render(this) ;\n\t}\n\tWWG.prototype.Render = function(wwg) {\n\t\tthis.wwg = wwg ;\n\t\tthis.gl = wwg.gl ;\n\t\tthis.env = {} ;\n\t//\tthis.obuf = [] ;\n\t\tthis.modelCount = 0 ;\n\t//\tthis.modelHash = {} ;\n\t}\n\tWWG.prototype.Render.prototype.setUnivec = function(uni,value) {\n\t\tif(uni.pos==null) return \n\t//\tconsole.log(\"set \"+uni.type+\"(\"+uni.pos+\") = \"+value) ;\n\t\tlet ar = [] ;\n\t\tif(uni.dim>0 && !(value instanceof Float32Array)) for(let i=0;i<uni.dim;i++) ar = ar.concat(value[i])\n\t\telse ar = value \n\t\tif(uni.cache!=null) {\n\t\t\tif(Array.isArray(ar)) {\n\t\t\t\tfor(let i=0;i<ar.length;i++) if(ar[i]!=uni.cache[i]) break ;\n\t\t\t\tif(i==ar.length) return ;\n\t\t\t} else if(ar == uni.cache) return ;\n\t\t}\n\t//\tconsole.log(\"set uni\")\n\t\tswitch(uni.type) {\n\t\t\tcase \"mat2\":\n\t\t\t\tthis.gl.uniformMatrix2fv(uni.pos,false,this.f32Array(value)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"mat3\":\n\t\t\t\tthis.gl.uniformMatrix3fv(uni.pos,false,this.f32Array(value)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"mat4\":\n\t\t\t\tthis.gl.uniformMatrix4fv(uni.pos,false,this.f32Array(value)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"vec2\":\n\t\t\t\tthis.gl.uniform2fv(uni.pos, this.f32Array(value)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"vec2v\":\n\t\t\t\tthis.gl.uniform2fv(uni.pos, this.f32Array(ar)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"vec3\":\n\t\t\t\tthis.gl.uniform3fv(uni.pos, this.f32Array(value)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"vec3v\":\n\t\t\t\tthis.gl.uniform3fv(uni.pos, this.f32Array(ar))\n\t\t\t\tbreak ;\n\t\t\tcase \"vec4\":\n\t\t\t\tthis.gl.uniform4fv(uni.pos, this.f32Array(value)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"vec4v\":\n\t\t\t\tthis.gl.uniform4fv(uni.pos, this.f32Array(ar)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"int\":\n\t\t\tcase \"bool\":\n\t\t\t\tthis.gl.uniform1i(uni.pos,value) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"ivec2\":\n\t\t\tcase \"bvec2\":\n\t\t\t\tthis.gl.uniform2iv(uni.pos, this.i16Array(value)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"ivec2v\":\n\t\t\tcase \"bvec2v\":\n\t\t\t\tthis.gl.uniform2iv(uni.pos, this.i16Array(ar)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"ivec3\":\n\t\t\tcase \"bvec3\":\n\t\t\t\tthis.gl.uniform3iv(uni.pos, this.i16Array(value)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"ivec3v\":\n\t\t\tcase \"bvec3v\":\n\t\t\t\tthis.gl.uniform3iv(uni.pos, this.i16Array(ar)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"ivec4\":\n\t\t\tcase \"bvec4\":\n\t\t\t\tthis.gl.uniform4iv(uni.pos, this.i16Array(value)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"ivec4v\":\n\t\t\tcase \"bvec4v\":\n\t\t\t\tthis.gl.uniform4iv(uni.pos, this.i16Array(ar)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"intv\":\n\t\t\tcase \"boolv\":\n\t\t\t\tthis.gl.uniform1iv(uni.pos,this.i16Array(value)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"float\":\n\t\t\t\tthis.gl.uniform1f(uni.pos,value) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"floatv\":\n\t\t\t\tthis.gl.uniform1fv(uni.pos,this.f32Array(value)) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"sampler2D\":\n\t\t\t\tif(typeof value == 'string') value = this.getTexIndex(value)\n\t\t\t\tthis.gl.activeTexture(this.gl.TEXTURE0+uni.texunit);\n\t\t\t\tthis.gl.bindTexture(this.gl.TEXTURE_2D, this.texobj[value]);\n\t\t\t\tif(this.data.texture[value]==undefined) break ;\n\t\t\t\tif(this.data.texture && this.data.texture[value].video) {\n\t\t\t\t\tthis.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, this.data.texture[value].video);\t\n\t\t\t\t}\n\t\t\t\tthis.gl.uniform1i(uni.pos,uni.texunit) ;\n\t\t\t\tbreak ;\n\t\t}\n\t}\n\n\tWWG.prototype.Render.prototype.setShader = function(data) {\n\t\tlet tu = 0 ;\n\t\tfunction parse_shader(src) {\n\t\t\tconst l = src.split(\"\\n\") ;\n\t\t\tconst uni = [] ;\n\t\t\tconst att = [] ;\n\t\t\tconst def = {}\n\n\t\t\tfor(i=0;i<l.length;i++) {\n\t\t\t\tlet ln = l[i] ;\n\t\t\t\tif( ln.match(/^\\s*#define\\s*([^\\s]+)\\s+([^\\s]+)/)) {\n\t\t\t\t\tdef[RegExp.$1.trim()] = RegExp.$2.trim()\n\t\t\t\t}\n\t\t\t\tif( ln.match(/^\\s*uniform\\s*([0-9a-z]+)\\s+([0-9a-z_]+)(\\[[^\\]]+\\])?/i)) {\n\t\t\t\t\tlet u = {type:RegExp.$1,name:RegExp.$2} ;\n\t\t\t\t\tif(RegExp.$3!=\"\") {\n\t\t\t\t\t\tu.type = u.type+\"v\" ;\n\t\t\t\t\t\tlet k = RegExp.$3.substr(1,RegExp.$3.length-2).trim()\n\t\t\t\t\t\tu.dim = parseInt(k) ;\n\t\t\t\t\t\tif(isNaN(u.dim)) u.dim = def[k]\n\t\t\t\t\t}\n\t\t\t\t\tif(u.type==\"sampler2D\") u.texunit = tu++ ;\n\t\t\t\t\tuni.push(u) ;\n\t\t\t\t}\n\t\t\t\tif( ln.match(/^\\s*(?:attribute|in)\\s+([0-9a-z]+)\\s*([0-9a-z_]+)/i)) {\n\t\t\t\t\tatt.push( {type:RegExp.$1,name:RegExp.$2}) ;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {uni:uni,att:att} ;\n\t\t}\n\n\t\tconst gl = this.gl ;\n\t\treturn new Promise((resolve,reject)=> {\n\t\t\tif(!data.vshader) { reject(\"no vshader\") ;return false;}\n\t\t\tif(!data.fshader) { reject(\"no fshader\") ;return false;}\n\t\t\tlet vss ;\n\t\t\tlet fss ;\n\t\t\tlet pr = [] ;\n\t\t\tif(data.vshader.text ) vss = data.vshader.text ;\n\t\t\telse if(data.vshader.src) {\n\t\t\t\tpr.push( this.wwg.loadAjax(data.vshader.src).then((result)=> {\n\t\t\t\t\tvss = result ;\n\t\t\t\t\tresolve() ;\n\t\t\t\t}).catch((err)=> {\n\t\t\t\t\treject(err) ;\n\t\t\t\t}))\n\t\t\t}\n\t\t\tif(data.fshader.text ) fss = data.fshader.text ;\n\t\t\telse if(data.fshader.src) {\n\t\t\t\tpr.push( this.wwg.loadAjax(data.fshader.src).then((result)=> {\n\t\t\t\t\tfss = result ;\n\t\t\t\t\tresolve() ;\n\t\t\t\t}).catch((err)=> {\n\t\t\t\t\treject(err) ;\n\t\t\t\t}))\n\t\t\t}\n\t\t\tPromise.all(pr).then((res)=> {\n\t//\t\t\tconsole.log(vss) ;\n\t//\t\t\tconsole.log(fss) ;\n\t\t\t\tlet ret = {} ;\n\t\t\t\tlet vshader = gl.createShader(gl.VERTEX_SHADER);\n\t\t\t\tgl.shaderSource(vshader, vss);\n\t\t\t\tgl.compileShader(vshader);\n\t\t\t\tif(!gl.getShaderParameter(vshader, gl.COMPILE_STATUS)) {\n\t\t\t\t\treject(\"vs error:\"+gl.getShaderInfoLog(vshader)); return false;\n\t\t\t\t}\n\t\t\t\tret.vshader = vshader ;\n\t\t\t\n\t\t\t\tlet fshader = gl.createShader(gl.FRAGMENT_SHADER);\n\t\t\t\tgl.shaderSource(fshader, fss);\n\t\t\t\tgl.compileShader(fshader);\n\t\t\t\tif(!gl.getShaderParameter(fshader, gl.COMPILE_STATUS)) {\n\t\t\t\t\treject(\"fs error:\"+gl.getShaderInfoLog(fshader)); return false;\n\t\t\t\t}\n\t\t\t\tret.fshader = fshader ;\n\t\t\t\t\n\t\t\t\tlet program = gl.createProgram();\n\t\t\t\tgl.attachShader(program, vshader);\n\t\t\t\tgl.attachShader(program, fshader);\n\t\t\t\tgl.linkProgram(program);\n\t\t\t\tif(!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n\t\t\t\t\treject(\"link error:\"+gl.getProgramInfoLog(program)); return false;\n\t\t\t\t}\n\t\t\t\tret.program = program ;\n\t\t\t\tgl.useProgram(program);\n\t\t\t\n\t\t\t\tlet vr = parse_shader(vss) ;\t\n\t//\t\t\tconsole.log(vr) ;\n\t\t\t\tret.vs_att = {} ;\t\n\t\t\t\tfor(let i in vr.att) {\n\t\t\t\t\tvr.att[i].pos = gl.getAttribLocation(program,vr.att[i].name) ;\n\t\t\t\t\tret.vs_att[vr.att[i].name] = vr.att[i] ;\n\t\t\t\t}\n\t\t\t\tret.vs_uni = {} ;\n\t\t\t\tfor(let i in vr.uni) {\n\t\t\t\t\tvr.uni[i].pos = gl.getUniformLocation(program,vr.uni[i].name) ;\n\t\t\t\t\tvr.uni[i].cache = null \n\t\t\t\t\tret.vs_uni[vr.uni[i].name] = vr.uni[i] ;\n\t\t\t\t}\n\t\t\t\n\t\t\t\tlet fr = parse_shader(fss) ;\t\n\t//\t\t\tconsole.log(fr);\t\n\t\t\t\tret.fs_uni = {} ;\n\t\t\t\tfor(let i in fr.uni) {\n\t\t\t\t\tfr.uni[i].pos = gl.getUniformLocation(program,fr.uni[i].name) ;\n\t\t\t\t\tfr.uni[i].cache = null \n\t\t\t\t\tret.fs_uni[fr.uni[i].name] = fr.uni[i] ;\n\t\t\t\t}\n\t\t\t\tresolve(ret) ;\n\t\t\t}).catch((err)=>{\n\t\t\t\treject(err) ;\n\t\t\t}) ;\n\t\t})\n\t}\n\tWWG.prototype.Render.prototype.setUniValues = function(data) {\n\t\tif(data.vs_uni) {\n\t\t\tfor(let i in data.vs_uni) {\n\t\t\t\tif(this.vs_uni[i]) {\n\t\t\t\t\tthis.setUnivec(this.vs_uni[i], data.vs_uni[i]) ;\n\t\t\t\t}  ;\n\t\t\t}\n\t\t}\n\t\tif(data.fs_uni) {\n\t\t\tfor(let i in data.fs_uni) {\n\t\t\t\tif(this.fs_uni[i]) {\n\t\t\t\t\tthis.setUnivec(this.fs_uni[i], data.fs_uni[i]) ;\n\t\t\t\t}  ;\n\t\t\t}\n\t\t}\n\t\treturn true ;\n\t}\n\tWWG.prototype.Render.prototype.genTex = function(img,option) {\n\t\tif(!option) option={flevel:0} ;\n\t\tlet gl = this.gl ;\n\t\tconst formatstr = {\"rgb\":gl.RGB,\"gray\":gl.LUMINANCE,\"grayalpha\":gl.LUMINANCE_ALPHA}\n\t\tlet format = (option.format && formatstr[option.format])?formatstr[option.format]:gl.RGBA\n\n\t\tlet tex = gl.createTexture();\n\t\tgl.bindTexture(gl.TEXTURE_2D, tex);\n\t\tif(option.isarray) {\n\t\t\tif(img instanceof Float32Array ) \n\t\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA32F, option.width,option.height,0,format, gl.FLOAT, img,0);\n\t\t\telse \n\t\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, option.width,option.height,0,format, gl.UNSIGNED_BYTE, img);\n\t\t\t option.flevel = 0 \n\t\t\t option.nomipmap = true\n\t\t} else \tgl.texImage2D(gl.TEXTURE_2D, 0, format, format,gl.UNSIGNED_BYTE, img);\n\n\t\tif(!option.nomipmap) gl.generateMipmap(gl.TEXTURE_2D);\n\t\t//NEAREST LINEAR NEAREST_MIPMAP_NEAREST NEAREST_MIPMAP_LINEAR LINEAR_MIPMAP_NEAREST LINEAR_MIPMAP_LINEAR\n\t\tswitch(option.flevel) {\n\t\tcase 0:\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\t\t\tbreak;\n\t\tcase 1:\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\t\t\tbreak;\n\t\tcase 2:\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\t\t\tbreak;\n\t\t}\n\t\tif(option.repeat==2) {\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\t\t} else if(option.repeat==1) {\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.MIRRORED_REPEAT);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.MIRRORED_REPEAT);\t\t\t\t\n\t\t} else {\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n\t\t}\n\t\tif(this.wwg.ext_anis && option.anisotropy) {\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, this.wwg.ext_anis.TEXTURE_MAX_ANISOTROPY_EXT, option.anisotropy);\n\t\t}\n\t\tgl.bindTexture(gl.TEXTURE_2D, null);\t\n\t\treturn tex ;\t\n\t}\n\tWWG.prototype.Render.prototype.loadTex = function(tex) {\n\t//\tconsole.log( tex);\n\t\tlet gl = this.gl ;\n\n\t\treturn new Promise((resolve,reject)=> {\n\t\t\tif(tex.src) {\n\t\t\t\tif(tex.opt && tex.opt.cors) {\n\t\t\t\t\tthis.wwg.loadImageAjax(tex.src).then((img)=>{\n\t\t\t\t\t\tresolve( this.genTex(img,tex.opt)) ;\n\t\t\t\t\t}).catch((err)=>reject(err));\n\t\t\t\t} else {\n\t\t\t\t\tlet img = new Image() ;\n\t\t\t\t\timg.onload = ()=> {\n\t\t\t\t\t\tresolve( this.genTex(img,tex.opt) ) ;\n\t\t\t\t\t}\n\t\t\t\t\timg.onerror = ()=> {\n\t\t\t\t\t\treject(\"cannot load image\") ;\n\t\t\t\t\t}\n\t\t\t\t\timg.src = tex.src ;\n\t\t\t\t}\n\t\t\t} else if(tex.img instanceof Image) {\n\t\t\t\tresolve( this.genTex(tex.img,tex.opt) ) \n\t\t\t} else if(tex.video ) {\n\t\t\t\tresolve( this.genTex(tex.video,{nomipmap:true,flevel:0,repeat:2}) ) \n\t\t\t} else if(tex.buffer) {\n\t\t\t\tif(tex.mrt!=undefined) {\n\t\t\t\t\tresolve( tex.buffer.fb.t[tex.mrt])\n\t\t\t\t}\n\t\t\t\telse resolve( tex.buffer.fb.t) ;\n\t\t\t} else if(tex.texture) {\n\t\t\t\tresolve( tex.texture) ;\n\t\t\t} else if(tex.canvas) {\n\t\t\t\tresolve( this.genTex(tex.canvas,tex.opt)) ;\n\t\t\t} else if(tex.array) {\n\t\t\t\ttex.opt.isarray = true ;\n\t\t\t\tresolve( this.genTex(tex.array,tex.opt)) ;\n\t\t\t} else {\n\t\t\t\treject(\"no image\")\n\t\t\t}\n\t\t})\n\t}\n\tWWG.prototype.Render.prototype.getTexIndex = function(name) {\n\t\tif(!this.data.texture) return null \n\t\tlet i \n\t\tfor(i=0;i<this.data.texture.length;i++) {\n\t\t\tif(this.data.texture[i].name==name) break;\n\t\t}\n\t\treturn (i==this.data.texture.length)?null:i\n\t}\n\tWWG.prototype.Render.prototype.addTex = function(texdata) {\n\t\treturn new Promise((resolve,reject)=>{\n\t\t\tif(!this.data.texture) this.data.texture = []\n\t\t\tthis.data.texture.push(texdata)\n\t\t\tthis.loadTex(texdata).then((tex)=>{\n\t\t\t\tthis.texobj.push(tex) ;\n\t\t\t\tresolve(this.texobj.length-1)\n\t\t\t}).catch((err)=>reject(err));\n\t\t})\n\t}\n\tWWG.prototype.Render.prototype.removeTex = function(tex) {\n\t\tif(typeof tex == \"string\") tex = this.getTexIndex(tex) \n\t\tif(tex === null ) return \n\t\tthis.data.texture[tex] = null\n\t\tthis.texobj[tex] = null \n\t}\n\n\tWWG.prototype.Render.prototype.frameBuffer = function(os) {\n\t\tlet gl = this.gl ;\n\t\tconsole.log(\"create framebuffer \"+os.width+\"x\"+os.height) ;\n\t\tlet mrt = os.mrt ;\n\t\tlet ttype = gl.UNSIGNED_BYTE ;\n\t\tlet tfilter = gl.LINEAR ;\n\t\tif(this.wwg.ext_ftex && os.float ) {\n\t\t\tttype = gl.FLOAT ;\n\t\t\ttfilter = gl.NEAREST ;\n\t\t\tconsole.log(\"use float tex\") ;\n\t\t}\n\t\tlet fblist = [] ;\n\t\tlet frameBuffer = gl.createFramebuffer();\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n\t\t//depth\n\t\tlet renderBuffer = gl.createRenderbuffer();\n\t\tgl.bindRenderbuffer(gl.RENDERBUFFER, renderBuffer);\n\t\tgl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_COMPONENT16, os.width, os.height);\t\n\t\tgl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_ATTACHMENT, gl.RENDERBUFFER, renderBuffer);\n\t\t//texture\n\t\tif(mrt) {\n\t\t\tlet fTexture = [] ;\n\t\t\tfor(let i=0;i<mrt;i++) {\n\t\t\t\tfTexture[i] = gl.createTexture();\n\t\t\t\tgl.bindTexture(gl.TEXTURE_2D, fTexture[i]);\n\t\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, os.width, os.height, 0, gl.RGBA, ttype, null);\n\t\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, tfilter);\n\t\t\t    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, tfilter);\n\t\t\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, this.wwg.mrt_att + i, gl.TEXTURE_2D, fTexture[i], 0);\t\n\t\t\t\tfblist.push(this.wwg.mrt_att + i)\t\t\n\t\t\t}\n\t\t} else {\n\t\t\tlet fTexture = gl.createTexture()\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, fTexture);\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, os.width, os.height, 0, gl.RGBA, ttype, null);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, tfilter);\n\t\t    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, tfilter);\n\t\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, fTexture, 0);\n\t\t}\n\t\tgl.bindTexture(gl.TEXTURE_2D, null);\n\t\tgl.bindRenderbuffer(gl.RENDERBUFFER, null);\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\t\n\n\t\tlet ret = {ox:os.offsetX,oy:os.offsetY,width:os.width,height:os.height,f:frameBuffer,d:renderBuffer,t:fTexture}\n\t\tif(mrt) ret.fblist = fblist ;\n\t\treturn ret ;\n\t}\n\tWWG.prototype.Render.prototype.setRender =function(data) {\n\t\tlet gl = this.gl ;\n\t\tthis.env = data.env ;\n\t\tthis.data = data ;\n\n\t\treturn new Promise((resolve,reject)=> {\n\t\t\tif(!gl) { reject(\"no init\") ;return ;}\n\t\t\tlet pr = [] ;\n\t\t\tthis.setShader({fshader:data.fshader,vshader:data.vshader}).then((ret)=> {\n\t\t\t\t//set program\n\t\t\t\tthis.vshader = ret.vshader ;\n\t\t\t\tthis.fshader = ret.fshader ;\n\t\t\t\tthis.program = ret.program ;\n\t\t\t\tthis.vs_uni = ret.vs_uni ;\n\t\t\t\tthis.vs_att = ret.vs_att ;\n\t\t\t\tthis.fs_uni = ret.fs_uni ;\n\t\t\t\t\n\t\t\t\t// load textures\n\t\t\t\tif(data.texture) {\n\t\t\t\t\tfor(let i=0;i<data.texture.length;i++) {\n\t\t\t\t\t\tpr.push(this.loadTex( data.texture[i])) ;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tPromise.all(pr).then((result)=> {\n\t//\t\t\t\tconsole.log(result) ;\n\t\t\t\t\tthis.texobj = result ;\n\t\t\t\t\t// set initial values\n\t\t\t\t\tif(!this.setUniValues(data)) {\n\t\t\t\t\t\treject(\"no uniform name\") ;\n\t\t\t\t\t\treturn ;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(this.env.cull) gl.enable(gl.CULL_FACE); else gl.disable(gl.CULL_FACE);\n\t\t\t\t\tif(this.env.face_cw) gl.frontFace(gl.CW); else gl.frontFace(gl.CCW);\n\t\t\t\t\tif(!this.env.nodepth) gl.enable(gl.DEPTH_TEST); else gl.disable(gl.DEPTH_TEST);\t\t\n\t\t\t\n\t\t\t\t\t//set model \n\t\t\t\t\tfor(let i =0;i<data.model.length;i++) {\n\t\t\t\t\t\tdata.model[i].obuf = this.setObj( data.model[i],true) ;\n\t//\t\t\t\t\tif(data.model[i].name) this.modelHash[data.model[i].name] = data.model[i] ;\n\t\t\t\t\t}\n\t\t\t\t\tthis.modelCount = data.model.length ;\n\t//\t\t\t\tconsole.log(this.obuf);\n\t\t\t\t\t\n\t\t\t\t\tif(this.env.offscreen) {// renderbuffer \n\t\t\t\t\t\tif(this.env.offscreen.mrt) { //MRT\n\t\t\t\t\t\t\tif(!this.wwg.ext_mrt) reject(\"MRT not support\") ;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.fb = this.frameBuffer(this.env.offscreen) ;\t\n\t\t\t\t\t}\n\t\t\t\t\tresolve(this) ;\n\t\t\t\t\t\n\t\t\t\t}).catch((err)=> {\n\t\t\t\t\treject(err) ;\n\t\t\t\t})\n\t\t\t}).catch((err)=> {reject(err);})\n\t\t});\n\t}\n\n\tWWG.prototype.Render.prototype.clear = function() {\n\t\tlet cc = this.env.clear_color ;\n\t\tthis.gl.clearColor(cc[0],cc[1],cc[2],cc[3]);\n\t\tthis.gl.clear(this.gl.COLOR_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT);\n\t}\n\n\tWWG.prototype.Render.prototype.f32Array = function(ar) {\n\t\tif(ar instanceof Float32Array) return ar ;\n\t\telse return new Float32Array(ar) ;\n\t}\n\tWWG.prototype.Render.prototype.i16Array = function(ar) {\n\t\tif(ar instanceof Int16Array) return ar ;\n\t\telse return new Int16Array(ar) ;\n\t}\n\tWWG.prototype.Render.prototype.i32Array = function(ar) {\n\t\tif(ar instanceof Uint32Array) return ar ;\n\t\telse return new Uint32Array(ar) ;\n\t}\n\tWWG.prototype.Render.prototype.setObj = function(obj,flag) {\n\t\tlet gl = this.gl\n\t\tlet geo = obj.geo ;\n\t\tlet inst = obj.inst ;\n\t\tret = {} ;\n\t\tlet vao\n\t\tif(this.wwg.ext_vao) {\n\t\t\tvao = this.wwg.vao_create() ;\n\t\t\tthis.wwg.vao_bind(vao);\n\t\t\tret.vao = vao ;\n\t\t}\n\t\t\n\t\tlet vbo = gl.createBuffer() \n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, vbo) ;\n\n\t\tlet tl = 0 ;\n\t\tlet ats = [] ;\n\t\tfor(let i=0;i<geo.vtx_at.length;i++) {\n\t\t\tats.push( this.vs_att[geo.vtx_at[i]] ) ;\n\t\t\ttl += this.wwg.vsize[this.vs_att[geo.vtx_at[i]].type] ;\n\t\t}\n\n\t\tret.ats = ats ;\n\t\tret.tl = tl ;\n\t\tlet ofs = 0 ;\n\t\tfor(let i in this.vs_att ) {\n\t\t\tif(this.vs_att[i].pos>=0) gl.disableVertexAttribArray(this.vs_att[i].pos);\n\t\t}\n\t\tfor(let i=0;i<ats.length;i++) {\n\t\t\tlet s = this.wwg.vsize[ats[i].type] ;\n\t\t\tgl.enableVertexAttribArray(this.vs_att[ats[i].name].pos);\n\t\t\tgl.vertexAttribPointer(this.vs_att[ats[i].name].pos, s, gl.FLOAT, false, tl*4, ofs);\n\t\t\tofs += s*4 ;\t\n\t\t} \t\n\t\tret.vbo = vbo ;\n\t\tlet ibo\n\t\tif(geo.idx) {\n\t\t\tibo = gl.createBuffer() ;\n\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo) ;\n\t\t\tret.ibo = ibo ;\n\t\t}\n\t\tlet ibuf \n\t\tif(inst) {\n\t\t\tibuf = gl.createBuffer() \n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, ibuf) ;\n\t\t\tlet tl = 0 ;\n\t\t\tlet ats = [] ;\n\t\t\tfor(let i=0;i<inst.attr.length;i++) {\n\t\t\t\tats.push( this.vs_att[inst.attr[i]] ) ;\n\t\t\t\ttl += this.wwg.vsize[this.vs_att[inst.attr[i]].type] ;\n\t\t\t}\n\t\t\ttl = tl*4 ;\n\t\t\tret.iats = ats ;\n\t\t\tret.itl = tl ;\n\t\t\tlet ofs = 0 ;\n\t\t\tfor(let i=0;i<ats.length;i++) {\n\t\t\t\tlet divisor = (inst.divisor)?inst.divisor[i]:1 ;\n\t\t\t\tlet s = this.wwg.vsize[ats[i].type] ;\n\t\t\t\tlet pos = this.vs_att[ats[i].name].pos\n\t\t\t\tgl.enableVertexAttribArray(pos);\n\t\t\t\tgl.vertexAttribPointer(pos, s, gl.FLOAT, false, tl, ofs);\n\t\t\t\tofs += s*4 ;\n\t\t\t\tthis.wwg.inst_divisor(pos, divisor)\t\n\t\t\t} \n\t\t\tret.inst = ibuf \n\t\t}\n\t\t\n\t\tif(this.wwg.ext_vao) this.wwg.vao_bind(null);\n\n\t\tif(this.wwg.ext_vao) this.wwg.vao_bind(vao);\n\t\tif(flag) {\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, vbo) ;\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, \n\t\t\t\tthis.f32Array(geo.vtx), (geo.dynamic)?gl.DYNAMIC_DRAW:gl.STATIC_DRAW) ;\n\t\t}\n\t\tif(flag && geo.idx) {\n\t\t\tgl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo) ;\n\t\t\tif(geo.vtx.length/(ret.tl) > 65536 && this.wwg.ext_i32) {\n\t\t\t\tgl.bufferData(gl.ELEMENT_ARRAY_BUFFER, \n\t\t\t\t\tthis.i32Array(geo.idx),gl.STATIC_DRAW ) ;\n\t\t\t\tret.i32 = true ;\n\t\t\t} else {\n\t\t\t\tgl.bufferData(gl.ELEMENT_ARRAY_BUFFER, \n\t\t\t\t\tthis.i16Array(geo.idx),gl.STATIC_DRAW ) ;\n\t\t\t\tret.i32 = false ;\n\t\t\t}\n\t\t}\n\t\tif(flag && inst) {\n\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, ibuf) ;\n\t\t\tgl.bufferData(gl.ARRAY_BUFFER, \n\t\t\t\tthis.f32Array(inst.data),(inst.dynamic)?gl.DYNAMIC_DRAW:gl.STATIC_DRAW ) ;\n\t\t}\n\t\tif(this.wwg.ext_vao) this.wwg.vao_bind(null);\n\t\t\t\n\t\treturn ret ;\n\t}\n\tWWG.prototype.Render.prototype.getModels = function() {\n\t\treturn this.data.model.filter((m)=>(m!==null))\t\n\t}\n\tWWG.prototype.Render.prototype.getModelIdx = function(name) {\n\t\tlet idx = false \n\t\tif(typeof name != 'string') idx = parseInt(name) ;\n\t\telse {\n\t\t\tfor(let i=0;i<this.data.model.length;i++) \t{\n\t\t\t\tif(this.data.model[i]===null) continue \n\t\t\t\tif(name==this.data.model[i].name) {idx = i ;break }\n\t\t\t}\n\t\t}\n\t\treturn idx ;\t\n\t}\n\t// add model\n\tWWG.prototype.Render.prototype.addModel = function(model) {\n\t\tlet idx = false\n\t\tif(model.name) idx = this.getModelIdx(model.name)\n\t\tif(idx!==false ) {\n\t\t\tthis.data.model[idx] = model ;\n\t\t\tthis.data.model[idx].obuf = this.setObj(model,true) ;\n\t\t\treturn \n\t\t}\n\t\tthis.data.model.push(model) ;\n\t\tthis.data.model[this.data.model.length-1].obuf = this.setObj(model,true) ;\n\t\tthis.modelCount++\n\t//\tif(model.name) this.modelHash[model.name] = this.data.model.length -1 ;\n\t}\n\t// remove model\n\tWWG.prototype.Render.prototype.removeModel = function(model) {\n\t\tlet mi = this.getModelIdx(model) \n\t\tif(mi===false) return false \n\t//\tdelete this.modelHash[this.data.model[mi].name] \n\t\tthis.data.model[mi].obuf = null \n\t\tthis.data.model[mi] = null \n\t\tthis.modelCount--  \n\t\treturn true \n\t}\n\t// update attribute buffer \n\tWWG.prototype.Render.prototype.updateModel = function(name,mode,buf,subflag=true) {\n\t\tlet idx = this.getModelIdx(name) ;\n\t\tlet obuf = this.data.model[idx].obuf ;\n\t\tswitch(mode) {\n\t\t\tcase \"vbo\":\t\n\t\t\t\tthis.gl.bindBuffer(this.gl.ARRAY_BUFFER, obuf.vbo) ;\n\t\t\t\tbreak ;\n\t\t\tcase \"inst\":\n\t\t\t\tthis.gl.bindBuffer(this.gl.ARRAY_BUFFER, obuf.inst) ;\n\t\t\t\tbreak ;\n\t\t}\n\t\tif(subflag) \n\t\t\tthis.gl.bufferSubData(this.gl.ARRAY_BUFFER, 0, this.f32Array(buf))\t\n\t\telse\n\t\t\tthis.gl.bufferData(this.gl.ARRAY_BUFFER, this.f32Array(buf),this.gl.DYNAMIC_DRAW ) ;\n\t}\n\tWWG.prototype.Render.prototype.updateModelInstance = function(name,buf,count) {\n\t\tlet idx = this.getModelIdx(name) ;\n\t\tlet obuf = this.data.model[idx].obuf ;\n\t\tthis.data.model[idx].inst.count = count ;\n\t\tthis.gl.bindBuffer(this.gl.ARRAY_BUFFER, obuf.inst) ; \n\t//\t\tthis.gl.bufferSubData(this.gl.ARRAY_BUFFER, 0, this.f32Array(buf))\t\n\t\t\tthis.gl.bufferData(this.gl.ARRAY_BUFFER, this.f32Array(buf),this.gl.DYNAMIC_DRAW ) ;\n\t}\n\tWWG.prototype.Render.prototype.getModelData =function(name) {\n\t\tlet idx = this.getModelIdx(name) ;\n\t\treturn this.data.model[idx] ;\n\t}\n\t// update texture \n\tWWG.prototype.Render.prototype.updateTex = function(idx,tex,opt) {\n\t\tif(typeof idx == 'string') idx = this.getTexIndex(idx)\n\t\tvar tdat = this.data.texture[idx]\n\t\tthis.gl.bindTexture(this.gl.TEXTURE_2D, this.texobj[idx]);\n\n\t\tif(tdat.array) {\n\t\t\tif(!opt) \n\t\t\t\tif(tdat.array instanceof Float32Array ) \n\t\t\t\t\tthis.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA16F, \n\t\t\t\t\ttdat.opt.width,tdat.opt.height,0,this.gl.RGBA, this.gl.FLOAT, tex);\n\t\t\t\telse\n\t\t\t\t\tthis.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, \n\t\t\t\t\ttdat.opt.width,tdat.opt.height,0,this.gl.RGBA, this.gl.UNSIGNED_BYTE, tex);\t\n\t\t\telse \n\t\t\t\tif(tdat.array instanceof Float32Array ) \n\t\t\t\t\tthis.gl.texSubImage2D(this.gl.TEXTURE_2D, 0, \n\t\t\t\t\topt.sx,opt.sy,opt.width,opt.height,this.gl.RGBA, this.gl.FLOAT, tex,opt.ofs);\n\t\t\t\telse\n\t\t\t\t\tthis.gl.texSubImage2D(this.gl.TEXTURE_2D, 0, \n\t\t\t\t\topt.sx,opt.sy,opt.width,opt.height,this.gl.RGBA, this.gl.UNSIGNED_BYTE, tex,opt.ofs);\n\t\t} else {\n\t\t\tif(!opt) {\n\t\t\t\tthis.gl.texImage2D(this.gl.TEXTURE_2D, 0, this.gl.RGBA, this.gl.RGBA, this.gl.UNSIGNED_BYTE, tex);\n\t\t\t} else {\n\t\t\t\tif(opt.wx>0 && opt.wy>0)\n\t\t\t\t\tthis.gl.texSubImage2D(this.gl.TEXTURE_2D, 0, opt.sx,opt.sy,opt.wx,opt.wy,this.gl.RGBA, this.gl.UNSIGNED_BYTE, tex);\t\n\t\t\t\telse \t\n\t\t\t\t\tthis.gl.texSubImage2D(this.gl.TEXTURE_2D, 0, opt.sx,opt.sy , this.gl.RGBA, this.gl.UNSIGNED_BYTE, tex);\n\t\t\t}\n\t\t}\n\t\tif(tdat.opt && !tdat.opt.nomipmap) this.gl.generateMipmap(this.gl.TEXTURE_2D);\n\t}\n\t//update uniform values\n\tWWG.prototype.Render.prototype.pushUniValues = function(u) {\n\t\tif(u.vs_uni) {\n\t\t\tfor(let i in u.vs_uni) {\n\t\t\t\tthis.update_uni.vs_uni[i] = u.vs_uni[i] ;\n\t\t\t}\n\t\t}\n\t\tif(u.fs_uni) {\n\t\t\tfor(let i in u.fs_uni) {\n\t\t\t\tthis.update_uni.fs_uni[i] = u.fs_uni[i] ;\n\t\t\t}\n\t\t}\n\t}\n\tWWG.prototype.Render.prototype.updateUniValues = function(u) {\n\t\tif(!u) {\n\t\t\tthis.update_uni = {vs_uni:{},fs_uni:{}} ;\n\t\t\treturn ;\n\t\t}\n\t//\tconsole.log(\"update uni\");\n\t\tthis.setUniValues(this.update_uni)\n\t}\n\n\t// draw call\n\tWWG.prototype.Render.prototype.draw = function(update,cls) {\n\t//console.log(\"draw\");\n\n\t\tlet gl = this.gl ;\n\t\tgl.useProgram(this.program);\n\t\tif(this.env.offscreen) {// renderbuffer \n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.fb.f);\n\t\t\tif(this.env.offscreen.mrt) this.wwg.mrt_draw(this.fb.fblist);\n\t\t\tgl.viewport(fb.offsetX,fb.offsetY,this.fb.width,this.fb.height) ;\n\t\t}\n\t\tif(!cls) this.clear() ;\n\t\tlet models = this.data.model\n\t\tfor(let b=0;b<models.length;b++) {\n\t\t\tif(models[b]===null) continue \n\t\t\tlet cmodel = models[b] ;\n\t\t\tif(cmodel.hide) continue ;\n\t\t\tif(cmodel.obuf==null) continue ;\n\n\t\t\tlet geo = cmodel.geo ;\n\t\t\tthis.updateUniValues(0) ;\n\t\t\tthis.pushUniValues(this.data) ;\n\t\t\tthis.pushUniValues(cmodel);\n\t\t\tif(update) {\n\t\t\t\t// set modified values\n\t\t\t\tif(!Array.isArray(update)) update = [update ]\n\t\t\t\tfor(let i=0;i<update.length;i++) {\n\t\t\t\t\tthis.pushUniValues(update[i]) ;\n\t\t\t\t\tif(update[i].model) {\n\t\t\t\t\t\tlet model =update[i].model[b] ;\n\t\t\t\t\t\tif(model) this.pushUniValues(model) ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.updateUniValues(1)\n\n\t\t\tlet obuf = cmodel.obuf ;\n\t\t\tlet ofs = (geo.ofs>0)?geo.ofs:0 ;\n\t\t\tif(this.wwg.ext_vao)  this.wwg.vao_bind(obuf.vao);\n\t\t\telse {\n\t\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, obuf.vbo) ;\n\t\t\t\tlet aofs = 0 ;\n\t\t\t\tfor(let i in this.vs_att ) {\n\t\t\t\t\tgl.disableVertexAttribArray(this.vs_att[i].pos);\n\t\t\t\t}\n\t\t\t\tfor(let i=0;i<obuf.ats.length;i++) {\n\t\t\t\t\tlet s = this.wwg.vsize[obuf.ats[i].type] ;\n\t\t\t\t\tgl.enableVertexAttribArray(this.vs_att[obuf.ats[i].name].pos);\n\t\t\t\t\tgl.vertexAttribPointer(this.vs_att[obuf.ats[i].name].pos, s, gl.FLOAT, false, obuf.tl*4, aofs);\n\t\t\t\t\taofs += s*4 ;\t\n\t\t\t\t}\n\t\t\t\tif(obuf.ibo) gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, obuf.ibo) ;\n\t\t\t\tif(obuf.inst) {\n\t\t\t\t\tlet inst = cmodel.inst ;\n\t\t\t\t\tgl.bindBuffer(gl.ARRAY_BUFFER, obuf.inst) ;\n\t\t\t\t\tlet aofs = 0 ;\n\t\t\t\t\tfor(let i=0;i<obuf.iats.length;i++) {\n\t\t\t\t\t\tlet divisor = (inst.divisor)?inst.divisor[i]:1 ;\n\t\t\t\t\t\tlet s = this.wwg.vsize[obuf.iats[i].type] ;\n\t\t\t\t\t\tlet pos = this.vs_att[obuf.iats[i].name].pos\n\t\t\t\t\t\tgl.enableVertexAttribArray(pos);\n\t\t\t\t\t\tgl.vertexAttribPointer(pos, s, gl.FLOAT, false, obuf.itl, aofs);\n\t\t\t\t\t\taofs += s*4 ;\n\t\t\t\t\t\tthis.wwg.inst_divisor(pos, divisor)\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(cmodel.preFunction) {\n\t\t\t\t\n\t\t\t\tcmodel.preFunction(gl,cmodel,obuf) ;\n\t\t\t}\n\t\t\tif(cmodel.blend!==undefined) {\n\t\t\t\tgl.enable(gl.BLEND) ;\n\t\t\t\tif(cmodel.blend==\"alpha\") gl.blendFuncSeparate(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE);\n\t\t\t}\n\t\t\tif(cmodel.cull!==undefined) {\n\t\t\t\tif(cmodel.cull) gl.enable(gl.CULL_FACE); else gl.disable(gl.CULL_FACE);\n\t\t\t}\n\t\t\tlet gmode = this.wwg.dmodes[geo.mode]\n\t\t\tif(gmode==undefined) {\n\t\t\t\t\tconsole.log(\"Error: illigal draw mode\") ;\n\t\t\t\t\treturn false ;\n\t\t\t}\n\t\t\tif(cmodel.inst) {\n\t\t\t\tif(geo.idx) this.wwg.inst_draw(gmode, geo.idx.length, (obuf.i32)?gl.UNSIGNED_INT:gl.UNSIGNED_SHORT, ofs, cmodel.inst.count);\n\t\t\t\telse this.wwg.inst_drawa(gmode, ofs,(geo.count>0)?geo.count:geo.vtx.length/obuf.tl, cmodel.inst.count);\n\t\t\t} else {\n\t\t\t\tif(geo.idx) gl.drawElements(gmode, geo.idx.length, (obuf.i32)?gl.UNSIGNED_INT:gl.UNSIGNED_SHORT, ofs);\n\t\t\t\telse gl.drawArrays(gmode, ofs,\n\t\t\t\t\t(geo.count>0)?geo.count:geo.vtx.length/obuf.tl);\n\t\t\t}\n\t\t\tif(this.wwg.ext_vao) this.wwg.vao_bind(null);\n\t\t\telse {\n\t\t\t\t\n\t\t\t}\n\t\t\tif(cmodel.blend!==undefined) {\n\t\t\t\tgl.disable(gl.BLEND) ;\n\t\t\t}\n\t\t\tif(cmodel.cull!==undefined) {\n\t\t\t\tif(this.env.cull) gl.enable(gl.CULL_FACE); else gl.disable(gl.CULL_FACE);\n\t\t\t}\n\t\t\tif(cmodel.postFunction) {\n\t\t\t\tcmodel.postFunction(gl,cmodel) ;\n\t\t\t}\n\t\t}\n\t\tif(this.env.offscreen) {// unbind renderbuffer \n\t\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\n\t\t\tgl.viewport(0,0,this.wwg.can.width,this.wwg.can.height) ;\n\t\t}\n\t\treturn true ;\n\t}\n\treturn pox.WWG = WWG;\n});\ndefine('skylark-pox/WWModel',[\n    \"./pox\",\n    \"./CanvasMatrix4\"\n],function(pox,CanvasMatrix4){\n\t//Model library for WWG\n\t// Version 1.0 \n\t// 2016-2017 wakufactory.jp \n\t// license: MIT \n\n\t// export default \n\tclass WWModel {\n\n\t\t// generate primitive\n\t\t primitive(type,param) {\n\t\t\tif(!param) param = {} ;\n\t\t\tlet wx = (param.wx)?param.wx:1.0 ;\n\t\t\tlet wy = (param.wy)?param.wy:1.0 ;\n\t\t\tlet wz = (param.wz)?param.wz:1.0 ;\n\t\t\tlet div = (param.div)?param.div:10 ;\n\t\t\tlet divx = (param.divx)?param.divx:div ;\n\t\t\tlet divy = (param.divy)?param.divy:div ;\n\t\t\tlet divz = (param.divz)?param.divz:div ;\n\t\t\tlet ninv = (param.ninv)?-1:1 ;\n\t\t\tlet p = [] ;\n\t\t\tlet n = [] ;\n\t\t\tlet t = [] ;\n\t\t\tlet s = [] ;\n\t\t\tlet PHI = Math.PI *2 ;\n\t\t\t\tlet m = { \"r05\":{\"v\":[[-0.52573111,-0.7236068,0.4472136],[-0.85065081,0.2763932,0.4472136],[-0,0.89442719,0.4472136],[0.85065081,0.2763932,0.4472136],[0.52573111,-0.7236068,0.4472136],[0,-0.89442719,-0.4472136],[-0.85065081,-0.2763932,-0.4472136],[-0.52573111,0.7236068,-0.4472136],[0.52573111,0.7236068,-0.4472136],[0.85065081,-0.2763932,-0.4472136],[0,0,1],[-0,0,-1]],\"s\":[[0,1,6],[0,6,5],[0,5,4],[0,4,10],[0,10,1],[1,2,7],[1,7,6],[1,10,2],[2,3,8],[2,8,7],[2,10,3],[3,4,9],[3,9,8],[3,10,4],[4,5,9],[5,6,11],[5,11,9],[6,7,11],[7,8,11],[8,9,11]]},\n\t\t\t\t\"r04\":{\"v\":[[-0.35682209,-0.49112347,0.79465447],[0.35682209,-0.49112347,0.79465447],[0.57735027,-0.79465447,0.18759247],[0,-0.98224695,-0.18759247],[-0.57735027,-0.79465447,0.18759247],[-0.57735027,0.18759247,0.79465447],[0.57735027,0.18759247,0.79465447],[0.93417236,-0.303531,-0.18759247],[-0,-0.607062,-0.79465447],[-0.93417236,-0.303531,-0.18759247],[-0.93417236,0.303531,0.18759247],[0,0.607062,0.79465447],[0.93417236,0.303531,0.18759247],[0.57735027,-0.18759247,-0.79465447],[-0.57735027,-0.18759247,-0.79465447],[-0.57735027,0.79465447,-0.18759247],[0,0.98224695,0.18759247],[0.57735027,0.79465447,-0.18759247],[0.35682209,0.49112347,-0.79465447],[-0.35682209,0.49112347,-0.79465447]],\"s\":[[0,1,6,11,5],[0,5,10,9,4],[0,4,3,2,1],[1,2,7,12,6],[2,3,8,13,7],[3,4,9,14,8],[5,11,16,15,10],[6,12,17,16,11],[7,13,18,17,12],[8,14,19,18,13],[9,10,15,19,14],[15,16,17,18,19]]},\n\t\t\t\t\"r03\":{\"v\":[[-0.57735027,-0.57735027,0.57735027],[-0.57735027,0.57735027,0.57735027],[0.57735027,0.57735027,0.57735027],[0.57735027,-0.57735027,0.57735027],[-0.57735027,-0.57735027,-0.57735027],[-0.57735027,0.57735027,-0.57735027],[0.57735027,0.57735027,-0.57735027],[0.57735027,-0.57735027,-0.57735027]],\"s\":[[0,1,5,4],[0,4,7,3],[0,3,2,1],[1,2,6,5],[2,3,7,6],[4,5,6,7]]},\n\t\t\t\t\"r02\":{\"v\":[[-0.70710678,-0.70710678,0],[-0.70710678,0.70710678,0],[0.70710678,0.70710678,0],[0.70710678,-0.70710678,0],[0,0,-1],[0,0,1]],\"s\":[[0,1,4],[0,4,3],[0,3,5],[0,5,1],[1,2,4],[1,5,2],[2,3,4],[2,5,3]]},\n\t\t\t\t\"r01\":{\"v\":[[-0.81649658,-0.47140452,0.33333333],[0.81649658,-0.47140452,0.33333333],[0,0,-1],[0,0.94280904,0.33333333]],\"s\":[[0,1,3],[0,3,2],[0,2,1],[1,2,3]]},\n\t\t\t\t\"s11\":{\"v\":[[-0.13149606,-0.40470333,0.90494412],[-0.34426119,-0.25012042,0.90494412],[-0.42553024,-1.0e-8,0.90494412],[-0.34426119,0.2501204,0.90494412],[-0.13149606,0.40470332,0.90494412],[0.13149611,0.40470332,0.90494412],[0.34426124,0.2501204,0.90494412],[0.42553028,-1.0e-8,0.90494412],[0.34426124,-0.25012042,0.90494412],[0.13149611,-0.40470333,0.90494412],[-0.13149606,-0.62841783,0.76668096],[-0.34426119,-0.69754941,0.6284178],[-0.42553024,-0.80940666,0.4047033],[-0.34426119,-0.92126391,0.18098881],[-0.13149606,-0.99039549,0.04272564],[0.13149611,-0.99039549,0.04272564],[0.34426124,-0.92126391,0.18098881],[0.42553028,-0.80940666,0.4047033],[0.34426124,-0.69754941,0.6284178],[0.13149611,-0.62841783,0.76668096],[-0.55702632,-0.5429665,0.6284178],[-0.55702632,-0.319252,0.76668096],[-0.63829537,-0.06913159,0.76668096],[-0.76979145,0.11185724,0.6284178],[-0.90128753,0.15458291,0.4047033],[-0.98255658,0.04272566,0.1809888],[-0.98255658,-0.18098884,0.04272564],[-0.90128753,-0.43110925,0.04272564],[-0.76979145,-0.61209808,0.18098881],[-0.63829537,-0.65482375,0.4047033],[-0.82001848,0.54296648,0.18098881],[-0.82001848,0.40470332,0.4047033],[-0.6885224,0.36197765,0.6284178],[-0.47575727,0.43110923,0.76668096],[-0.26299214,0.58569215,0.76668096],[-0.13149606,0.76668098,0.6284178],[-0.13149606,0.90494414,0.4047033],[-0.26299214,0.94766981,0.18098881],[-0.47575727,0.87853823,0.04272564],[-0.6885224,0.72395531,0.04272564],[0.47575732,0.87853821,0.04272564],[0.26299219,0.94766979,0.1809888],[0.13149611,0.90494413,0.4047033],[0.13149611,0.76668098,0.6284178],[0.26299219,0.58569215,0.76668096],[0.47575732,0.43110923,0.76668096],[0.68852245,0.36197765,0.6284178],[0.82001853,0.4047033,0.40470331],[0.82001853,0.54296646,0.18098881],[0.68852245,0.72395529,0.04272564],[0.63829541,-0.65482375,0.4047033],[0.7697915,-0.61209808,0.18098881],[0.90128758,-0.43110925,0.04272564],[0.98255663,-0.18098884,0.04272564],[0.98255647,0.04272561,0.18098879],[0.9012875,0.15458288,0.40470331],[0.7697915,0.11185724,0.6284178],[0.63829541,-0.06913159,0.76668096],[0.55702637,-0.319252,0.76668096],[0.55702637,-0.5429665,0.6284178],[-0.47575727,-0.87853824,-0.04272569],[-0.6885224,-0.72395533,-0.04272569],[-0.82001848,-0.5429665,-0.18098886],[-0.82001848,-0.40470333,-0.40470335],[-0.6885224,-0.36197767,-0.62841785],[-0.47575727,-0.43110925,-0.76668101],[-0.26299214,-0.58569216,-0.76668101],[-0.13149605,-0.76668099,-0.62841784],[-0.13149606,-0.90494416,-0.40470335],[-0.26299214,-0.94766982,-0.18098885],[-0.90128753,-0.15458292,-0.40470335],[-0.98255658,-0.04272567,-0.18098885],[-0.98255658,0.18098882,-0.04272569],[-0.90128753,0.43110923,-0.04272569],[-0.76979145,0.61209806,-0.18098885],[-0.63829536,0.65482373,-0.40470335],[-0.55702632,0.54296648,-0.62841785],[-0.55702632,0.31925199,-0.76668101],[-0.63829537,0.06913157,-0.76668101],[-0.76979145,-0.11185726,-0.62841785],[-0.13149606,0.62841781,-0.76668101],[-0.34426119,0.6975494,-0.62841785],[-0.42553023,0.80940665,-0.40470335],[-0.34426119,0.92126389,-0.18098885],[-0.13149606,0.99039547,-0.04272569],[0.13149611,0.99039546,-0.04272569],[0.34426124,0.92126387,-0.18098886],[0.42553028,0.80940661,-0.40470335],[0.34426124,0.69754939,-0.62841785],[0.13149611,0.62841781,-0.76668101],[0.76979153,-0.11185725,-0.62841782],[0.63829541,0.06913155,-0.76668097],[0.55702634,0.31925197,-0.76668097],[0.55702635,0.54296649,-0.62841782],[0.63829541,0.6548237,-0.40470335],[0.76979149,0.61209803,-0.18098885],[0.9012875,0.43110919,-0.04272571],[0.98255648,0.18098877,-0.04272572],[0.9825564,-0.04272561,-0.18098874],[0.90128711,-0.15458281,-0.4047032],[0.26299219,-0.94766982,-0.18098885],[0.13149611,-0.90494416,-0.40470335],[0.13149611,-0.76668098,-0.62841784],[0.26299219,-0.58569215,-0.76668099],[0.47575682,-0.43110886,-0.76668009],[0.68852237,-0.36197738,-0.6284173],[0.82001805,-0.40470325,-0.40470322],[0.82001853,-0.5429665,-0.18098885],[0.68852245,-0.72395533,-0.04272569],[0.47575732,-0.87853824,-0.04272569],[-0.13149606,-0.40470333,-0.90494417],[-0.34426119,-0.25012042,-0.90494417],[-0.42553024,-0,-0.90494417],[-0.34426119,0.2501204,-0.90494417],[-0.13149606,0.40470332,-0.90494417],[0.13149611,0.40470332,-0.90494417],[0.3442612,0.25012038,-0.90494414],[0.42553027,-3.0e-8,-0.90494414],[0.3442606,-0.25012001,-0.90494332],[0.13149611,-0.40470332,-0.90494416]],\"s\":[[0,1,21,20,11,10],[0,10,19,9],[0,9,8,7,6,5,4,3,2,1],[1,2,22,21],[2,3,33,32,23,22],[3,4,34,33],[4,5,44,43,35,34],[5,6,45,44],[6,7,57,56,46,45],[7,8,58,57],[8,9,19,18,59,58],[10,11,12,13,14,15,16,17,18,19],[11,20,29,12],[12,29,28,61,60,13],[13,60,69,14],[14,69,68,101,100,15],[15,100,109,16],[16,109,108,51,50,17],[17,50,59,18],[20,21,22,23,24,25,26,27,28,29],[23,32,31,24],[24,31,30,73,72,25],[25,72,71,26],[26,71,70,63,62,27],[27,62,61,28],[30,31,32,33,34,35,36,37,38,39],[30,39,74,73],[35,43,42,36],[36,42,41,85,84,37],[37,84,83,38],[38,83,82,75,74,39],[40,41,42,43,44,45,46,47,48,49],[40,49,95,94,87,86],[40,86,85,41],[46,56,55,47],[47,55,54,97,96,48],[48,96,95,49],[50,51,52,53,54,55,56,57,58,59],[51,108,107,52],[52,107,106,99,98,53],[53,98,97,54],[60,61,62,63,64,65,66,67,68,69],[63,70,79,64],[64,79,78,112,111,65],[65,111,110,66],[66,110,119,103,102,67],[67,102,101,68],[70,71,72,73,74,75,76,77,78,79],[75,82,81,76],[76,81,80,114,113,77],[77,113,112,78],[80,81,82,83,84,85,86,87,88,89],[80,89,115,114],[87,94,93,88],[88,93,92,116,115,89],[90,91,92,93,94,95,96,97,98,99],[90,99,106,105],[90,105,104,118,117,91],[91,117,116,92],[100,101,102,103,104,105,106,107,108,109],[103,119,118,104],[110,111,112,113,114,115,116,117,118,119]]},\n\t\t\t\t\"s06\":{\"v\":[[-0.20177411,-0.27771823,0.93923362],[-0.40354821,-0.55543646,0.72707577],[-0.20177411,-0.8331547,0.51491792],[0.20177411,-0.8331547,0.51491792],[0.40354821,-0.55543646,0.72707577],[0.20177411,-0.27771823,0.93923362],[-0.32647736,0.10607893,0.93923362],[-0.65295472,0.21215785,0.72707577],[-0.85472883,-0.06556038,0.51491792],[-0.73002557,-0.44935754,0.51491792],[-0.73002557,-0.66151539,0.17163931],[-0.40354821,-0.89871508,0.17163931],[-0.20177411,-0.96427546,-0.17163931],[0.20177411,-0.96427546,-0.17163931],[0.40354821,-0.89871508,0.17163931],[0.73002557,-0.66151539,0.17163931],[0.73002557,-0.44935754,0.51491792],[0.85472883,-0.06556038,0.51491792],[0.65295472,0.21215785,0.72707577],[0.32647736,0.10607893,0.93923362],[-0,0.34327861,0.93923362],[-0.65295472,0.55543646,0.51491792],[-0.85472883,0.48987608,0.17163931],[-0.97943209,0.10607893,0.17163931],[-0.97943209,-0.10607892,-0.17163931],[-0.85472883,-0.48987608,-0.17163931],[-0.65295472,-0.55543646,-0.51491792],[-0.32647736,-0.79263615,-0.51491792],[-0,-0.68655723,-0.72707577],[0.32647736,-0.79263615,-0.51491792],[0.65295472,-0.55543646,-0.51491792],[0.85472883,-0.48987608,-0.17163931],[0.97943209,-0.10607893,-0.17163931],[0.97943209,0.10607893,0.17163931],[0.85472883,0.48987608,0.17163931],[0.65295472,0.55543646,0.51491792],[0.32647736,0.79263615,0.51491792],[0,0.68655723,0.72707577],[-0.32647736,0.79263615,0.51491792],[-0.73002557,0.66151539,-0.17163931],[-0.73002557,0.44935754,-0.51491792],[-0.85472883,0.06556038,-0.51491792],[-0.65295472,-0.21215785,-0.72707577],[-0.32647736,-0.10607892,-0.93923362],[0,-0.34327861,-0.93923362],[0.32647736,-0.10607892,-0.93923362],[0.65295472,-0.21215785,-0.72707577],[0.85472883,0.06556038,-0.51491792],[0.73002557,0.44935754,-0.51491792],[0.73002557,0.66151539,-0.17163931],[0.40354821,0.89871508,-0.17163931],[0.20177411,0.96427546,0.17163931],[-0.20177411,0.96427546,0.17163931],[-0.40354821,0.89871508,-0.17163931],[-0.20177411,0.83315469,-0.51491792],[-0.40354821,0.55543646,-0.72707577],[-0.20177411,0.27771823,-0.93923362],[0.2017741,0.27771823,-0.93923362],[0.40354821,0.55543646,-0.72707577],[0.20177411,0.83315469,-0.51491792]],\"s\":[[0,5,19,20,6],[0,6,7,8,9,1],[0,1,2,3,4,5],[1,9,10,11,2],[2,11,12,13,14,3],[3,14,15,16,4],[4,16,17,18,19,5],[6,20,37,38,21,7],[7,21,22,23,8],[8,23,24,25,10,9],[10,25,26,27,12,11],[12,27,28,29,13],[13,29,30,31,15,14],[15,31,32,33,17,16],[17,33,34,35,18],[18,35,36,37,20,19],[21,38,52,53,39,22],[22,39,40,41,24,23],[24,41,42,26,25],[26,42,43,44,28,27],[28,44,45,46,30,29],[30,46,47,32,31],[32,47,48,49,34,33],[34,49,50,51,36,35],[36,51,52,38,37],[39,53,54,55,40],[40,55,56,43,42,41],[43,56,57,45,44],[45,57,58,48,47,46],[48,58,59,50,49],[50,59,54,53,52,51],[54,59,58,57,56,55]]}\n\t\t\t\t} ;\n\t\t\tswitch(type) {\n\t\t\tcase \"sphere\":\n\t\t\t\tfor(let i = 0 ; i <= div ; ++i) {\n\t\t\t\t\tlet v = i / (0.0+div);\n\t\t\t\t\tlet y = Math.cos(Math.PI * v), r = Math.sin(Math.PI * v);\n\t\t\t\t\tfor(let j = 0 ; j <= div*2 ; ++j) {\n\t\t\t\t\t\tlet u = j / (0+div*2) ;\n\t\t\t\t\t\tlet x = (Math.cos(PHI * u) * r)\n\t\t\t\t\t\tlet z = (Math.sin(PHI * u) * r)\n\t\t\t\t\t\tp.push([x*wx,y*wy,z*wz])\n\t\t\t\t\t\tn.push([x*ninv,y*ninv,z*ninv])\n\t\t\t\t\t\tt.push([(ninv>0)?1-u:u,1-v])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet d2 = div*2+1 ;\n\t\t\t\tfor(let j = 0 ; j < div ; ++j) {\n\t\t\t\t\tlet base = j * d2;\n\t\t\t\t\tfor(let i = 0 ; i < div*2 ; ++i) {\n\t\t\t\t\t\tif(ninv>0) s.push(\n\t\t\t\t\t\t\t[base + i,\t  base + i + 1, base + i     + d2],\n\t\t\t\t\t\t\t[base + i + d2, base + i + 1, base + i + 1 + d2]);\n\t\t\t\t\t\telse s.push(\n\t\t\t\t\t\t\t[base + i     + d2,\tbase + i + 1, base + i],\n\t\t\t\t\t\t\t[base + i + 1 + d2, base + i + 1, base + i + d2 ]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t\t\n\t\t\tcase \"sphere2\":\n\t\t\t\tconst pdiv = (param.div)?param.div:6 \n\t\t\t\tconst PH = Math.PI/2\n\t\t\t\tfor(let yi=0; yi<pdiv;yi++) {\n\t\t\t\t\tlet y = Math.sin(PH*yi/pdiv)\n\t\t\t\t\tlet xr = Math.cos(PH*yi/pdiv)\n\t\t\t\t\tlet xdiv = pdiv-yi\n\t\t\t\t\tfor(let xi=0;xi<=xdiv;xi++) {\n\t\t\t\t\t\tlet x = Math.cos(PH*xi/xdiv)*xr\n\t\t\t\t\t\tlet z = Math.sin(PH*xi/xdiv)*xr\n\t\t\t\t\t\tp.push([x*wx,y*wy,z*wz])\n\t\t\t\t\t\tn.push([x,y,z])\n\t\t\t\t\t\tt.push([1-xi/xdiv/4,0.5+yi/pdiv/2])\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tp.push([0,wy,0])\n\t\t\t\tn.push([0,1,0])\n\t\t\t\tt.push([0.75,1])\n\t\t\t\tlet li = 0\n\t\t\t\tfor(let yi=0;yi<pdiv;yi++) {\n\t\t\t\t\tlet xdiv = (pdiv-yi)*2-1\n\t\t\t\t\tlet xofs = pdiv-yi+1\n\t\t\t\t\tfor(let xi=0;xi<xdiv;xi++) {\n\t\t\t\t\t\tlet xd = Math.floor(xi/2)\n\t\t\t\t\t\tif(xi%2==0) {\n\t\t\t\t\t\t\tif(ninv>0) s.push([xd+li,xd+li+xofs,xd+li+1])\n\t\t\t\t\t\t\telse  s.push([xd+li,xd+li+1,xd+li+xofs])\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(ninv>0) s.push([xd+1+li,xd+li+xofs,xd+li+xofs+1])\n\t\t\t\t\t\t\telse  s.push([xd+1+li,xd+li+xofs+1,xd+li+xofs])\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tli += xofs\n\t\t\t\t}\n\t\t\t\tlet pc = p.length \n\t\t\t\tlet sc = s.length\n\t\t\t\tfor(let i=0;i<pc;i++) {\n\t\t\t\t\tp.push([p[i][0],-p[i][1],p[i][2]])\n\t\t\t\t\tn.push([p[i][0],-p[i][1],p[i][2]])\n\t\t\t\t\tt.push([t[i][0],1-t[i][1]])\n\t\t\t\t}\n\t\t\t\tfor(let i=0;i<sc;i++) {\n\t\t\t\t\ts.push([s[i][0]+pc,s[i][2]+pc,s[i][1]+pc])\n\t\t\t\t}\n\t\t\t\tpc = p.length \n\t\t\t\tsc = s.length\n\t\t\t\tfor(let i=0;i<pc;i++) {\n\t\t\t\t\tp.push([-p[i][0],p[i][1],p[i][2]])\n\t\t\t\t\tn.push([-p[i][0],p[i][1],p[i][2]])\n\t\t\t\t\tt.push([1-t[i][0]+0.5,t[i][1]])\n\t\t\t\t}\n\t\t\t\tfor(let i=0;i<sc;i++) {\n\t\t\t\t\ts.push([s[i][0]+pc,s[i][2]+pc,s[i][1]+pc])\n\t\t\t\t}\n\t\t\t\tpc = p.length \n\t\t\t\tsc = s.length\n\t\t\t\tfor(let i=0;i<pc;i++) {\n\t\t\t\t\tp.push([p[i][0],p[i][1],-p[i][2]])\n\t\t\t\t\tn.push([p[i][0],p[i][1],-p[i][2]])\n\t\t\t\t\tt.push([1-t[i][0],t[i][1]])\n\t\t\t\t}\n\t\t\t\tfor(let i=0;i<sc;i++) {\n\t\t\t\t\ts.push([s[i][0]+pc,s[i][2]+pc,s[i][1]+pc])\n\t\t\t\t}\t\n\t\t\t\tbreak ;\n\t\t\tcase \"cylinder\":\n\t\t\t\tdivy = (param.divy)?param.divy:1\n\t\t\t\tfor(let i = 0 ; i <= div ; ++i) {\n\t\t\t\t\tlet v = i / (0.0+div);\n\t\t\t\t\tlet z = Math.sin(PHI * v)*wz, x = Math.cos(PHI * v)*wx;\n\t\t\t\t\tlet dy = wy*2/divy ;\n\t\t\t\t\tfor(let yi=0;yi<=divy;yi++) {\n\t\t\t\t\t\tp.push([x,yi*dy-wy,z])\n\t\t\t\t\t\tn.push([x*ninv,0,z*ninv])\n\t\t\t\t\t\tt.push([(ninv>0)?1-v:v,yi/divy])\n\t\t//\t\t\t\tp.push([x,(yi+1)*dy-wy,z])\n\t\t//\t\t\t\tn.push([x*ninv,0,z*ninv,0])\n\t\t//\t\t\t\tt.push([(ninv>0)?1-v:v,0])\n\t\t\t\t\t}\t\t\t\n\t\t\t\t}\n\t\t\t\tfor(let j =0; j < div ;j++) {\n\t\t\t\t\tfor(let yi=0;yi<divy;yi++) {\n\t\t\t\t\t\tlet j2 = j*(divy+1)+yi \n\t\t\t\t\t\tif(ninv<0)s.push([j2,j2+(divy+1),j2+(divy+1)+1,j2+1]) ;\n\t\t\t\t\t\telse s.push([j2,j2+1,j2+3,j2+2]) ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(param.cap) {\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tbreak; \n\t\t\tcase \"ring\":\n\t\t\t\tdivy = (param.divy)?param.divy:1\n\t\t\t\tfor(let i = 0 ; i <= div ; ++i) {\n\t\t\t\t\tlet v = i / (0.0+div);\n\t\t\t\t\tlet z = Math.sin(PHI * v)*wz, x = Math.cos(PHI * v)*wx;\n\t\t\t\t\tfor(let yi=0;yi<divy;yi++) {\n\t\t\t\t\t\tp.push([x,wy,z])\n\t\t\t\t\t\tn.push([x*ninv,0,z*ninv])\n\t\t\t\t\t\tt.push([(ninv>0)?1-v:v,1])\n\t\t\t\t\t\tp.push([x,-wy,z])\n\t\t\t\t\t\tn.push([x*ninv,0,z*ninv,0])\n\t\t\t\t\t\tt.push([(ninv>0)?1-v:v,0])\n\t\t\t\t\t}\t\t\t\n\t\t\t\t}\n\t\t\t\tfor(let j =0; j < div ;j++) {\n\t\t\t\t\tif(ninv>0)s.push([j*2,j*2+2,j*2+3,j*2+1]) ;\n\t\t\t\t\telse s.push([j*2,j*2+1,j*2+3,j*2+2]) ;\n\t\t\t\t}\n\t\t\t\tif(param.cap) {\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t\tbreak; \n\t\t\tcase \"cone\":\n\t\t\t\tfor(let i = 0 ; i <= div ; ++i) {\n\t\t\t\t\tlet v = i / (0.0+div);\n\t\t\t\t\tlet z = Math.sin(PHI * v)*wz, x = Math.cos(PHI * v)*wx;\n\t\t\t\t\tp.push([0,wy,0])\n\t\t\t\t\tn.push([x*ninv,0,z*ninv])\n\t\t\t\t\tt.push([(ninv>0)?1-v:v,1])\n\t\t\t\t\tp.push([x,-wy,z])\n\t\t\t\t\tn.push([x*ninv,0,z*ninv,0])\n\t\t\t\t\tt.push([(ninv>0)?1-v:v,0])\t\t\t\n\t\t\t\t}\n\t\t\t\tfor(let j =0; j < div ;j++) {\n\t\t\t\t\tif(ninv>0)s.push([j*2,j*2+2,j*2+3,j*2+1]) ;\n\t\t\t\t\telse s.push([j*2,j*2+1,j*2+3,j*2+2]) ;\n\t\t\t\t}\n\t\t\t\tbreak; \n\t\t\tcase \"disc\":\n\t\t\t\tfor(let i = 0 ; i < div ; ++i) {\n\t\t\t\t\tlet v = i / (0.0+div);\n\t\t\t\t\tlet z = Math.cos(PHI * v)*wz, x = Math.sin(PHI * v)*wx;\n\t\t\t\t\tp.push([x,0,z])\n\t\t\t\t\tn.push([0,1,0])\n\t\t\t\t\tt.push([(x/wx+1)/2,(z/wz+1)/2])\t\n\t\t\t\t}\n\t\t\t\tp.push([0,0,0])\n\t\t\t\tn.push([0,1,0])\n\t\t\t\tt.push([0.5,0.5])\n\t\t\t\tfor(let j =0; j < div-1 ;j++) {\n\t\t\t\t\ts.push([j,j+1,div]) ;\n\t\t\t\t}\n\t\t\t\ts.push([div-1,0,div])\n\t\t\t\tbreak; \n\t\t\tcase \"plane\":\n\t\t\t\tif(!param.wz)  {\n\t\t\t\t\tp = [[wx,-wy,0],[wx,wy,0],[-wx,wy,0],[-wx,-wy,0]]\n\t\t\t\t\tn = [[0,0,ninv],[0,0,ninv],[0,0,ninv],[0,0,ninv]]\n\t\t\t\t} else if(!param.wx){\n\t\t\t\t\tp = [[0,-wy,-wz],[0,wy,-wz],[0,wy,wz],[0,-wy,wz]]\n\t\t\t\t\tn = [[ninv,0,0],[ninv,0,0],[ninv,0,0],[ninv,0,0]]\n\t\t\t\t}else {\n\t\t\t\t\tp = [[wx,0,wz],[wx,0,-wz],[-wx,0,-wz],[-wx,0,wz]]\n\t\t\t\t\tn = [[0,ninv,0],[0,ninv,0],[0,ninv,0],[0,ninv,0]]\n\t\t\t\t}\n\t\t\t\tt = (ninv>0)?[[1,0],[1,1],[0,1],[0,0]]:[[-1,0],[-1,1],[0,1],[0,0]]\n\t\t\t\ts = (ninv>0)?[[0,1,2],[2,3,0]]:[[2,1,0],[0,3,2]]\n\t\t\t\tbreak ;\n\t\t\tcase \"box\":\n\t\t\t\tp = [\n\t\t\t\t\t[wx,wy,wz],[wx,-wy,wz],[-wx,-wy,wz],[-wx,wy,wz],\t\t//+z\n\t\t\t\t\t[wx,wy,-wz],[wx,-wy,-wz],[-wx,-wy,-wz],[-wx,wy,-wz],//-z\n\t\t\t\t\t[wx,wy,wz],[wx,-wy,wz],[wx,-wy,-wz],[wx,wy,-wz],\t\t//+x\n\t\t\t\t\t[-wx,wy,wz],[-wx,-wy,wz],[-wx,-wy,-wz],[-wx,wy,-wz],//-x\n\t\t\t\t\t[wx,wy,wz],[wx,wy,-wz],[-wx,wy,-wz],[-wx,wy,wz],\t\t//+y\n\t\t\t\t\t[wx,-wy,wz],[wx,-wy,-wz],[-wx,-wy,-wz],[-wx,-wy,wz],\t//-y\n\t\t\t\t]\n\t\t\t\tn = [\n\t\t\t\t\t[0,0,ninv],[0,0,ninv],[0,0,ninv],[0,0,ninv],\n\t\t\t\t\t[0,0,-ninv],[0,0,-ninv],[0,0,-ninv],[0,0,-ninv],\n\t\t\t\t\t[ninv,0,0],[ninv,0,0],[ninv,0,0],[ninv,0,0],\n\t\t\t\t\t[-ninv,0,0],[-ninv,0,0],[-ninv,0,0],[-ninv,0,0],\n\t\t\t\t\t[0,ninv,0],[0,ninv,0],[0,ninv,0],[0,ninv,0],\n\t\t\t\t\t[0,-ninv,0],[0,-ninv,0],[0,-ninv,0],[0,-ninv,0]\n\t\t\t\t]\n\t\t\t\tt = (param.cubemap==1)?[\n\t\t\t\t\t[3/4,2/3],[3/4,1/3],[1,1/3],[1,2/3],\n\t\t\t\t\t[1/2,2/3],[1/2,1/3],[1/4,1/3],[1/4,2/3],\n\t\t\t\t\t[3/4,2/3],[3/4,1/3],[1/2,1/3],[1/2,2/3],\n\t\t\t\t\t[0,2/3],[0,1/3],[1/4,1/3],[1/4,2/3],\n\t\t\t\t\t[1/2,1],[1/2,2/3],[1/4,2/3],[1/4,1],\n\t\t\t\t\t[1/2,0],[1/2,1/3],[1/4,1/3],[1/4,0]\n\t\t\t\t]:[\n\t\t\t\t\t[1,1],[1,0],[0,0],[0,1],\n\t\t\t\t\t[0,1],[0,0],[1,0],[1,1],\n\t\t\t\t\t[0,1],[0,0],[1,0],[1,1],\n\t\t\t\t\t[1,1],[1,0],[0,0],[0,1],\n\t\t\t\t\t[1,0],[1,1],[0,1],[0,0],\n\t\t\t\t\t[1,1],[1,0],[0,0],[0,1]\n\t\t\t\t]\n\t\t\t\ts = (ninv>0)?[\n\t\t\t\t\t[3,1,0],[2,1,3],\n\t\t\t\t\t[4,5,7],[7,5,6],\n\t\t\t\t\t[8,9,11],[11,9,10],\n\t\t\t\t\t[15,13,12],[14,13,15],\t\n\t\t\t\t\t[16,17,19],[19,17,18],\n\t\t\t\t\t[23,21,20],[22,21,23],\t\t\n\t\t\t\t]:[\n\t\t\t\t\t[0,1,3],[3,1,2],\n\t\t\t\t\t[7,5,4],[6,5,7],\n\t\t\t\t\t[11,9,8],[10,9,11],\n\t\t\t\t\t[12,13,15],[15,13,14],\t\n\t\t\t\t\t[19,17,16],[18,17,19],\n\t\t\t\t\t[20,21,23],[23,21,22],\t\t\n\t\t\t\t]\n\t\t\t\tbreak ;\n\t\t\tcase \"mesh\":\n\t\t\t\tthis.parametricModel( function(u,v) {\n\t\t\t\t\tlet r = {\n\t\t\t\t\t\tpx:(u-0.5)*wx, py:0, pz:(v-0.5)*wz,\n\t\t\t\t\t\tnx:0, ny:1, nz:0,\n\t\t\t\t\t\tmu:u, mv:v }\n\t\t\t\t\treturn r ;\n\t\t\t\t},{start:1.0,end:0,div:divx},{start:0,end:1,div:divz},{ninv:param.ninv}) ;\n\t\t\t\treturn this ;\t\t\n\t\t\t\tbreak ;\n\t\t\tcase \"torus\":\n\t\t\t\tthis.parametricModel( function(u,v) {\n\t\t\t\t\tlet R = 1.0 ;\n\t\t\t\t\tlet sr = (param.sr)?param.sr:0.5 ;\n\t\t\t\t\tlet du = u ;\n\t\t\t\t\tlet dv = -v ;\n\t\t\t\t\tlet cx = Math.sin(du*PHI) ;\n\t\t\t\t\tlet cz = Math.cos(du*PHI) ;\n\t\t\t\t\tlet vx = Math.sin(dv*PHI) ;\n\t\t\t\t\tlet vy = Math.cos(dv*PHI) ;\n\t\t\t\t\tlet tx = 1\n\t\t\t\t\tlet mx = sr*vx*cx ;\n\t\t\t\t\tlet mz = sr*vx*cz ;\n\t\t\t\t\tlet my = sr*vy ;\n\t\t\t\t\tlet ml = Math.hypot(mx,my,mz) ;\n\t\t\t\n\t\t\t\t\tlet px = R*cx + tx*mx ;\n\t\t\t\t\tlet pz = R*cz + tx*mz ;\n\t\t\t\t\tlet py = tx*my ;\n\t\t\t\t\tlet r = {\n\t\t\t\t\t\tpx:px*wx, py:py*wy, pz:pz*wz,\n\t\t\t\t\t\tnx:0, ny:0, nz:0,\n\t\t\t\t\t\tmu:u, mv:v }\n\t\t\t\t\treturn r ;\t\t\t\n\t\t\t\t\t\n\t\t\t\t},{start:0,end:1.0,div:divx*2},{start:0,end:1,div:divy},{ninv:param.ninv}) ;\n\t\t\t\treturn this ;\n\t\t\tcase \"polyhedron\":\n\n\t\t\t\tif(!m[param.shape]) return null ;\n\t\t\t\tlet vt = m[param.shape].v ;\n\t\t\t\tlet si = m[param.shape].s ;\n\t\t\t\tlet vi = 0 ;\n\t\t\t\tfor(let i =0;i<si.length;i++) {\n\t\t\t\t\tlet nx=0,ny=0,nz=0 ;\n\t\t\t\t\tlet vs = [] ;\n\t\t\t\t\tfor(let h = si[i].length-1 ;h>=0;h--) {\n\t\t\t\t\t\tlet v = vt[si[i][h]] ;\n\t\t\t\t\t\tp.push([v[0],v[2],v[1]]) ;\n\t\t\t\t\t\tnx += v[0] ;\n\t\t\t\t\t\tny += v[2] ;\n\t\t\t\t\t\tnz += v[1] ;\n\t\t\t\t\t\tvs.push(vi) ;\n\t\t\t\t\t\tvi++ ;\n\t\t\t\t\t}\n\t\t\t\t\tlet vl = Math.hypot(nx,ny,nz) ;\n\t\t\t\t\tfor(let h = 0 ;h <si[i].length;h++) n.push([nx/vl,ny/vl,nz/vl]) ;\n\t\t\t\t\ts.push(vs) ;\n\t\t\t\t}\n\t\t\t\tt = null ;\n\t\t\t\tbreak ;\n\t\t\tcase \"icosa\":\n\t\t\t\tvt = m[\"r05\"].v ;\n\t\t\t\tsi = m[\"r05\"].s ;\n\t\t\t\tfor(let i=0;i<vt.length;i++) {\n\t\t\t\t\tlet vv = [vt[i][0],vt[i][2],vt[i][1]]\n\t\t\t\t\tp.push(vv)\n\t\t\t\t\tn.push(vv)\n\t\t\t\t\t_uv(vv)\n\t\t\t\t}\n\t\t\t\tfor(let i=0;i<si.length;i++) {\n\t\t\t\t\tif(ninv<0) s.push([si[i][0],si[i][1],si[i][2]])\n\t\t\t\t\telse  s.push([si[i][0],si[i][2],si[i][1]])\n\t\t\t\t}\n\t\t\t\tconst id = (param.div!==undefined)?param.div:2\n\t\t\t\tfor(let i=0;i<id;i++) tridiv(p,s) \n\t\t\t\tfor(let i=0;i<p.length;i++) {\n\t\t\t\t\tp[i][0] *= wx ;\n\t\t\t\t\tp[i][1] *= wy ;\n\t\t\t\t\tp[i][2] *= wz ;\n\t\t\t\t}\n\t\t\t\tbreak \n\t\t\t}\n\t\t\tfunction _uv(p) {\n\t\t\t\tlet u = Math.atan2(p[2],p[0])/Math.PI/2\n\t\t//\t\tif(u<0) u = 1-u\n\t\t\t\tt.push([(1-u)%1,1-Math.acos(p[1])/Math.PI])\n\t\t\t}\n\t\t\tfunction tridiv(v,s) {\n\t\t\t\tlet vi = v.length ;\n\t\t\t\tlet si = s.length ;\n\t\t\t\tlet vf ={} \n\t\t\t\tlet ret \n\t\t\t\tfunction _vff(i1,i2,ni) {\n\t\t\t\t\tlet k = (i1<i2)?`${i1}-${i2}`:`${i2}-${i1}`\n\t\t\t\t\tif(vf[k]==undefined) {\n\t\t\t\t\t\tvf[k] = ni\n\t\t\t\t\t\tret = ni  \n\t\t\t\t\t} else ret = vf[k]\n\t\t\t\t\treturn ret \n\t\t\t\t}\n\t\t\t\tfor(let i=0;i<si;i++) {\n\t\t\t\t\tlet i1 = s[i][0],i2 = s[i][1],i3 = s[i][2]\n\t\t\t\t\tlet v1 = v[i1], v2 = v[i2], v3 = v[i3]\n\n\t\t\t\t\tlet v12 = CanvasMatrix4.V3norm(CanvasMatrix4.V3add(v1,v2)) ;\n\t\t\t\t\tlet v23 = CanvasMatrix4.V3norm(CanvasMatrix4.V3add(v2,v3)) ;\n\t\t\t\t\tlet v31 = CanvasMatrix4.V3norm(CanvasMatrix4.V3add(v3,v1)) ;\n\t\t\t\t\tv.push(v12);\tv.push(v23);v.push(v31)\n\t\t\t\t\tn.push(v12);\tn.push(v23);n.push(v31)\n\t\t\t\t\t_uv(v12);_uv(v23);_uv(v31)\n\t\t\t\t\t\n\t\t\t\t\ts[i]=[i1,vi,vi+2] ;\n\t\t\t\t\ts.push([vi,vi+1,vi+2]) ;\n\t\t\t\t\ts.push([i2,vi+1,vi]) ;\n\t\t\t\t\ts.push([i3,vi+2,vi+1]) ;\n\t\t\t\t\tvi += 3\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.obj_v = p \n\t\t\tthis.obj_n = n\n\t\t\tthis.obj_t = t\n\t\t\tthis.obj_i = s\n\t\t//\tconsole.log(p)\n\t\t//\tconsole.log(n)\n\t\t//\tconsole.log(t)\n\t\t//\tconsole.log(s)\n\t\t\treturn this ;\n\t\t}\n\t\t// generate parametric model by function\n\t\t parametricModel(func,pu,pv,opt) {\n\t\t\tlet pos = [] ;\n\t\t\tlet norm = [] ;\n\t\t\tlet uv = [] ;\n\t\t\tlet indices = [] ;\n\t\t\tlet ninv = (opt && opt.ninv)?-1:1 ;\n\n\t\t\tlet du = (pu.end - pu.start)/pu.div ;\n\t\t\tlet dv = (pv.end - pv.start)/pv.div ;\n\t\t\tfor(let iu =0; iu <= pu.div ;iu++ ) {\n\t\t\t\tfor(let iv = 0 ;iv<= pv.div; iv++ ) {\n\t\t\t\t\tlet u = pu.start+du*iu ;\n\t\t\t\t\tlet v = pv.start+dv*iv ;\n\t\t\t\t\tlet p = func(u,v) ;\n\t\t\t\t\tpos.push( [p.px,p.py,p.pz] ) ;\n\t\t\t\t\tif(p.mu!=undefined) uv.push([p.mu,p.mv]) ;\n\t\t\t\t\t// calc normal\n\t\t\t\t\tif(p.nx==0&&p.ny==0&&p.nz==0) {\n\t\t\t\t\t\tlet dud = du/10 ; let dvd = dv/10 ;\n\t\t\t\t\t\tlet du0 = func(u-dud,v) ; let du1 = func(u+dud,v) ;\n\t\t\t\t\t\tlet nux = (du1.px - du0.px)/(dud*2) ;\n\t\t\t\t\t\tlet nuy = (du1.py - du0.py)/(dud*2) ;\n\t\t\t\t\t\tlet nuz = (du1.pz - du0.pz)/(dud*2) ;\n\t\t\t\t\t\tlet dv0 = func(u,v-dvd) ; let dv1 = func(u,v+dvd) ;\n\t\t\t\t\t\tlet nvx = (dv1.px - dv0.px)/(dvd*2) ;\n\t\t\t\t\t\tlet nvy = (dv1.py - dv0.py)/(dvd*2) ;\n\t\t\t\t\t\tlet nvz = (dv1.pz - dv0.pz)/(dvd*2) ;\n\t\t\t\t\t\tlet nx = nuy*nvz - nuz*nvy ;\n\t\t\t\t\t\tlet ny = nuz*nvx - nux*nvz ;\n\t\t\t\t\t\tlet nz = nux*nvy - nuy*nvx ;\n\t\t\t\t\t\tlet nl = Math.hypot(nx,ny,nz); \n\t\t\t\t\t\tp.nx = nx/nl ;\n\t\t\t\t\t\tp.ny = ny/nl ;\n\t\t\t\t\t\tp.nz = nz/nl ;\n\t\t\t\t\t}\n\t\t\t\t\tnorm.push([p.nx*ninv, p.ny*ninv,p.nz*ninv] ) ;\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet d2 = pv.div+1 ;\n\t\t\tfor(let j = 0 ; j < pu.div ; ++j) {\n\t\t\t\tlet base = j * d2;\n\t\t\t\tfor(let i = 0 ; i < pv.div ; ++i) {\n\t\t\t\t\tif(ninv>0) indices.push([base+i,base+i+d2,base+i+d2+1,base+i+1])\t\n\t\t\t\t\telse  indices.push([base+i+1,base+i+d2+1,base+i+d2,base+i])\t\n\t\t\t\t}\t\n\n\t\t\t}\n\t\t\tthis.obj_v = pos\n\t\t\tthis.obj_n = norm\n\t\t\tif(uv.length>0) this.obj_t = uv\n\t\t\tthis.obj_i = indices \n\t\t\treturn this ;\n\t\t}\n\n\t\t//convert vtx data to vbo array\n\t\tobjModel(addvec,mode) {\n\t\t\tlet v = this.obj_v ;\n\t\t\tlet s = this.obj_i ;\n\t\t\tlet n = this.obj_n ;\n\t\t\tlet t = this.obj_t ;\n\t\t\tlet c = this.obj_c ;\n\n\t\t\tlet vbuf = [] ;\n\t\t\tlet ibuf = [] ;\n\t\t\tlet sf = [] ;\n\t\t\tlet sn = [] ;\n\t\t\tlet ii = 0 ;\n\t\t\tif(!n) this.obj_n = [] ;\n\n\t\t\tfor(let i=0,l=s.length;i<l;i++) {\n\t\t\t\tlet p = s[i] ;\n\t\t\t\tif(!n) {\n\t\t\t\t\t//\n\t\t\t\t\tlet pa = [] ;\n\t\t\t\t\tfor(let j=0;j<3;j++) {\n\t\t\t\t\t\tpa[j] = v[p[j]] ;\n\t\t\t\t\t}\n\t\t\t\t\tlet yx = pa[1][0]-pa[0][0];\n\t\t\t\t\tlet yy = pa[1][1]-pa[0][1];\n\t\t\t\t\tlet yz = pa[1][2]-pa[0][2];\n\t\t\t\t\tlet zx = pa[2][0]-pa[0][0];\n\t\t\t\t\tlet zy = pa[2][1]-pa[0][1];\n\t\t\t\t\tlet zz = pa[2][2]-pa[0][2];\t\t\t\t\n\t\t\t\t\tlet xx =  yy * zz - yz * zy;\n\t\t\t\t\tlet xy = -yx * zz + yz * zx;\n\t\t\t\t\tlet xz =  yx * zy - yy * zx;\n\t\t\t\t\tlet vn = Math.hypot(xx,xy,xz) ;\n\t\t\t\t\txx /= vn ; xy /= vn ; xz /= vn ;\n\t\t\t\t\tsf.push( [xx,xy,xz]) ;\n\t\t\t\t\t//\n\t\t\t\t\tfor(let j=0,lj=p.length;j<lj;j++) {\n\t\t\t\t\t\tif(!sn[p[j]]) sn[p[j]] = [] ;\n\t\t\t\t\t\tsn[p[j]].push(i) ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t//3\n\t\t\t\tfor(let j=1,lj=p.length-1;j<lj;j++) {\n\t\t\t\t\tibuf.push(p[0]) ;\n\t\t\t\t\tibuf.push(p[j]) ;\n\t\t\t\t\tibuf.push(p[j+1] ) ;\n\t\t\t\t}\n\t\t\t\tii += p.length ;\n\t\t\t}\n\t\t\tconsole.log(\" vert:\"+v.length);\n\t\t\tconsole.log(\" poly:\"+ibuf.length/3);\n\t\t\tfor(let i=0,l=v.length;i<l;i++) {\n\t\t\t\tvbuf.push( parseFloat( v[i][0]) ) ;\n\t\t\t\tvbuf.push( parseFloat( v[i][1]) ) ;\n\t\t\t\tvbuf.push( parseFloat( v[i][2]) ) ;\n\t\t\t\tlet nx=0,ny=0,nz=0 ;\t\t\n\t\t\t\tif(n) {\n\t\t\t\t\tnx = n[i][0] ;\n\t\t\t\t\tny = n[i][1] ;\n\t\t\t\t\tnz = n[i][2] ;\n\t\t\t\t} else {\n\t\t\t\t\t//\n\t\t\t\t\tfor(let j=0;j<sn[i].length;j++) {\n\t\t\t\t\t\tlet ii = sn[i][j] ;\n\t\t\t\t\t\tnx += sf[ii][0] ;\n\t\t\t\t\t\tny += sf[ii][1] ;\n\t\t\t\t\t\tnz += sf[ii][2] ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tlet vn = Math.hypot(nx,ny,nz) ;\n\t\t\t\tif(vn==0) {\n\t\t\t\tvbuf.push(0) ;\n\t\t\t\tvbuf.push(0) ;\n\t\t\t\tvbuf.push(0) ;\t\t\t\n\t\t\t\t} else {\n\t\t\t\tvbuf.push(nx/vn) ;\n\t\t\t\tvbuf.push(ny/vn) ;\n\t\t\t\tvbuf.push(nz/vn) ;\n\t\t\t\t}\n\t\t\t\tif(!n) {\n\t\t\t\t\tthis.obj_n.push([nx/vn,ny/vn,nz/vn]); \n\t\t\t\t}\n\t\t\t\tif(t) {\n\t\t\t\t\tvbuf.push(parseFloat( t[i][0]) ) ;\n\t\t\t\t\tvbuf.push(parseFloat( t[i][1]))  ;\n\t\t\t\t}\n\t\t\t\tif(c) {\n\t\t\t\t\tvbuf.push(parseFloat( c[i][0])) ;\n\t\t\t\t\tvbuf.push(parseFloat( c[i][1])) ;\n\t\t\t\t\tvbuf.push(parseFloat( c[i][2])) ;\n\t\t\t\t}\n\t\t\t\tif(addvec) {\n\t\t\t\t\tfor(av=0;av<addvec.length;av++) {\n\t\t\t\t\t\tvbuf = vbuf.concat(addvec[av].data[i]) ;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t//\tconsole.log(vbuf) ;\n\t\t//\tconsole.log(ibuf) ;\n\t\t\tthis.ibuf = ibuf ;\n\t\t\tthis.vbuf = vbuf ;\n\t\t\tlet ret = {mode:\"tri\",vtx_at:[\"position\",\"norm\"],vtx:vbuf,idx:ibuf} ;\n\t\t\tif(t) ret.vtx_at.push(\"uv\") ;\n\t\t\tif(c) ret.vtx_at.push(\"color\") ;\n\t\t\tif(addvec) {\n\t\t\t\tfor(av=0;av<addvec.length;av++) ret.vtx_at.push(addvec[av].attr) ;\n\t\t\t}\n\t\t\treturn ret ;\n\t\t}\n\n\t\t// generate normal vector lines\n\t\t normLines(vm) {\n\t\t\tlet nv = [] ;\n\t\t\tlet v = this.obj_v\n\t\t\tlet n = this.obj_n ;\n\t\t\tif(vm==undefined) vm = 0.1\n\t\t\tfor(let i=0,l=v.length;i<l;i++) {\n\t\t\t\tnv.push(v[i][0]) ;\n\t\t\t\tnv.push(v[i][1]) ;\n\t\t\t\tnv.push(v[i][2]) ;\n\t\t\t\tnv.push(v[i][0]+n[i][0]*vm) ;\n\t\t\t\tnv.push(v[i][1]+n[i][1]*vm) ;\n\t\t\t\tnv.push(v[i][2]+n[i][2]*vm) ;\n\t\t\t}\n\t\t\treturn  {mode:\"lines\",vtx_at:[\"position\"],vtx:nv} ;\n\t\t}\n\t\t// generate wireframe lines\n\t\t wireframe() {\n\t\t\tlet nv = [] ;\n\t\t\tlet v = this.obj_v ;\n\t\t\tlet s = this.obj_i ;\n\t\t\tfor(let k=0,l=s.length;k<l;k++) {\n\t\t\t\tlet ss = s[k]; \n\t\t\t\tlet i\n\t\t\t\tfor(i=1;i<ss.length;i++) {\n\t\t\t\t\tnv.push(v[ss[i-1]][0]) ;\n\t\t\t\t\tnv.push(v[ss[i-1]][1]) ;\n\t\t\t\t\tnv.push(v[ss[i-1]][2]) ;\n\t\t\t\t\tnv.push(v[ss[i]][0]) ;\n\t\t\t\t\tnv.push(v[ss[i]][1]) ;\n\t\t\t\t\tnv.push(v[ss[i]][2]) ;\n\t\t\t\t}\n\t\t\t\tnv.push(v[ss[i-1]][0]) ;\n\t\t\t\tnv.push(v[ss[i-1]][1]) ;\n\t\t\t\tnv.push(v[ss[i-1]][2]) ;\t\t\n\t\t\t\tnv.push(v[ss[0]][0]) ;\n\t\t\t\tnv.push(v[ss[0]][1]) ;\n\t\t\t\tnv.push(v[ss[0]][2]) ;\t\n\t\t\t}\n\t\t\treturn  {mode:\"lines\",vtx_at:[\"position\"],vtx:nv} ;\t\n\t\t}\n\n\t\t// mult 4x4 matrix to model\n\t\t multMatrix4(m4) {\n\t\t\tlet inv = new CanvasMatrix4(m4).invert().transpose() ;\n\t\t\tlet buf = m4.getAsArray()\n\t\t\tfor(let i=0;i<this.obj_v.length;i++) {\n\t\t\t\tlet v = this.obj_v[i] ;\n\t\t\t\tlet vx = buf[0] * v[0] + buf[4] * v[1] + buf[8] * v[2] + buf[12] ;\n\t\t\t\tlet vy = buf[1] * v[0] + buf[5] * v[1] + buf[9] * v[2] + buf[13] ;\n\t\t\t\tlet vz = buf[2] * v[0] + buf[6] * v[1] + buf[10] * v[2] + buf[14] ;\n\t\t\t\tthis.obj_v[i] = [vx,vy,vz] ;\n\t\t\t}\n\t\t\tbuf = inv.getAsArray() \n\t\t\tfor(let i=0;i<this.obj_n.length;i++) {\n\t\t\t\tlet v = this.obj_n[i] ;\n\t\t\t\tlet vx = buf[0] * v[0] + buf[4] * v[1] + buf[8] * v[2] + buf[12] ;\n\t\t\t\tlet vy = buf[1] * v[0] + buf[5] * v[1] + buf[9] * v[2] + buf[13] ;\n\t\t\t\tlet vz = buf[2] * v[0] + buf[6] * v[1] + buf[10] * v[2] + buf[14] ;\n\t\t\t\tthis.obj_n[i] = [vx,vy,vz] ;\n\t\t\t}\n\t\t}\n\t\t// merge model\n\t\t mergeModels(models) {\n\t\t\tlet m = this ;\n\t\t\tlet ofs = 0 ;\n\t\t\tfor(let i=0;i<models.length;i++) {\n\t\t\t\tm.obj_v = m.obj_v.concat(models[i].obj_v) \n\t\t\t\tm.obj_n = m.obj_n.concat(models[i].obj_n) \n\t\t\t\tm.obj_t = m.obj_t.concat(models[i].obj_t)\n\t\t\t\tfor(let j=0;j<models[i].obj_i.length;j++) {\n\t\t\t\t\tlet p = models[i].obj_i[j] ;\n\t\t\t\t\tlet pp = [] ;\n\t\t\t\t\tfor( n=0;n<p.length;n++) {\n\t\t\t\t\t\tpp.push( p[n]+ofs ) ;\n\t\t\t\t\t}\n\t\t\t\t\tm.obj_i.push(pp) ;\n\t\t\t\t}\n\t\t\t\tofs += models[i].obj_v.length ;\n\t\t\t}\n\t\t\treturn m ;\n\t\t}\n\t\t// calc bounding box \n\t\tboundbox() {\n\t\t\tlet sx = Number.MAX_VALUE\n\t\t\tlet sy = sx \n\t\t\tlet sz = sx \n\t\t\tlet ex = Number.MIN_VALUE \n\t\t\tlet ey = ex \n\t\t\tlet ez = ex \n\t\t\t\n\t\t\tfor(let i=0;i<this.obj_v.length;i++) {\n\t\t\t\tlet v = this.obj_v[i] ;\t\n\t\t\t\tif( v[0] < sx ) sx = v[0]\n\t\t\t\tif( v[1] < sy ) sy = v[1] \n\t\t\t\tif( v[2] < sz ) sz = v[2] \n\t\t\t\tif( v[0] > ex ) ex = v[0] \n\t\t\t\tif( v[1] > ey ) ey = v[1] \n\t\t\t\tif( v[2] > ez ) ez = v[2] \n\t\t\t}\n\t\t\treturn [[sx,sy,sz],[ex,ey,ez]]\n\t\t}\n\n\t\t// load external file \n\t\tloadAjax(src) {\n\t\t\treturn new Promise(function(resolve,reject) {\n\t\t\t\tlet req = new XMLHttpRequest();\n\t\t\t\treq.open(\"get\",src,true) ;\n\t\t\t\treq.responseType = \"text\" ;\n\t\t\t\treq.onload = function() {\n\t\t\t\t\tif(this.status==200) {\n\t\t\t\t\t\tresolve(this.response) ;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(\"Ajax error:\"+this.statusText) ;\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treq.onerror = function() {\n\t\t\t\t\treject(\"Ajax error:\"+this.statusText)\n\t\t\t\t}\n\t\t\t\treq.send() ;\n\t\t\t})\n\t\t}\n\t\tstatic loadLines(path,cb,lbufsize) {\n\t\t\tif(!lbufsize) lbufsize = 10000\n\t\t\tconst decoder = new TextDecoder\n\t\t\treturn new Promise((resolve,reject)=>{\n\t\t\t\tfetch( path , {\n\t\t\t\t\tmethod:\"GET\"\n\t\t\t\t}).then( async resp=>{\n\t\t\t\t\tif(resp.ok) {\n\t\t\t\t\t\tconst reader = resp.body.getReader();\n\t\t\t\t\t\tconst buf = new Uint8Array(lbufsize)\n\t\t\t\t\t\tlet bi = 0 \n\t\t\t\t\t\twhile (true) {\n\t\t\t\t\t\t\tconst {done, value} = await reader.read();\n\t\t\t\t\t\t\tif (done) {\n\t\t\t\t\t\t\t  cb(decoder.decode(buf.slice(0,bi))) \n\t\t\t\t\t\t\t  resolve(resp)\n\t\t\t\t\t\t\t  break;\n\t\t\t\t\t\t\t}\n\t\t//\t\t\t\t\tconsole.log(value.length)\n\t\t\t\t\t\t\tfor (const char of value) {\n\t\t\t\t\t\t\t\tbuf[bi++] = char \n\t\t\t\t\t\t\t\tif(char == 0x0a ) {\n\t\t\t\t\t\t\t\t\tcb(decoder.decode(buf.slice(0,bi-1))) \n\t\t\t\t\t\t\t\t\tbi = 0 \n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treject(resp)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t\t// load .obj file\n\t\tasync loadObj(path,scale) {\n\t\t\tif(!scale) scale=1.0 ;\n\t\t\treturn new Promise((resolve,reject)=> {\n\t\t\t\tthis.loadAjax(path).then((data)=> {\n\t\t//\t\t\tconsole.log(data) ;\n\t\t\t\t\tlet l = data.split(\"\\n\") ;\n\t\t\t\t\tlet v = [];\n\t\t\t\t\tlet n = [] ;\n\t\t\t\t\tlet x = [] ;\n\t\t\t\t\tlet t = [] ;\n\t\t\t\t\tlet c = [] ;\n\t\t\t\t\tlet xi = {} ;\n\t\t\t\t\tlet xic = 0 ;\n\n\t\t\t\t\tfor(let i = 0,len=l.length;i<len;i++) {\n\t\t\t\t\t\tif(l[i].match(/^#/)) continue ;\n\t\t\t\t\t\tif(l[i].match(/^eof/)) break ;\n\t\t\t\t\t\tlet ll = l[i].split(/\\s+/) ;\n\t\t\t\t\t\tif(ll[0] == \"v\") {\n\t\t\t\t\t\t\tv.push([ll[1]*scale,ll[2]*scale,ll[3]*scale]) ;\n\t\t\t\t\t\t\tif(ll.length==7) c.push([ll[4],ll[5],ll[6]])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(ll[0] == \"vt\") {\n\t\t\t\t\t\t\tt.push([ll[1],ll[2]]) ;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(ll[0] == \"vn\") {\n\t\t\t\t\t\t\tn.push([ll[1],ll[2],ll[3]]) ;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(ll[0] == \"f\") {\n\t\t\t\t\t\t\tlet ix = [] ;\n\t\t\t\t\t\t\tfor(let ii=1;ii<ll.length;ii++) {\n\t\t\t\t\t\t\t\tif(ll[ii]==\"\") continue ;\n\t\t\t\t\t\t\t\tif(!(ll[ii] in xi)) xi[ll[ii]] = xic++ ; \n\t\t\t\t\t\t\t\tix.push(xi[ll[ii]]) ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tx.push(ix) ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.obj_v = [] ;\n\t\t\t\t\tif(c.length>0) this.obj_c = [] \n\t\t\t\t\tthis.obj_i =x ;\n\t\t\t\t\tif(n.length>0) this.obj_n = [] ;\n\t\t\t\t\tif(t.length>0) this.obj_t = [] ;\n\t\t\t\t\tif(x.length>0) {\n\t\t\t\t\t\tfor(let i in xi) {\n\t\t\t\t\t\t\tlet si = i.split(\"/\") ;\n\t\t\t\t\t\t\tlet ind = xi[i] ;\n\t\t\t\t\t\t\tthis.obj_v[ind] = v[si[0]-1] ;\n\t\t\t\t\t\t\tif(c.length>0) this.obj_c[ind] = c[si[0]-1]  \n\t\t\t\t\t\t\tif(t.length>0) this.obj_t[ind] = t[si[1]-1] ;\n\t\t\t\t\t\t\tif(n.length>0) this.obj_n[ind] = n[si[2]-1] ;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.obj_v = v \n\t\t\t\t\t\tif(c.length>0) this.obj_c = c\n\t\t\t\t\t\tif(n.length>0) this.obj_n = n\n\t\t\t\t\t}\n\t\t\t\t\tconsole.log(\"loadobj \"+path+\" vtx:\"+v.length+\" norm:\"+n.length+\" tex:\"+t.length+\" idx:\"+x.length+\" vbuf:\"+this.obj_v.length) ;\n\t\t\t\t\tresolve(this) ;\n\t\t\t\t}).catch(function(err) {\n\t\t\t\t\treject(err) ;\n\t\t\t\t})\n\t\t\t}) ;\n\t\t}\n\t\tstatic async loadObj2(path,opt) {\n\n\t\t\tlet scale = 1.0\n\t\t\tlet zup = false  \n\t\t\tlet nogroup = false \n\t\t\tlet nomtl = false \n\t\t\tif(opt) {\n\t\t\t\tif(opt.scale) scale=opt.scale\n\t\t\t\tif(opt.zup) zup = opt.zup\n\t\t\t\tif(opt.nogroup) nogroup = opt.nogroup\n\t\t\t\tif(opt.nomtl) nomtl = opt.nomtl\n\t\t\t}\n\t\t\treturn new Promise((resolve,reject)=> {\n\t\t\t\tconst v = [];\n\t\t\t\tconst n = [] ;\n\t\t\t\tconst xl = {} ;\n\t\t\t\tconst t = [] ;\n\t\t\t\tconst c = [] ;\n\t\t\t\tconst xi = {} ;\n\t\t\t\tconst rxi = []\n\t\t\t\tlet xic = 0 ;\n\t\t\t\tlet usemtl = \"\" \n\t\t\t\tlet group = \"\" \n\t\t\t\tconst pmtls = []\n\t\t\t\tconst mtlspath = [] \n\t\t\t\tWWModel.loadLines(path,async l=>{\n\t\t\t\t\t\tif(l.match(/^#/)) return ;\n\t\t\t\t\t\tif(l.match(/^eof/)) return ;\n\t\t\t\t\t\tconst ll = l.split(/\\s+/) ;\n\t\t\t\t\t\tconst cmd = ll[0]\n\t\t\t\t\t\tif(cmd == \"v\") {\n\t\t\t\t\t\t\tif(zup) v.push([ll[1]*scale,ll[3]*scale,-ll[2]*scale]) ;\n\t\t\t\t\t\t\telse v.push([ll[1]*scale,ll[2]*scale,ll[3]*scale]) ;\n\t\t\t\t\t\t\tif(ll.length==7) c.push([ll[4],ll[5],ll[6]])\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(cmd == \"vt\") {\n\t\t\t\t\t\t\tt.push([ll[1],ll[2]]) ;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(cmd == \"vn\") {\n\t\t\t\t\t\t\tif(zup) n.push([ll[1],ll[3],-ll[2]]) ;\n\t\t\t\t\t\t\telse  n.push([ll[1],ll[2],ll[3]]) ;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(cmd == \"f\") {\n\t\t\t\t\t\t\tlet ix = [] ;\n\t\t\t\t\t\t\tfor(let ii=1;ii<ll.length;ii++) {\n\t\t\t\t\t\t\t\tif(ll[ii]==\"\") continue ;\n\t\t\t\t\t\t\t\tif(!(ll[ii] in xi)) {\n\t\t\t\t\t\t\t\t\txi[ll[ii]] = xic++ ; \n\t\t\t\t\t\t\t\t\trxi[xi[ll[ii]]] = ll[ii]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tix.push(xi[ll[ii]]) ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif(!xl[group]) xl[group] = {} \n\t\t\t\t\t\t\tif(!xl[group][usemtl]) xl[group][usemtl] = []\n\t\t\t\t\t\t\txl[group][usemtl].push(ix) ;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(cmd == \"mtllib\") {\n\t\t\t\t\t\t\tlet pp = path.split(\"/\") \n\t\t\t\t\t\t\tpp[pp.length-1] = ll[1] \n\t\t\t\t\t\t\tpmtls.push( WWModel.loadMtl(pp.join(\"/\")) )\n\t\t\t\t\t\t\tmtlspath.push(pp)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(cmd == \"usemtl\") {\n\t\t\t\t\t\t\tif(!nomtl) usemtl = ll[1] \n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(cmd == \"g\") {\n\t\t\t\t\t\t\tif(!nogroup) group = ll[1] \n\t\t\t\t\t\t}\n\t\t\t\t}).then(r=>{\n\t\t\t\t\tconst groups = []\n\t\t\t\t\tlet objs\n\t\t\t\t\tconsole.log(xl)\n\t\t\t\t\tconsole.log(rxi)\n\t\t\t\t\tfor(let g in xl) {\n\t\t\t\t\t\tobjs = [] \n\t\t\t\t\t\tfor( let m in xl[g]) {\n\t\t\t\t\t\t\tlet x = xl[g][m]\n\t\t\t\t\t\t\tconst obj = new WWModel() \n\t\t\t\t\t\t\tobj.obj_v = [] ;\n\t\t\t\t\t\t\tif(c.length>0) obj.obj_c = [] \n\t\t\t\t\t\t\tif(n.length>0) obj.obj_n = [] ;\n\t\t\t\t\t\t\tif(t.length>0) obj.obj_t = [] ;\n\t\t\t\t\t\t\tobj.obj_i =x ;\n\t\t\t\t\t\t\tif(x.length>0) {\n\t\t\t\t\t\t\t\tfor(let i in xi) {\n\t\t\t\t\t\t\t\t\tlet si = i.split(\"/\") ;\n\t\t\t\t\t\t\t\t\tlet ind = xi[i] ;\n\t\t\t\t\t\t\t\t\tobj.obj_v[ind] = v[si[0]-1] ;\n\t\t\t\t\t\t\t\t\tif(c.length>0) obj.obj_c[ind] = c[si[0]-1]  \n\t\t\t\t\t\t\t\t\tif(t.length>0) obj.obj_t[ind] = t[si[1]-1] ;\n\t\t\t\t\t\t\t\t\tif(n.length>0) obj.obj_n[ind] = n[si[2]-1] ;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tobj.obj_v = v \n\t\t\t\t\t\t\t\tif(c.length>0) obj.obj_c = c\n\t\t\t\t\t\t\t\tif(n.length>0) obj.obj_n = n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tobjs.push({obj:obj,mtlname:m})\n\t\t\t\t\t\t\tconsole.log(\"loadobj \"+path+\" vtx:\"+v.length+\" norm:\"+n.length+\" tex:\"+t.length+\" idx:\"+x.length+\" vbuf:\"+obj.obj_v.length) ;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tgroups.push({objs:objs,group:g})\n\t\t\t\t\t}\n\t\t\t\t\tif(pmtls.length>0) {\n\t\t\t\t\t\tPromise.all(pmtls).then(mtls=> {\n\t\t\t\t\t\t\tlet allmtls = {} \n\t\t\t\t\t\t\tfor(let i in mtls) {\n\t\t\t\t\t\t\t\tallmtls = Object.assign(allmtls,mtls[i]) \n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresolve((nogroup)?{objs:objs,mtls:allmtls}:{groups:groups,mtls:allmtls})\n\t\t\t\t\t\t})\n\t\t\t\t\t} else resolve((nogroup)?{objs:objs}:{groups:groups})\n\t\t\t\t\t\t\t\t\n\t\t\t\t}).catch(err=> {\n\t\t\t\t\treject(err) ;\n\t\t\t\t})\n\t\t\t}) ;\n\t\t}\n\t\tstatic async loadMtl(path) {\n\t\t\tconst mtls = []\n\t\t\tlet mtlname = \"\" \n\t\t\treturn new Promise((resolve,reject)=> {\n\t\t\t\tWWModel.loadLines(path,l=>{\n\t\t\t\t\tif(l.match(/^#/)) return \n\t\t\t\t\tif(l.match(/^eof/)) return \n\t\t\t\t\tconst ll = l.split(/\\s+/) \n\t\t\t\t\tconst cmd = ll[0]\n\t\t\t\t\tif(cmd==\"newmtl\") {\n\t\t\t\t\t\tmtlname = ll[1] \n\t\t\t\t\t\tmtls[mtlname] = {}\n\t\t\t\t\t\treturn  \n\t\t\t\t\t}\n\t\t\t\t\tswitch(cmd) {\n\t\t\t\t\t\tcase \"Kd\":\n\t\t\t\t\t\tcase \"Ks\":\n\t\t\t\t\t\tcase \"Ka\":\n\t\t\t\t\t\tcase \"Tf\":\n\t\t\t\t\t\t\tmtls[mtlname][cmd] = [parseFloat(ll[1]),parseFloat(ll[2]),parseFloat(ll[3])]\n\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\tcase \"Ni\":\n\t\t\t\t\t\tcase \"d\":\n\t\t\t\t\t\tcase \"Ns\":\n\t\t\t\t\t\t\tmtls[mtlname][cmd] = parseFloat(ll[1])\n\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\tcase \"illum\":\n\t\t\t\t\t\t\tmtls[mtlname][cmd] = parseInt(ll[1])\n\t\t\t\t\t\t\tbreak ;\n\t\t\t\t\t\tcase \"map_Kd\":\n\t\t\t\t\t\tcase \"map_Ka\":\n\t\t\t\t\t\tcase \"map_Ks\":\n\t\t\t\t\t\t\tmtls[mtlname][cmd] = ll[1]\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}).then(r=>{\n\t\t\t\t\tresolve(mtls) \n\t\t\t\t}).catch(err=> {\n\t\t\t\t\treject(err) ;\n\t\t\t\t})\t\t\t\n\t\t\t})\n\t\t}\n\n\n\t\t// other utils \n\t\tstatic  HSV2RGB( H, S, V ,a) {\n\t\t\tlet ih;\n\t\t\tlet fl;\n\t\t\tlet m, n;\n\t\t\tlet rr,gg,bb ;\n\t\t\tH = H * 6 ;\n\t\t\tih = Math.floor( H );\n\t\t\tfl = H - ih;\n\t\t\tif( !(ih & 1)) fl = 1 - fl;\n\t\t\tm = V * ( 1 - S );\n\t\t\tn = V * ( 1 - S * fl );\n\t\t\tswitch( ih ){\n\t\t\t\tcase 0:\n\t\t\t\tcase 6:\n\t\t\t\t\trr = V; gg = n; bb = m; break;\n\t\t\t\tcase 1: rr = n; gg = V; bb = m; break;\n\t\t\t\tcase 2: rr = m; gg = V; bb = n; break;\n\t\t\t\tcase 3: rr = m; gg = n; bb = V; break;\n\t\t\t\tcase 4: rr = n; gg = m; bb = V; break;\n\t\t\t\tcase 5: rr = V; gg = m; bb = n; break;\n\t\t\t}\n\t\t\treturn [rr,gg,bb,(a===undefined)?1.0:a] ;\n\t\t}\n\t\tstatic  snormal(pa) {\n\t\t\tlet yx = pa[1][0]-pa[0][0];\n\t\t\tlet yy = pa[1][1]-pa[0][1];\n\t\t\tlet yz = pa[1][2]-pa[0][2];\n\t\t\tlet zx = pa[2][0]-pa[0][0];\n\t\t\tlet zy = pa[2][1]-pa[0][1];\n\t\t\tlet zz = pa[2][2]-pa[0][2];\t\t\t\t\n\t\t\tlet xx =  yy * zz - yz * zy;\n\t\t\tlet xy = -yx * zz + yz * zx;\n\t\t\tlet xz =  yx * zy - yy * zx;\n\t\t\tlet vn = Math.hypot(xx,xy,xz) ;\n\t\t\txx /= vn ; xy /= vn ; xz /= vn ;\n\t\t\treturn [xx,xy,xz] ;\n\t\t}\n\n\t} //class WWModel\n\n\n\treturn pox.WWModel = WWModel;\n});\n\n\ndefine('skylark-pox/Player',[\n\t\"./pox\",\n\t\"./CanvasMatrix4\",\n\t\"./GPad\",\n\t\"./Pointer\",\n\t\"./Camera\",\n\t\"./Device\",\n\t\"./WBind\",\n\t\"./WWG\",\n\t\"./WWModel\"\n],function(pox,CanvasMatrix4,GPad,Pointer,PoxCamera,POXPDevice,WBind,WWG,WWModel){\n\t//poxplayer.js\n\t//  PolygonExplorer Player\n\t//   wakufactory.jp\n\t\"use strict\" ;\n\n\tvar $ = pox.$;\n\n\tconst Mat4 = CanvasMatrix4 // alias\n\tconst RAD = pox.RAD;\n\n\tclass Player {\n\n\t\tconstructor(can,opt) {\n\t\t\tthis.version = \"2.2.0\" \n\t\t\tif(!Promise) {\n\t\t\t\tthrow \"This browser is not supported!!\"\t\n\t\t\t}\n\t\t\tif(!opt) opt = {} \n\t\t\tthis.can = (can instanceof HTMLElement)?can:document.querySelector(can)  ;\n\n\t\t\t// wwg initialize\n\t\t\tconst wwg = new WWG() ;\n\t\t\tconst initopt = {preserveDrawingBuffer: opt.capture,antialias:true, xrCompatible: true }\n\t\t\tconst useWebGL2 = !opt.noWebGL2\n\t\t\tif(!(useWebGL2 && wwg.init2(this.can,initopt)) && !wwg.init(this.can,initopt)) {\n\t\t\t\tthrow \"wgl not supported!\"\n\t\t\t}\n\t\t\tif(opt.needWebGL2 && wwg.version!=2) {\n\t\t\t\tthrow \"needs wgl2\"\n\t\t\t}\n\t\t\tthis.wwg = wwg ;\n\t\t//\tif(window.WAS!=undefined) this.synth = new WAS.synth() \n\t\t\t\n\t\t\tconst Param = WBind.create() ;\n\t\t\tthis.param = Param ;\n\t\t\tParam.bindInput(\"isStereo\",(opt.ui && opt.ui.isStereo)?opt.ui.isStereo:\"#isstereo\") ;\n\t\t\tParam.bindInput(\"autorot\",(opt.ui && opt.ui.autorot)?opt.ui.autorot:\"#autorot\") ;\n\t\t\tParam.bindInput(\"pause\",(opt.ui && opt.ui.pause)?opt.ui.pause:\"#pause\") ;\n\t\t\tParam.bindHtml(\"fps\",(opt.ui && opt.ui.fps)?opt.ui.fps:\"#fps\") ;\n\t\t\tParam.bindInput(\"camselect\",(opt.ui && opt.ui.camselect)?opt.ui.camselect:\"#camselect\") ;\n\t\t\t\n\t\t\tthis.pixRatio = 1 \n\t\t\tthis.pox = {\n\t\t\t\tcan:this.can,\n\t\t\t\twwg:this.wwg,\n\t\t\t\tWWModel : WWModel,\n\t\t\t\tCanvasMatrix4 : CanvasMatrix4,\n\t\t\t\tMat4 : CanvasMatrix4,\n\t\t\t\tsynth:this.synth,\n\t\t\t\tpoxp:this\n\t\t\t}\n\t\t\tthis.eventListener = {}\n\n\t\t\tif(GPad) {\n\t\t\t\tthis.pox.gPad = new GPad()\n\t\t\t\tthis.pox.gPad.name = \"1\"\n\t\t\t\tthis.pox.gPad2 = new GPad()\n\t\t\t\tthis.pox.gPad2.name = \"2\"\n\t\t\t\tif(!this.pox.gPad.init(0,(pad,f)=>{\n\t\t\t\t\tif(f) {\n\t\t\t\t\t\tthis.pox.log(\"set 1\"+pad.gp.hand)\n\t\t\t\t\t}\n\t\t\t\t}))\n\t\t\t\tif(!this.pox.gPad2.init(1,(pad,f)=>{\n\t\t\t\t\tif(f) {\n\t\t\t\t\t\tthis.pox.log(\"set 2\"+pad.gp.hand)\n\t\t\t\t\t}\n\t\t\t\t}))\n\t\t//\t\tconsole.log(this.pox.gPad)\n\t\t\t\tthis.pox.gPad.ev = (pad)=> {\n\t\t\t\t\tret = this.callEvent(\"gpad\",pad) ;\n\t\t\t\t}\n\t\t\t\tthis.pox.gPad2.ev = (pad,b,p)=> {\n\t\t\t\t\tret = this.callEvent(\"gpad\",pad) ;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// canvas initialize\n\t\t\tthis.resize() ;\n\t\t\twindow.addEventListener(\"resize\",()=>{this.resize()}) ;\n\t\t\tthis.pause = true ;\n\n\t\t\t//set key capture dummy input\n\t\t\tconst e = document.createElement(\"input\") ;\n\t\t\te.setAttribute(\"type\",\"checkbox\") ;\n\t\t\te.style.position = \"absolute\" ; e.style.zIndex = -100 ;\n\t\t\te.style.top = 0 ;e.style.left = \"-20px\"\n\t\t\te.style.width = \"10px\" ; e.style.height =\"10px\" ; e.style.padding = 0 ; e.style.border = \"none\" ; e.style.opacity = 0 ;\n\t\t\tthis.can.parentNode.appendChild(e) ;\n\t\t\tthis.keyElelment = e ;\n\t\t\tthis.keyElelment.focus() ;\n\n\t\t\tthis.setEvent() ;\n\t\t\t// VR init \n\t\t\tPOXPDevice.checkVR(this).then(f=>{\n\t\t\t\tif(f) console.log((POXPDevice.vrDisplay)?\"WebVR\":\"WebXR\"+\" supported\")\n\t\t\t\tthis.vrReady = f \n\t\t\t})\n\t\t\t//create default camera\n\t\t\tthis.cam0 = this.createCamera()\n\t\t\tthis.cam0.setCam({camFar:10000})\n\t\t\tthis.cam1 = this.createCamera() ;\n\t\t\tthis.ccam = this.cam1 \n\t\t}\n\t\taddEvent(ev,cb) {\n\t\t\tlet el = null\n\t\t\tswitch(ev) {\n\t\t\t\tcase \"frame\":\n\t\t\t\t\tel = {cb:cb,active:true}\n\t\t\t\t\tthis.eventListener.frame.push(el)\n\t\t\t\t\tbreak \n\t\t\t\tcase \"gpad\":\n\t\t\t\t\tel = {cb:cb,active:true}\n\t\t\t\t\tthis.eventListener.gpad.push(el)\n\t\t\t\t\tbreak \n\t\t\t\tcase \"vrchange\":\n\t\t\t\t\tel = {cb:cb,active:true}\n\t\t\t\t\tthis.eventListener.vrchange.push(el)\n\t\t\t\t\tbreak \n\t\t\t}\n\t\t\treturn el\n\t\t}\n\t\tremoveEvent (ev) {\n\t\t\tthis.eventListener.frame = this.eventListener.frame.filter((e)=>(e!==ev))\n\t\t\tthis.eventListener.gpad = this.eventListener.gpad.filter((e)=>(e!==ev))\n\t\t\tthis.eventListener.vrchange = this.eventListener.vrchange.filter((e)=>(e!==ev))\n\t\t}\n\t\tclearEvent() {\n\t\t\tthis.eventListener.frame = []\n\t\t\tthis.eventListener.gpad = []\n\t\t\tthis.eventListener.vrchange = []\n\t\t}\n\t\tenterVR() {\n\t\t\tlet ret = true\n\t\t\tif(POXPDevice.VRReady) {\n\t\t\t\tconsole.log(\"enter VR\")\n\t\t\t\tPOXPDevice.presentVR(this)\n\t\t\t} else if(document.body.webkitRequestFullscreen) {\n\t\t\t\tconsole.log(\"fullscreen\")\n\t\t\t\tconst base = this.can.parentNode\n\t\t\t\tthis.ssize = {width:base.offsetWidth,height:base.offsetHeight}\n\t\t\t\tdocument.addEventListener(\"webkitfullscreenchange\",(ev)=>{\n\t\t\t\t\tif( document.webkitFullscreenElement) {\n\t\t\t\t\t\tbase.style.width = window.innerWidth + \"px\"\n\t\t\t\t\t\tbase.style.height = window.innerHeight + \"px\"\t\t\t\t\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbase.style.width = this.ssize.width + \"px\"\n\t\t\t\t\t\tbase.style.height = this.ssize.height + \"px\"\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tbase.webkitRequestFullscreen()\n\t\t\t} else ret = false \n\t\t\treturn ret \n\t\t}\n\t\texitVR() {\n\t\t\tif(POXPDevice.VRReady) {\n\t\t\t\tPOXPDevice.closeVR(this)\n\t\t\t}\n\t\t}\n\t\tsetEvent() {\n\t\t\t// mouse and key intaraction\n\t\t\tlet dragging = false ;\n\t\t\tconst Param = this.param ;\n\t\t\tconst can = this.can ;\n\n\t\t\t//mouse intraction\n\t\t\tconst m = new Pointer(can,{\n\t\t\t\tdown:(d)=> {\n\t\t\t\t\tif(!this.ccam || Param.pause) return true ;\n\t\t\t\t\tlet ret = true ;\n\t\t\t\t\tret = this.callEvent(\"down\",{x:d.x*this.pixRatio,y:d.y*this.pixRatio,sx:d.sx*this.pixRatio,sy:d.sy*this.pixRatio}) ;\n\t\t\t\t\tif(ret) this.ccam.event(\"down\",d)\n\t\t\t\t\tdragging = true ;\n\t\t\t\t\tif(this.ccam.cam.camMode==\"walk\") this.keyElelment.focus() ;\n\t\t\t\t\treturn false ;\n\t\t\t\t},\n\t\t\t\tmove:(d)=> {\n\t\t\t\t\tif(!this.ccam || Param.pause) return true;\n\t\t\t\t\tlet ret = true ;\n\t\t\t\t\tret = this.callEvent(\"move\",{x:d.x*this.pixRatio,y:d.y*this.pixRatio,ox:d.ox*this.pixRatio,oy:d.oy*this.pixRatio,dx:d.dx*this.pixRatio,dy:d.dy*this.pixRatio}) ;\n\t\t\t\t\tif(ret) this.ccam.event(\"move\",d) \n\t\t\t\t\treturn false ;\n\t\t\t\t},\n\t\t\t\tup:(d)=> {\n\t\t\t\t\tif(!this.ccam) return true ;\n\t\t\t\t\tdragging = false ;\n\t\t\t\t\tlet ret = true ;\n\t\t\t\t\tret = this.callEvent(\"up\",{x:d.x*this.pixRatio,y:d.y*this.pixRatio,dx:d.dx*this.pixRatio,dy:d.dy*this.pixRatio,ex:d.ex*this.pixRatio,ey:d.ey*this.pixRatio}) ;\n\t\t\t\t\tif(ret) this.ccam.event(\"up\",d)\n\t\t\t\t\treturn false ;\n\t\t\t\t},\n\t\t\t\tout:(d)=> {\n\t\t\t\t\tif(!this.ccam) return true ;\n\t\t\t\t\tdragging = false ;\n\t\t\t\t\tlet ret = true ;\n\t\t\t\t\tret = this.callEvent(\"out\",{x:d.x*this.pixRatio,y:d.y*this.pixRatio,dx:d.dx*this.pixRatio,dy:d.dy*this.pixRatio}) ;\n\t\t\t\t\tif(ret) this.ccam.event(\"out\",d) \n\t\t\t\t\treturn false ;\n\t\t\t\t},\n\t\t\t\twheel:(d)=> {\n\t\t\t\t\tif(!this.ccam || Param.pause) return true;\n\t\t\t\t\tlet ret = true ;\n\t\t\t\t\tret = this.callEvent(\"wheel\",d) ;\n\t\t\t\t\tif(ret) this.ccam.event(\"wheel\",d) \n\t\t\t\t\treturn false ;\n\t\t\t\t},\n\t\t\t\tgesture:(z,r)=> {\n\t\t\t\t\tif(!this.ccam || Param.pause) return true;\n\t\t\t\t\tlet ret = true ;\n\t\t\t\t\tret = this.callEvent(\"gesture\",{z:z,r:r}) ;\n\t\t\t\t\tif(ret) this.ccam.event(\"gesture\",{z:z,r:r}) \n\t\t\t\t\treturn false ;\n\t\t\t\t},\n\t\t\t\tgyro:(ev)=> {\n\t\t\t\t\tif(!this.ccam || Param.pause || POXPDevice.VRReady ) return true;\n\t\t\t\t\tif(dragging) return true ;\n\t\t\t\t\tlet ret = true ;\n\t\t\t\t\tret = this.callEvent(\"gyro\",ev) ;\n\t\t\t\t\tif(ret) this.ccam.event(\"gyro\",ev) \n\t\t\t\t\treturn false ;\n\t\t\t\t}\n\t\t\t})\n\t\t\tWBind.addev(this.keyElelment,\"keydown\", (ev)=>{\n\t\t//\t\tconsole.log(\"key:\"+ev.key);\n\t\t\t\tif( Param.pause) return true ;\n\t\t\t\tif(this.pox.event) {\n\t\t\t\t\tif(!this.callEvent(\"keydown\",ev)) return true ;\n\t\t\t\t}\n\t\t\t\tif(this.ccam) this.ccam.event(\"keydown\",ev) \n\t\t\t\treturn false ;\n\t\t\t})\n\t\t\tWBind.addev(this.keyElelment,\"keyup\", (ev)=>{\n\t\t//\t\tconsole.log(\"key up:\"+ev.key);\n\t\t\t\tif(Param.pause) return true ;\n\t\t\t\tif(this.pox.event) {\n\t\t\t\t\tif(!this.callEvent(\"keyup\",ev)) return true ;\n\t\t\t\t}\n\t\t\t\tif(this.ccam) this.ccam.event(\"keyup\",ev)\n\t\t\t\treturn false ;\n\t\t\t})\t\t\n\t\t\tdocument.querySelectorAll(\"#bc button\").forEach((o)=>{\n\t\t\t\to.addEventListener(\"mousedown\", (ev)=>{\n\t\t\t\t\tthis.callEvent(\"btndown\",ev.target.id) ;\n\t\t\t\t\tthis.ccam.event(\"keydown\",{key:ev.target.getAttribute(\"data-key\")})\n\t\t\t\t\tev.preventDefault()\n\t\t\t\t})\n\t\t\t\to.addEventListener(\"touchstart\", (ev)=>{\n\t\t\t\t\tthis.callEvent(\"touchstart\",ev.target.id) ;\n\t\t\t\t\tthis.ccam.event(\"keydown\",{key:ev.target.getAttribute(\"data-key\")})\n\t\t\t\t\tev.preventDefault()\n\t\t\t\t})\n\t\t\t\to.addEventListener(\"mouseup\", (ev)=>{\n\t\t\t\t\tthis.callEvent(\"btnup\",ev.target.id) ;\n\t\t\t\t\tthis.ccam.event(\"keyup\",{key:ev.target.getAttribute(\"data-key\")})\n\t\t\t\t\tthis.keyElelment.focus() ;\n\t\t\t\t\tev.preventDefault()\n\t\t\t\t})\n\t\t\t\to.addEventListener(\"touchend\", (ev)=>{\n\t\t\t\t\tret = true; \n\t\t\t\t\tret = this.callEvent(\"touchend\",ev.target.id) ;\n\t\t\t\t\tif(ret) this.ccam.event(\"keyup\",{key:ev.target.getAttribute(\"data-key\")})\n\t\t\t\t\tev.preventDefault()\n\t\t\t\t})\n\t\t\t})\n\n\t\t}\n\t\tresize() {\n\t\t//\tconsole.log(\"wresize:\"+document.body.offsetWidth+\" x \"+document.body.offsetHeight);\n\t\t\tif(this.can.offsetWidth < 300 || \n\t\t\t\t(POXPDevice.isPresenting)) return \n\t\t\tthis.can.width= this.can.offsetWidth*this.pixRatio*window.devicePixelRatio  ;\n\t\t\tthis.can.height = this.can.offsetHeight*this.pixRatio*window.devicePixelRatio  ;\n\t\t\tconsole.log(\"canvas:\"+this.can.width+\" x \"+this.can.height);\t\t\n\t\t}\n\t\tasync load(d) {\n\t\t\treturn new Promise((resolve,reject) => {\n\t\t\t\tif(typeof d == \"string\") {\n\t\t\t\t\tconst req = new XMLHttpRequest();\n\t\t\t\t\treq.open(\"get\",d,true) ;\n\t\t\t\t\treq.responseType = \"json\" ;\n\t\t\t\t\treq.onload = () => {\n\t\t\t\t\t\tif(req.status==200) {\n\t\t//\t\t\t\t\tconsole.log(req.response) ;\n\t\t\t\t\t\t\tresolve(req.response) ;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(\"Ajax error:\"+req.statusText) ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treq.onerror = ()=> {\n\t\t\t\t\t\treject(\"Ajax error:\"+req.statusText)\n\t\t\t\t\t}\n\t\t\t\t\treq.send() ;\n\t\t\t\t} else resolve(d) ;\n\t\t\t})\n\t\t}\n\n\t\tloadImage(path) {\n\t\t\tif(path.match(/^https?:/)) {\n\t\t\t\treturn this.wwg.loadImageAjax(path)\n\t\t\t}else {\n\t\t\t\treturn new Promise((resolve,reject) => {\n\t\t\t\t\tconst img = new Image() ;\n\t\t\t\t\timg.onload = ()=> {\n\t\t\t\t\t\tresolve( img ) ;\n\t\t\t\t\t}\n\t\t\t\t\timg.onerror = ()=> {\n\t\t\t\t\t\treject(\"cannot load image\") ;\n\t\t\t\t\t}\n\t\t\t\t\timg.src = path ;\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t\t\t\n\t\tasync set(d,param={},uidom) { \n\t\t\tconst VS = d.vs ;\n\t\t\tconst FS = d.fs ;\n\t\t\tthis.pox.src = d \n\t\t\tthis.pox.param = param \n\t\t\tconst POX = this.pox\n\n\t\t\tPOX.loadImage = this.loadImage \n\t\t\tPOX.loadAjax = this.wwg.loadAjax\n\t\t\tPOX.addEvent = (e,f) => this.addEvent(e,f)\n\t\t\tPOX.exitVR = this.exitVR \n\t\t\t\n\t\t\tPOX.V3add = function() {\n\t\t\t\tlet x=0,y=0,z=0 ;\n\t\t\t\tfor(let i=0;i<arguments.length;i++) {\n\t\t\t\t\tx += arguments[i][0] ;y += arguments[i][1] ;z += arguments[i][2] ;\n\t\t\t\t}\n\t\t\t\treturn [x,y,z] ;\n\t\t\t}\n\t\t\tPOX.V3len = function(v) {\n\t\t\t\treturn Math.hypot(v[0],v[1],v[2]) ;\n\t\t\t}\n\t\t\tPOX.V3norm = function(v,s) {\n\t\t\t\tconst l = V3len(v) ;\n\t\t\t\tif(s===undefined) s = 1 ;\n\t\t\t\treturn (l==0)?[0,0,0]:[v[0]*s/l,v[1]*s/l,v[2]*s/l] ;\n\t\t\t}\n\t\t\tPOX.V3mult = function(v,s) {\n\t\t\t\treturn [v[0]*s,v[1]*s,v[2]*s] ;\n\t\t\t}\n\t\t\tPOX.V3dot = function(v1,v2) {\n\t\t\t\treturn v1[0]*v2[0]+v1[1]*v2[1]+v1[2]*v2[2] ;\n\t\t\t}\n\t\t\tPOX.Vdistance = function(v1,v2) {\n\t\t\t\t\treturn Math.hypot(...v1.map((v,i)=>v-v2[i]))\n\t\t\t}\n\t\t\tPOX.setScene = async (scene)=> {\n\t\t\t\treturn new Promise((resolve,reject) => {\n\t\t\t\t\tthis.setScene(scene).then( () => {\n\t\t\t\t\t\tresolve() ;\n\t\t\t\t\t}).catch((err)=>\t {\n\t\t\t\t\t\tconsole.log(\"render err\"+err.stack)\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t\tPOX.log = (msg)=> {\n\t\t\t\tif(this.errCb) this.errCb(msg) ;\n\t\t\t}\n\t\t\tPOX.addModel = (model)=>{ if(this.render) return this.render.addModel(model) }\n\t\t\tPOX.removeModel = (model)=>{ if(this.render) return this.render.removeModel(model) }\n\t\t\tPOX.getModelData = (model)=>{ if(this.render) return this.render.getModelData(model) }\n\n\n\t\t//\tthis.parseJS(d.m).then((m)=> {\n\t\t\tif(typeof d.m  == \"string\") {\n\t\t\t\tconst m = await this.parseJS(d.m) ;\n\t\t\t\ttry {\n\t\t\t\t\tPOX.eval = new Function(\"POX\",'\"use strict\";'+m)\n\t\t\t\t}catch(err) {\n\t\t\t\t\tconsole.log(err)\n\t\t\t\t\tthis.emsg = (\"parse error \"+err.stack);\n\t\t//\t\t\tthrow new Error('reject!!')\n\t\t\t\t\treturn(null);\n\t\t\t\t}\n\t\t\t\ttry {\n\t\t\t\t\tPOX.eval(POX)\n\n\t\t\t\t}catch(err) {\n\t\t//\t\t\tconsole.log(err.stack)\n\t\t\t\t\tthis.emsg = (\"eval error \"+err.stack);\n\t\t//\t\t\tthrow new Error('reject!!2')\n\t\t\t\t\treturn(null);\n\t\t\t\t}\n\t\t\t} else if(d.m.constructor === Function) {\n\t\t\t\ttry {\n\t\t\t\t\td.m(POX)\n\t\t\t\t}catch(err) {\n\t\t//\t\t\tconsole.log(err.stack)\n\t\t\t\t\tthis.emsg = (\"eval error \"+err.stack);\n\t\t//\t\t\tthrow new Error('reject!!2')\n\t\t\t\t\treturn(null);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(POX.setting.needWGL2 && this.wwg.version!=2) {\n\t\t\t\tthis.emsg = \"needs WebGL 2.0\"\n\t\t\t\treturn(null)\n\t\t\t}\n\n\t\t\tif(uidom) this.setParam(uidom)\n\t\t\tif(POX.init) {\n\t\t\t\ttry {\n\t\t\t\t\tawait POX.init()\n\t\t\t\t}catch(err) {\n\t\t//\t\t\t\tconsole.log(err)\n\t\t\t\t\tthis.emsg = (\"init error \"+err.stack);\n\t\t//\t\t\t\tthrow new Error('reject!!2')\n\t\t\t\t\treturn null\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn(POX) ;\n\t\t}\n\t\tparseJS(src) {\n\n\t\t\treturn new Promise((resolve,reject) => {\n\t\t\t\tconst s = src.split(\"\\n\") ;\n\t\t\t\tconst inc = [] ;\n\t\t\t\tfor(let v of s) {\n\t\t\t\t\tif(v.match(/^\\/\\/\\@INCLUDE\\(\"(.+)\"\\)/)) {\n\t\t\t\t\t\tinc.push( this.wwg.loadAjax(RegExp.$1)) ;\n\t\t\t\t\t} \n\t\t\t\t}\n\t\t\t\tPromise.all(inc).then((res)=>{\n\t\t\t\t\tlet ret = [] ;\n\t\t\t\t\tlet c = 0 ;\n\t\t\t\t\tfor(let v of s) {\n\t\t\t\t\t\tif(v.match(/^\\/\\/\\@INCLUDE\\(\"(.+)\"\\)/)) {\n\t\t\t\t\t\t\tret = ret.concat(res[c++].split(\"\\n\"))\n\t\t\t\t\t\t} else ret.push(v) ;\n\t\t\t\t\t}\n\t\t\t\t\tresolve( ret.join(\"\\n\"))  ;\n\t\t\t\t})\n\t\t\t})\n\t\t}\n\t\tstop() {\n\t\t\twindow.cancelAnimationFrame(this.loop) ; \n\t\t\tif(this.pox.unload) this.pox.unload() ;\n\t\t}\n\t\tcls() {\n\t\t\tif(this.render) this.render.clear() ;\n\t\t}\n\t\tsetError(err) {\n\t\t\tthis.errCb = err ;\n\t\t}\n\t\tcallEvent(kind,ev,opt) {\n\t\t\tif(typeof ev == \"object\") ev.rtime = this.rtime\n\t\t\tlet ret = true \n\t\t\tif(this.pox.event) {\n\t\t\t\ttry {\n\t\t\t\t\tret = this.pox.event(kind,ev,opt)\n\t\t\t\t} catch(err) {\n\t\t\t\t\tthis.errCb(err.stack)\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(kind==\"vrchange\") {\n\t\t\t\tthis.ccam.vrchange(ev)\n\t\t\t\tfor(let i=0;i<this.eventListener.vrchange.length;i++) {\t//attached event\n\t\t\t\t\tconst f = this.eventListener.vrchange[i]\n\t\t\t\t\tif(f.active) {\n\t\t\t\t\t\tf.cb({vrmode:ev})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(kind==\"gpad\") {\n\t\t\t\tif(ev.dbtn[5]==-1) POXPDevice.closeVR()\n\t\t\t\tfor(let i=0;i<this.eventListener.gpad.length;i++) {\t//attached event\n\t\t\t\t\tconst f = this.eventListener.gpad[i]\n\t\t\t\t\tif(f.active) {\n\t\t\t\t\t\tlet p = {gpad:ev}\n\t\t\t\t\t\tif(ev.hand==\"left\") p.leftPad = ev\n\t\t\t\t\t\tif(ev.hand==\"right\") p.rightPad = ev\n\t\t\t\t\t\tif(this.pox.setting.primaryPad == ev.hand) p.primaryPad = ev\n\t\t\t\t\t\telse p.secondaryPad = ev \n\t\t\t\t\t\tf.cb(p)\n\t\t\t\t\t}\n\t\t\t\t}\t\t\n\t\t\t}\n\t\t\treturn ret \n\t\t}\n\t\tsetParam(dom) {\n\t\t\tconst param = this.pox.setting.param ;\n\t\t\tif(param===undefined) return ;\n\t\t\tthis.uparam = WBind.create()\n\t\t\tconst input = [] ;\n\t\t\tfor(let i in param) {\n\t\t\t\tconst p = param[i] ;\n\t\t\t\tconst name = (p.name)?p.name:i ;\n\t\t\t\tif(!p.type) p.type = \"range\" \n\t\t\t\tif(!p.step) p.step = 100 ;\n\t\t\t\tlet tag = `<div class=t>${name}</div> <input type=${p.type} id=\"_p_${i}\" min=0 max=${p.step} style=\"${(p.type==\"disp\")?\"display:none\":\"\"}\"  /><span id=${\"_p_d_\"+i}></span><br/>`\n\t\t\t\tinput.push(\n\t\t\t\t\ttag\n\t\t\t\t)\n\t\t\t}\n\t\t\tdom.innerHTML = input.join(\"\") \n\t\t\tfunction _tohex(v) {\n\t\t\t\tlet s = (v*255).toString(16) ;\n\t\t\t\tif(s.length==1) s = \"0\"+s ;\n\t\t\t\treturn s ;\n\t\t\t}\n\t\t\tfunction _setdisp(i,v) {\n\t\t\t\tif(param[i].type==\"color\" && v ) {\n\t\t\t\t\tdocument.getElementById('_p_d_'+i).innerHTML = v.map((v)=>v.toString().substr(0,5)) ;\n\t\t\t\t} else if(param[i].type==\"range\")  document.getElementById('_p_d_'+i).innerHTML = v.toString().substr(0,5) ;\t\n\t\t\t\telse document.getElementById('_p_d_'+i).innerHTML = v\n\t\t\t}\n\t\t\tfor(let i in param) {\n\t\t\t\tthis.uparam.bindInput(i,\"#_p_\"+i)\n\t\t\t\tthis.uparam.setFunc(i,{\n\t\t\t\t\tset:(v)=> {\n\t\t\t\t\t\tlet ret = v ;\n\t\t\t\t\t\tif(param[i].type==\"color\") {\n\t\t\t\t\t\t\tret = \"#\"+_tohex(v[0])+_tohex(v[1])+_tohex(v[2])\n\t\t\t\t\t\t} else if(param[i].type==\"range\") ret = (v - param[i].min)*(param[i].step)/(param[i].max - param[i].min)\n\t\t\t\t\t\telse ret = v ;\n\t\t//\t\t\t\tconsole.log(ret)\n\t\t\t\t\t\t_setdisp(i,v)\n\t\t\t\t\t\treturn ret \t\n\t\t\t\t\t},\n\t\t\t\t\tget:(v)=> {\n\t\t\t\t\t\tlet ret ;\n\t\t\t\t\t\tif(param[i].type==\"color\" ) {\n\t\t\t\t\t\t\tif(typeof v ==\"string\" && v.match(/#[0-9A-F]+/i)) {\n\t\t\t\t\t\t\t\tret =[parseInt(v.substr(1,2),16)/255,parseInt(v.substr(3,2),16)/255,parseInt(v.substr(5,2),16)/255] ;\n\t\t\t\t\t\t\t} else ret = v ;\n\t\t\t\t\t\t} else if(param[i].type==\"range\" ) ret = v*(param[i].max-param[i].min)/(param[i].step)+param[i].min\t\n\t\t\t\t\t\telse ret = v ;\t\t\n\t\t\t\t\t\treturn ret ;\n\t\t\t\t\t},\n\t\t\t\t\tinput:(v)=>{\n\t\t\t\t\t\t_setdisp(i,this.uparam[i])\n\t\t//\t\t\t\tthis.keyElelment.focus()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\tthis.uparam[i] = param[i].value ;\n\t\t\t}\n\t\t\tthis.pox.param = this.uparam ;\n\t\t}\n\n\n\t\tsetScene(sc) {\n\t\t//\tconsole.log(sc) ;\n\n\t\t\tconst wwg = this.wwg ;\n\t\t\tconst pox = this.pox ;\n\t\t\tconst can = this.can ;\n\n\t\t\tconst pixRatio = this.pixRatio\n\t\t\tconst Param = this.param ;\n\t\t\tconst sset = pox.setting || {} ;\n\t\t\tif(!sset.scale) sset.scale = 1.0 ;\n\t\t\tif(!sset.primaryPad) sset.primaryPad = \"right\";\n\t\t\t\n\t\t\tsc.vshader = {text:pox.src.vs} ;\n\t\t\tsc.fshader = {text:pox.src.fs} ;\n\t\t\tpox.scene = sc ;\n\n\t\t\t//create render unit\n\t\t\tconst r = wwg.createRender() ;\n\t\t\tthis.render = r ;\n\t\t\tpox.render = r ;\n\n\t\t\tlet ccam = this.ccam\n\t\t\t\n\t\t\tthis.isVR = false \n\t\t\tconst self = this \n\t\t\tconst bm = new CanvasMatrix4()\n\t\t\tconst mMtx = []\n\t\t\tconst vMtx = []\n\t\t\tconst mvMtx = []\n\t\t\tconst vpMtx = []\n\t\t\tconst iMtx = []\n\t\t\tconst miMtx = []\t\n\t\t\treturn new Promise((resolve,reject) => {\n\t\t\tr.setRender(sc).then(()=> {\t\n\t\t\t\tif(this.errCb) this.errCb(\"scene set ok\") ;\n\t\t\t\tif(this.renderStart) this.renderStart() ;\n\n\t\t\t\tif(pox.setting && pox.setting.pixRatio) { \n\t\t\t\t\tthis.pixRatio = pox.setting.pixRatio ;\n\t\t\t\t} else {\n\t\t\t\t\tthis.pixRatio = 1 ;\n\t\t\t\t}\n\t\t\t\tthis.resize();\n\t\t\t\t\n\t\t\t\tif(pox.setting.cam) this.cam1.setCam(pox.setting.cam)\n\t\t//\t\tif(ccam.cam.camMode==\"walk\") this.keyElelment.focus() ;\n\t\t\t\tthis.keyElelment.value = \"\" ;\n\t\t\t\tthis.clearEvent()\n\t\t\t\t\n\t\t\t\tresolve()\n\t\t\t\t//draw loop\n\t\t\t\tlet st = new Date().getTime() ;\n\t\t\t\tthis.ctime = st \n\t\t\t\tthis.ltime = st \n\t\t\t\tlet tt = 0 ;\n\t\t\t\tlet rt = 0 ;\n\t\t\t\tlet ft = st ;\n\t\t\t\tlet fc = 0 ;\n\t\t\t\tlet gpad \n\t\t\t\tconst loopf = (timestamp,frame) => {\n\t\t//\t\t\tconsole.log(\"************loop\")\n\t\t\t\t\tPOXPDevice.animationFrame(this,loopf,frame)\n\n\t\t\t\t\tconst ct = new Date().getTime() ;\n\t\t\t\t\tthis.ctime = ct \n\t\t\t\t\tif(Param.pause) {\n\t\t\t\t\t\tParam.fps=0;\n\t\t\t\t\t\ttt = rt ;\n\t\t\t\t\t\tst = ct ;\n\t\t\t\t\t\treturn ;\n\t\t\t\t\t}\n\t\t\t\t\trt = tt + ct-st ;\n\t\t\t\t\tfc++ ;\n\t\t\t\t\tif(ct-ft>=500) {\n\t\t//\t\t\t\tif(this.isVR) console.log(fc)\n\t\t\t\t\t\tParam.fps = Math.floor(fc*1000/(ct-ft)+0.5) ;\n\t\t\t\t\t\tfc = 0 ;\n\t\t\t\t\t\tft = ct ; \n\t\t\t\t\t}\n\t\t\t\t\tthis.ccam = (Param.camselect)?this.cam0:this.cam1\n\t\t\t\t\tccam = this.ccam \n\t\t\t\t\tpox.cam = ccam.cam ;\n\n\t\t\t\t\tif(Param.autorot) ccam.setCam({camRY:(rt/100)%360}) ;\n\t\t\t\t\tlet rp=null,lp=null,pp=null,sp=null\n\t\t\t\t\tif(pox.gPad) {\n\t\t\t\t\t\tlet p1 = pox.gPad.get()\n\t\t\t\t\t\tlet p2 = pox.gPad2.get() \n\t\t\t\t\t\tif(this.isVR) {\n\t\t\t\t\t\t\tif(!p1.emu && p1.hand == \"right\") rp = p1 ;\n\t\t\t\t\t\t\tif(!p1.emu && p1.hand == \"left\") lp = p1 ;\n\t\t\t\t\t\t\tif(!p2.emu && p2.hand == \"right\") rp = p2 ;\n\t\t\t\t\t\t\tif(!p2.emu && p2.hand == \"left\") lp = p2 \n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif(p1.hand == \"right\" ) rp = p1\n\t\t\t\t\t\t\tif(p2.hand == \"right\" ) rp = p2\t\t\t\t\n\t\t\t\t\t\t\tif(p1.hand == \"left\" ) lp = p1\n\t\t\t\t\t\t\tif(p2.hand == \"left\" ) lp = p2\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif(sset.primaryPad==\"left\") pp = lp,sp = rp\n\t\t\t\t\t\telse pp=rp,sp=lp\n\t\t\t\t\t\tif(!pp || !pp.conn) pp = sp, sp = null \n\t\t//\t\t\t\tconsole.log(pp)\n\t\t//\t\t\t\tconsole.log(sp)\n\t\t\t\t\t\tif(ccam.cam.gPad) ccam.setPad(pp,sp)\n\t\t\t\t\t}\n\t\t\t\t\tccam.update()\t// camera update\n\t\t\t\t\tlet camm = ccam.getMtx(sset.scale,(Param.isStereo || self.isVR)?1:0) ;\n\t\t\t\t\t\n\t\t\t\t\tfor(let i=0;i<this.eventListener.frame.length;i++) {\t//attached event\n\t\t\t\t\t\tconst f = this.eventListener.frame[i]\n\t\t\t\t\t\tif(f.active) {\n\t\t\t\t\t\t\tf.cb({render:r,pox:pox,ccam:ccam,cam:ccam.cam,rtime:rt,\n\t\t\t\t\t\t\t\trightPad:rp,leftPad:lp,primaryPad:pp,secondaryPad:sp})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tlet upd = {}\n\t\t\t\t\tif(pox.update)  upd = pox.update(r,ccam.cam,rt,-1)\n\t\t\t\t\tParam.updateTimer() ;\n\t\t\t\t\tupdate(r,pox,camm,rt,upd) ; // scene update \n\t\t\t\t\tPOXPDevice.submitFrame(this)\n\t\t\t\t\tthis.ltime = ct \n\t\t\t\t\tthis.rtime = rt \n\t\t\t\t}\n\t\t\t\tloopf() ;\t\t\n\t\t\t}).catch((err)=>{\n\t\t\t\tconsole.log(err) ;\n\t\t\t\tif(this.errCb) this.errCb(err.stack?err.stack:err) ;\n\t\t\t\treject(err) \n\t\t\t})\n\t\t\t}) // promise\n\t\t\t\n\t\t\tfunction getParentMtx(render,parent) {\n\t\t\t\tlet p = render.getModelData(parent) \n\t\t\t\tif(!p) return new Mat4() \n\t\t\t\tlet mm = new Mat4(p.bm)\n\t\t\t\tif(!mm) mm = new Mat4() \n\t\t\t\tif(p.mm) mm.multRight(p.mm)\n\t\t\t\tif(p.parent!==undefined) {\n\t\t\t\t\tmm.multRight( getParentMtx(render,p.parent)) \n\t\t\t\t} \n\t\t\t\treturn mm \n\t\t\t}\n\t\t\t// calc model matrix\n\t\t\tfunction modelMtx2(render,camm) {\n\n\t\t\t\t// calc each mvp matrix and invert matrix\n\t\t\t\tconst mod = [[],[]] ;\t\n\t\t\t\tconst models = render.data.model \t\n\t\t\t\tfor(let i=0;i<models.length;i++) {\n\t\t\t\t\tlet d = models[i] ;\n\t\t\t\t\tif(!d) continue \n\t\t\t\t\tbm.load(d.bm)\n\t\t\t\t\tif(d.mm) bm.multRight(d.mm) ;\n\t\t\t\t\tif(d.parent!==undefined) {\n\t\t\t\t\t\tbm.multRight( getParentMtx(render,d.parent ))\n\t\t\t\t\t}\n\t\t\t\t\tif(render.data.group) {\n\t\t\t\t\t\tlet g = render.data.group ;\n\t\t\t\t\t\tfor(let gi = 0 ;gi < g.length;gi++) {\n\t\t\t\t\t\t\tlet gg = g[gi] ;\n\t\t\t\t\t\t\tif(!gg.bm) continue ;\n\t\t\t\t\t\t\tfor(let ggi=0;ggi<gg.model.length;ggi++) {\n\t\t\t\t\t\t\t\tif(render.getModelIdx(gg.model[ggi])==i) bm.multRight(gg.bm) ;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!mMtx[i]) mMtx[i] = new CanvasMatrix4()\n\t\t\t\t\tif(!iMtx[i]) iMtx[i] = new CanvasMatrix4()\n\t\t\t\t\tif(!miMtx[i]) miMtx[i] = new CanvasMatrix4()\n\t\t\t\t\tif(!mvMtx[i]) mvMtx[i] = [new CanvasMatrix4(),new CanvasMatrix4()]\t\t\t\n\t\t\t\t\tif(!vpMtx[i]) vpMtx[i] = [new CanvasMatrix4(),new CanvasMatrix4()]\t\t\t\n\n\t\t\t\t\tconst uni0 = {\n\t\t\t\t\t\tvs_uni:{\n\t\t\t\t\t\t\tmodelMatrix:mMtx[i].load(bm).getAsWebGLFloatArray(),\n\t\t\t\t\t\t\tvpMatrix:vpMtx[i][0].load((d.camFix)?camm[0].camP:camm[0].camVP).getAsWebGLFloatArray(),\n\t\t\t\t\t\t\tmvpMatrix:mvMtx[i][0].load(bm).multRight( (d.camFix)?camm[0].camP:camm[0].camVP).getAsWebGLFloatArray(),\n\t\t\t\t\t\t\tinvMatrix:iMtx[i].load(bm).\n\t\t\t\t\t\t\t\tinvert().transpose().getAsWebGLFloatArray(),\n\t\t\t\t\t\t\tminvMatrix:miMtx[i].load(bm).\n\t\t\t\t\t\t\t\tinvert().getAsWebGLFloatArray()}\n\t\t\t\t\t}\n\t\t\t\t\tconst uni1 = {\n\t\t\t\t\t\tvs_uni:{\n\t\t\t\t\t\t\tmodelMatrix:mMtx[i].load(bm).getAsWebGLFloatArray(),\n\t\t\t\t\t\t\tvpMatrix:vpMtx[i][1].load((d.camFix)?camm[1].camP:camm[1].camVP).getAsWebGLFloatArray(),\n\t\t\t\t\t\t\tmvpMatrix:mvMtx[i][1].load(bm).multRight( (d.camFix)?camm[1].camP:camm[1].camVP).getAsWebGLFloatArray(),\n\t\t\t\t\t\t\tinvMatrix:iMtx[i].load(bm).\n\t\t\t\t\t\t\t\tinvert().transpose().getAsWebGLFloatArray(),\n\t\t\t\t\t\t\tminvMatrix:miMtx[i].load(bm).\n\t\t\t\t\t\t\t\tinvert().getAsWebGLFloatArray()}\n\t\t\t\t\t}\n\t\t\t\t\tuni0.fs_uni = uni0.vs_uni\n\t\t\t\t\tuni1.fs_uni = uni1.vs_uni\n\t\t\t\t\tuni0.fs_uni.vpMatrix_l = uni0.fs_uni.vpMatrix \n\t\t\t\t\tuni0.fs_uni.vpMatrix_r = uni1.fs_uni.vpMatrix \n\t\t\t\t\tuni1.fs_uni.vpMatrix_l = uni0.fs_uni.vpMatrix \n\t\t\t\t\tuni1.fs_uni.vpMatrix_r = uni1.fs_uni.vpMatrix \t\t\t\n\t\t\t\t\tmod[0][i] = uni0 \n\t\t\t\t\tmod[1][i] = uni1 \n\t\t\t\t}\n\t\t\t\tlet up = [{model:mod[0],fs_uni:{},vs_uni:{}},\n\t\t\t\t\t{model:mod[1],fs_uni:{},vs_uni:{}}]\n\n\t\t\t\tup[0].fs_uni.stereo = 1 ;\n\t\t\t\tup[0].fs_uni.resolution = [can.width,can.height]\n\t\t\t\tup[0].fs_uni.camMatirx = camm[0].camV.getAsWebGLFloatArray()\n\t\t\t\tup[0].fs_uni.eyevec = [camm[0].camX,camm[0].camY,camm[0].camZ]\n\t\t\t\tup[0].vs_uni.stereo = 1 ;\n\t\t\t\tup[0].vs_uni.camMatirx = up[0].fs_uni.camMatirx\n\t\t\t\tup[0].vs_uni.eyevec = up[0].fs_uni.eyevec \n\t\t\t\n\t\t\t\tup[1].fs_uni.stereo = 2  ;\n\t\t\t\tup[1].fs_uni.resolution = up[0].fs_uni.resolution\n\t\t\t\tup[1].fs_uni.camMatirx = camm[1].camV.getAsWebGLFloatArray()\n\t\t\t\tup[1].fs_uni.eyevec = [camm[1].camX,camm[1].camY,camm[1].camZ]\n\t\t\t\tup[1].vs_uni.stereo = 2  ;\t\n\t\t\t\tup[1].vs_uni.camMatirx = up[1].fs_uni.camMatirx\n\t\t\t\tup[1].vs_uni.eyevec = up[1].fs_uni.eyevec \t\n\t\t\t\treturn up ;\t\t\n\t\t\t}\n\t\t\t// update scene\n\n\t\t\tfunction update(render,pox,camm,time,update) {\n\t\t\t\t// draw call \n\n\t\t\t\trender.data.model.sort((a,b)=>{\n\t\t\t\t\tif(a===null) return -1\n\t\t\t\t\tif(b===null) return 1\n\t\t\t\t\tlet al = a.layer, bl = b.layer \n\t\t\t\t\tif(al===undefined) al = 0 \n\t\t\t\t\tif(bl===undefined) bl = 0 \n\t\t\t\t\treturn al- bl  \n\t\t\t\t}) \n\n\t\t\t\tif(Param.isStereo || self.isVR) {\n\t\t\t\t\tlet vp = POXPDevice.getViewport(can)\n\t\t\t\t\tif(POXPDevice.WebXR && POXPDevice.isPresenting) {\n\t\t//\t\t\t\tconsole.log(\"fbs\")\n\t\t\t\t\t\trender.gl.bindFramebuffer(render.gl.FRAMEBUFFER, \n\t\t\t\t\t\t\tPOXPDevice.webGLLayer.framebuffer)\n\t\t\t\t\t}\n\t\t\t\t\tlet mtx2 = modelMtx2(render,camm) ;\n\t\t\t\t\tif(update.vs_uni===undefined) update.vs_uni = {} ;\n\t\t\t\t\tif(update.fs_uni===undefined) update.fs_uni = {} ;\n\t\t\t\t\tupdate.fs_uni.time = time/1000 ;\n\t\t\t\t\tupdate.vs_uni.time = time/1000 ;\t\t\t\n\t\t\t\t\trender.gl.viewport(vp.leftViewport.x,vp.leftViewport.y, vp.leftViewport.width,vp.leftViewport.height) ;\n\t\t\t\t\trender.draw([update,mtx2[0]],false) ;\n\t\t\t\t\trender.gl.viewport(vp.rightViewport.x,vp.rightViewport.y, vp.rightViewport.width,vp.rightViewport.height) ;\n\t\t\t\t\trender.draw([update,mtx2[1]],true) ;\n\t\t\t\t\tif(POXPDevice.WebXR && POXPDevice.isPresenting) {\n\t\t//\t\t\t\tconsole.log(\"fbe\")\n\t\t\t\t\t\trender.gl.bindFramebuffer(render.gl.FRAMEBUFFER,null)\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tlet mtx2 = modelMtx2(render,camm) ;\n\t\t\t\t\tif(update.vs_uni===undefined) update.vs_uni = {} ;\n\t\t\t\t\tif(update.fs_uni===undefined) update.fs_uni = {} ;\n\t\t\t\t\tmtx2[0].vs_uni.stereo = 0 ;\n\t\t\t\t\tupdate.fs_uni.time = time/1000 ;\n\t\t\t\t\tupdate.vs_uni.time = time/1000 ;\t\n\t\t\t\t\trender.gl.viewport(0,0,can.width,can.height) ;\n\t\t\t\t\trender.draw([update,mtx2[0]],false) ;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t} //class Player\n\n\t// poxplayercamera object\n\tPlayer.prototype.createCamera = function(cam) {\n\t\treturn new this.Camera(this,cam) ;\n\t}\n\tPlayer.prototype.Camera = PoxCamera;\n\n\n\treturn pox.Player = Player;\n});\n\n\ndefine('skylark-pox/main',[\r\n\t\"./pox\",\r\n\t\"./Player\"\r\n],function(pox,PoxPlayer){\r\n\treturn pox;\r\n});\ndefine('skylark-pox', ['skylark-pox/main'], function (main) { return main; });\n\ndefine('skylark-vr360viewer/v360',[\n\t\"skylark-langx/skylark\",\n\t\"skylark-pox\",\n],function(skylark,poxp){\n\n\tvar WWModel = poxp.WWModel;\n\n\tconst src = {\"m\":\"let src,mode \\nlet angh = 63 \\nif(POX.param.param) {\\n\\tsrc = POX.param.param[0] ;\\n\\tmode = 0 \\n\\tif(POX.param.param[1]) mode = POX.param.param[1] ;\\n\\tif(mode==3 && POX.param.param[2]) angh = POX.param.param[2] ;\\n}\\n\\n//settings\\nPOX.setting={\\n\\tname:\\\"theta_view_vr4\\\",\\n\\tscale:1.0,\\n\\tgyro:true,\\n\\thighRefreshRate:true,\\n\\tfoveationLevel:0,\\n\\tcam:{\\n\\tcamMode:\\\"vr\\\",\\n\\tgPad:true,\\n\\tcamAngle:90,\\n\\tcamCX:0,\\n\\tcamCY:1.5,\\n\\tcamCZ:0,\\n\\tcamRX:0,\\n\\tcamRZ:0,\\n\\tcamRY:-90,\\n\\tcamFar:2000,\\n\\tcamNear:0.01}\\n};\\n// light params\\nconst lvec = [\\n\\t\\t[0,5,1],\\n\\t\\t[0,-1,0]\\n\\t]\\nconst lcol = [\\n\\t\\t[1,1,1],\\n\\t\\t[0.5,0.5,1]\\n\\t]\\nconst lparam = [\\n\\t\\t[1,0],\\n\\t\\t[0.5,0]\\n\\t]\\n//scenedatass\\nPOX.loadImage(src).then(function(img) {\\n\\tconst can1 = document.createElement('canvas') ;\\n\\tconst can2 = document.createElement('canvas') ;\\n\\tlet cw = (POX.wwg.version==1)?4096:img.width/2 \\n\\tlet ch = (POX.wwg.version==1)?4096:img.height\\n\\tlet sw = img.width/2 \\n\\tif(mode==5) {\\n\\t\\tcw = (POX.wwg.version==1)?4096:img.width\\n\\t\\tsw = img.width \\n\\t}\\n\\tif(cw>4096) {\\n\\t\\tch = ch * cw/4096 ;cw = 4096 ;\\n\\t}\\n\\tPOX.log(cw+\\\"*\\\"+ch)\\n\\tcan1.width = cw ;\\n\\tcan1.height = ch ;\\n\\tlet  ctx = can1.getContext(\\\"2d\\\") ;\\n\\tctx.drawImage(img,0,0,sw,img.height,0,0,cw,ch) ;\\n\\tcan2.width = cw \\n\\tcan2.height = ch \\n\\tctx = can2.getContext(\\\"2d\\\") \\n\\tctx.drawImage(img,sw,0,sw,img.height,0,0,cw,ch) ;\\n\\t\\n\\tconst sky = new POX.WWModel();\\n\\tsky.primitive(\\\"sphere\\\",{div:40,wx:20,wy:20,\\n\\twz:20,ninv:true});\\n\\t\\n\\tconst scene={\\n\\t\\tenv:{clear_color:[0.0,0.0,0.0,1.0],cull:true},\\n\\t\\tvs_uni:{\\n\\t\\t    col:[0.5,0.5,1.0,1.0]\\n\\t\\t},\\n\\t\\tfs_uni:{\\n\\t\\t\\tpamb:0.2,\\n\\t\\t\\tpdiff:0.8,\\n\\t\\t\\tpspec:0.,\\n\\t\\t\\tpref:0.0,\\n\\t\\t\\tdspec:60,\\n\\t\\t\\tambcolor:[0.,0.,0],\\n\\t\\t\\tlvec:lvec,\\n\\t\\t\\tlcol:lcol,\\n\\t\\t\\tlparam:lparam,\\n\\t\\t\\tcolmode:0,\\n\\t\\t\\tshmode:0,\\n\\t\\t\\tbcolor:[0,0,0,1],\\n\\t\\t\\tmode:mode,\\n\\t\\t\\tasp:img.width/img.height,\\n\\t\\t\\tangh:angh\\n\\t\\t},\\n\\t\\ttexture:[\\n\\t\\t\\t{canvas:can1,opt:{flevel:2,repeat:2}},\\n\\t\\t\\t{canvas:can2,opt:{flevel:2,repeat:2}}\\n\\t\\t],\\n\\t\\tmodel:[\\n\\t\\t\\t{geo:sky.objModel(),\\n\\t\\t\\tbm:new POX.CanvasMatrix4().translate(0,2,0),\\n\\t\\t\\tfs_uni:{colmode:10,shmode:1,tex1:0,tex2:1,mode:mode}\\n\\t\\t\\t},\\n\\t\\t\\t{geo:new POX.WWModel().primitive(\\\"plane\\\",\\n\\t\\t\\t{wx:40,wz:40}).objModel(),hide:mode!=5,\\n\\t\\t\\tbm:new POX.Mat4().translate(0,0,0),\\n\\t\\t\\tfs_uni:{colmode:3,bcolor:[0.2,0.2,0.2,1]}\\n\\t\\t\\t},\\n\\t\\t]\\n\\t}\\n\\tPOX.setScene(scene) ;\\n})\\nPOX.event = function(ev,d) {\\n\\tif(ev==\\\"vrchange\\\") {\\n\\t\\tPOX.log(\\\"vr \\\"+d)\\n\\t\\tif(d==1) {\\n\\t\\t\\tPOX.cam.camRX = 0 \\n\\t\\t}\\n\\t}\\n\\tif(ev==\\\"gpad\\\") {\\n//\\t\\tconsole.log(d.dpad)\\n\\t\\tif(d.dpad[0]>0 && d.axes[0]!=0) {\\n\\t\\t\\tPOX.cam.camRY += 30*(d.axes[0]>0?1:-1)\\n\\t\\t}\\n\\t\\tif(d.dbtn[4]>0) POX.poxp.exitVR()\\n\\t}\\n\\treturn true \\n}\\n\\n//sceneupdate\\nPOX.update=function(render,cam,time){\\n\\tconst ret={};\\n\\n\\treturn ret;\\n}\\t\\n\",\"vs\":\"attribute vec3 position;\\nattribute vec3 norm;\\nattribute vec2 uv ;\\n\\nuniform mat4 modelMatrix;\\nuniform mat4 mvpMatrix;\\nuniform mat4 invMatrix;\\nuniform vec4 col ;\\n\\nvarying vec3 tpos ;\\nvarying vec3 tnorm ;\\nvarying vec4 tcolor ;\\nvarying vec2 tuv;\\n\\nvoid main() {\\n\\tvec2 uv2 = uv ;\\n\\ttcolor = col ;\\n\\ttuv\\t= vec2(uv.x,1.0-uv.y);\\n\\ttpos = (modelMatrix * vec4(position,1.0)).xyz ;\\n\\ttnorm = (invMatrix * vec4(norm,0.0)).xyz ;\\n\\tgl_Position = mvpMatrix * vec4(position, 1.0) ;\\n}\\n\",\"fs\":\"precision highp float;\\nconst int lnum = 2 ;\\n\\nuniform int colmode ;\\t//0:basecolor 1:vertex color  2:texture 3:checker 4:sky\\nuniform int shmode ;\\t//0:normal shading 1:no shading\\nuniform vec4 bcolor ;\\nuniform vec3 eyevec ;\\nuniform float pamb ;\\nuniform float pdiff ;\\nuniform float pspec ;\\nuniform float pref ;\\nuniform float dspec ;\\nuniform vec3 ambcolor ;\\nuniform vec3 lvec[2];\\nuniform vec3 lcol[2];\\nuniform vec2 lparam[2] ;\\nuniform float time ;\\n\\nuniform int mode ;\\nuniform sampler2D tex1;\\nuniform sampler2D tex2;\\nuniform int stereo ;\\nuniform float asp ;\\nuniform float angh ;\\n\\nvarying vec3 tpos ;\\nvarying vec3 tnorm ;\\nvarying vec4 tcolor ;\\nvarying vec2 tuv;\\n\\nconst float PI = radians(180.) ;\\nconst vec3 spcol = vec3(1.,1.,1.) ;\\nconst float dd = 0.5 ;\\nconst float gamma = 1.0 ;\\nconst float checkdiv = 0.02 ;\\n\\nvec3 skycol(vec2 uv) {\\n\\tvec3 col ;\\n\\tconst vec3 skycol = vec3(0.4,0.4,1.0);\\n\\tconst vec3 horizoncol = vec3(0.8,0.8,0.8) ;\\n\\tconst vec3 fieldcol = vec3(0.4,1.0,0.4) ;\\n\\tif(uv.y<0.5) col = mix(skycol,horizoncol,pow(uv.y*2.,5.)) ;\\n\\telse col = mix(horizoncol,fieldcol,pow(uv.y-0.5,1.)*2.);\\n\\treturn col ;\\n}\\n\\nvec3 shade(vec3 col,vec3 norm) {\\n\\tvec3 ev = eyevec - tpos ;\\n\\tint i ;\\n\\tfloat diff,spec ;\\n\\tvec3 fcolor = vec3(0.);\\n\\tvec3 rcolor = vec3(0.) ;\\n\\t\\n\\tfor(int i=0;i<lnum;i++) {\\n\\t\\tfloat lp = lparam[i].x ;\\n\\t\\tif(lp==0.) continue ;\\n\\t\\tvec3 lv = lvec[i] ;\\n\\t\\tif(lparam[i].y!=0.) {\\n\\t\\t\\tlv = lv - tpos ;\\n\\t\\t\\tlp = (1.- pow(clamp(length(lv)/lparam[i].y,0.,1.),2.))*lparam[i].x ;\\n\\t\\t}\\n\\t\\tlv = normalize(lv) ;\\n\\t\\tdiff= clamp((dot(norm,lv)+dd)/(1.+dd),0.0,1.0);\\n\\t\\tif(pspec>0.)\\n\\t\\t\\tspec= pow(clamp(dot(norm,normalize(lv+normalize(ev))),0.0,1.0),dspec);\\n\\t\\tfcolor = fcolor + (col * diff * pdiff + spcol* spec * pspec)*lcol[i].rgb*lp;\\n\\t}\\n\\tif(pref>0.) {\\n\\t\\tvec3 ref = normalize(reflect(tpos - eyevec, tnorm));\\n\\t\\tvec2 tc = vec2(\\n\\t\\t\\t\\t(sign(ref.x)*acos(ref.z/sqrt(ref.x*ref.x+ref.z*ref.z))/PI+1.0)/2.0,\\n\\t\\t\\t\\tacos(ref.y)/PI\\n\\t\\t\\t) ;\\n\\t\\trcolor = skycol(tc) ;\\n\\t}\\n\\tfcolor = fcolor + col * ambcolor * pamb + rcolor * pref ;\\n\\tfcolor = pow(fcolor,vec3(1./gamma)) ;\\n\\treturn fcolor ;\\n}\\n\\nvec3 gb(sampler2D map,vec2 px, float b) {\\n\\tvec3 p = texture2D(map, px).xyz ;\\n\\treturn p ;\\n}\\nvec3 vrmap(int mode) {\\n\\tconst float PI = radians(180.0) ;\\n\\tconst float PI2 = PI+PI ;\\n\\tvec2 tc = tuv ;\\n\\tvec3 col ;\\n\\tif(mode==3) {\\n\\t\\tfloat ah = 180./angh ;\\n\\t\\tfloat aw = 360./(angh*asp) ;\\n\\t\\tfloat px = tc.x*aw*2.0 ;\\n\\t\\tfloat py = tc.y*ah+(0.5-ah/2.);\\n\\t\\tif(py<0. || py>1. || px-aw+1.<0. || px-aw>1.) col = bcolor.rgb ;\\n\\t\\telse col = (tc.x<0.5)?texture2D(tex1, vec2(px-aw+1.,py)).xyz:\\n\\t\\t\\ttexture2D(tex2, vec2(px-aw,py)).xyz ;\\t\\t\\n\\t} else if(mode==2) {\\n\\t\\tcol = (tc.x<0.25||tc.x>0.75)?bcolor.rgb:\\n\\t\\t((stereo==1)?texture2D(tex1, vec2(tc.x*2.0-0.5,tc.y)).xyz:\\n\\t\\t\\ttexture2D(tex2, vec2(tc.x*2.0-0.5,tc.y)).xyz) ;\\n\\t} else if(mode==1) {\\n\\t\\tcol = (tc.x<0.5)?texture2D(tex1, vec2(tc.x*2.0,tc.y/2.+((stereo==2)?0.5:0.))).xyz:\\n\\t\\t\\ttexture2D(tex2, vec2((tc.x-0.5)*2.0,tc.y/2.+((stereo==2)?0.5:0.))).xyz ;\\n\\t} else if(mode==5) {\\n\\t\\tif(tc.y > 0.5) col = ambcolor ;\\n\\t\\telse {\\n\\t\\t\\tfloat r = tc.x * PI2 + PI;\\n\\t\\t\\tfloat l = tc.y  ;\\n\\t\\t\\tcol = texture2D(tex1,\\n\\t\\t\\t\\tvec2( l*sin(r)+0.5 ,l*cos(r)+0.5)).xyz ;\\n\\t\\t}\\n\\t} else {\\n\\t\\tcol = (tc.x<0.5)?texture2D(tex1, vec2(tc.x*2.0,tc.y)).xyz:\\n\\t\\t\\ttexture2D(tex2, vec2((tc.x-0.5)*2.0,tc.y)).xyz ;\\n\\t}\\t\\n\\treturn col ;\\n}\\nvoid main() {\\n\\tvec4 color = (colmode==1)?tcolor:(colmode==2)?texture2D(tex1,tuv):bcolor ;\\n\\tvec3 col = color.rgb ;\\n\\tif(colmode==3) {\\n\\t\\tcol = col * \\n\\t\\t(((mod(tuv.x ,checkdiv) < checkdiv/2.) ^^ (mod(tuv.y ,checkdiv) < checkdiv/2.))?1.:0.8) ;\\n\\t}\\n\\tif(colmode==4) {\\n\\t\\tfloat sun = clamp(dot(normalize(lvec[0]),-normalize(reflect(normalize(tpos), tnorm))),0.,1.) ;\\n\\t\\tcol = skycol(tuv) + pow(sun,80.) * lcol[0]*0.6 ;\\n\\t}\\n\\tif(colmode==10) {\\n\\t\\tcol = vrmap(mode) ;\\n\\t}\\n\\tvec3 norm = normalize(tnorm) ;\\n\\n\\tgl_FragColor = vec4((shmode!=1)?shade(col,norm):col,color.a);\\n}\\n\"}\n\n\tfunction $(e){return document.getElementById(e)}\n\n\tfunction v360(base,param) {\n\t\tconst p = `<div class=cc>\n\t\t\t\t <span class=oswitch><label><input type=checkbox class=pause><span class=sbtn></span></label></span>\n\t\t\t\t <div class=pui></div></div>\n\t\t\t\t<div class=loading><img src=\"img/guruguru.gif\"></div>\n\t\t\t\t<div class=vrbtn></div>\n\t\t\t\t<div class=footer><a href=\"https://github.com/wakufactory/vr360/\" target=\"_blank\">vr360</a></div>`;\n\t\tconst div = document.createElement(\"div\");\n\t\tdiv.innerHTML = p \n\t\tbase.appendChild(div)\n\t\tconst can = document.createElement(\"canvas\") \n\t\tbase.appendChild(can)\n\t\tvar player = new poxp.Player(can,{ui:{\n\t\t\tautorot:base.querySelector(\".autorot\"),\n\t\t\tpause:base.querySelector(\".pause\"),\n\t\t\tisStereo:base.querySelector(\".isStereo\"),\n\t\t\tfps:base.querySelector(\".fps\")}}) ;\n\t\tbase.player = player;\n\t\tvar ss ;\n\t\tif(param.param[1]==1 || param.param[1]==2) player.param.isStereo=true \n\n\t\tplayer.load(param.src || src).then(function(src) {\n\t\t\tss = src ;\n\t\t\tplayer.set(src,{param:param.param}).then(function(pox){\n\t\t\t\tif(pox.setting.copyright) $(\"footer\").innerHTML += \"&nbsp;&nbsp;\"+pox.setting.copyright;\n\t\t\t\tplayer.setParam($('pui'))\n\t\t\t})\n\t\t}).catch(function(err) {\n\t\t\tbase.querySelector(\".loading\").style.display = \"none\" ;\n\t\t\talert(err) ;\n\t\t})\n\t\tplayer.renderStart = function() {\n\t\t\tbase.querySelector(\".thumb\").style.display = \"none\" ;\t\n\t\t\tbase.querySelector(\".loading\").style.display = \"none\" ;\t\n\t\t}\n\t\tplayer.setError( function(msg) {\n\t\t\tconsole.log(msg) ;\n\t\t})\n\n\t\tbase.querySelector(\".vrbtn\").addEventListener(\"click\", (ev)=>{\n\t\t\tconst o = ev.target.closest(\"div.poxe\")\n\t\t\tdocument.querySelectorAll('div.poxe').forEach((to)=>{\n\t\t\t\tif(to!=o && to.player) to.player.param.pause = true ;\n\t\t\t})\n\t\t\to.player.param.pause = false \n\t\t\tif(!player.enterVR()) {\n\t\t\t\tlocation.href=\"view.html?\"+param.src\n\t\t\t}\n\t\t}) \n\t}\n\n\treturn skylark.attach(\"intg.v360\",v360);\n});\n\ndefine('skylark-vr360viewer/main',[\r\n\t\"./v360\"\r\n],function(v360){\r\n\treturn v360;\r\n});\ndefine('skylark-vr360viewer', ['skylark-vr360viewer/main'], function (main) { return main; });\n\n"]}